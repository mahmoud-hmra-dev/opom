"use strict";(self.webpackChunkworklenz=self.webpackChunkworklenz||[]).push([[31],{88903:(et,B,e)=>{e.d(B,{K:()=>z});var h=e(47246),a=e(65879),C=e(96814);function t(v,n){if(1&v&&(a.TgZ(0,"div",1),a._UZ(1,"canvas",2),a.TgZ(2,"span",3),a._uU(3),a.qZA(),a.TgZ(4,"span",4),a._uU(5),a.qZA()()),2&v){const g=a.oxw();a.xp6(1),a.Q6J("data",g.barChartData)("options",g.barChartOptions)("plugins",g.barChartPlugins)("legend",!1)("type","bar"),a.xp6(2),a.hij("Estimated :",g.estimatedTimeString,""),a.xp6(2),a.hij("Actual :",g.actualTimeString,"")}}let z=(()=>{var v;class n{constructor(M){this.cdr=M,this.actualTime=0,this.estimatedTime=0,this.estimatedTimeString=null,this.actualTimeString=null,this.visible=!1,this.barChartLegend=!1,this.barChartPlugins=[],this.barChartData={labels:[""],datasets:[]},this.barChartOptions={plugins:{datalabels:{display:!1}},responsive:!1,maintainAspectRatio:!1,indexAxis:"y",scales:{x:{grid:{display:!1},display:!1},y:{grid:{display:!1},display:!1}}}}ngOnChanges(M){setTimeout(()=>{this.barChart?.update(),this.cdr.markForCheck()},1e3)}ngAfterViewInit(){this.visible=!0,setTimeout(()=>{this.barChart?.data?.datasets.push({data:[this.estimatedTime],label:"",backgroundColor:["#A5AAD9"]},{data:[this.actualTime],label:"",backgroundColor:["#c191cc"]}),this.barChart?.update(),this.cdr.markForCheck()},1e3)}}return(v=n).\u0275fac=function(M){return new(M||v)(a.Y36(a.sBO))},v.\u0275cmp=a.Xpm({type:v,selectors:[["worklenz-estimated-vs-actual-chart-common"]],viewQuery:function(M,Z){if(1&M&&a.Gf(h.jh,5),2&M){let S;a.iGM(S=a.CRH())&&(Z.barChart=S.first)}},inputs:{actualTime:"actualTime",estimatedTime:"estimatedTime",estimatedTimeString:"estimatedTimeString",actualTimeString:"actualTimeString"},features:[a.TTD],decls:1,vars:1,consts:[["class","position-relative",4,"ngIf"],[1,"position-relative"],["baseChart","","width","170","height","39",3,"data","options","plugins","legend","type"],[1,"estimated-time-span"],[1,"actual-time-span"]],template:function(M,Z){1&M&&a.YNc(0,t,6,7,"div",0),2&M&&a.Q6J("ngIf",Z.visible)},dependencies:[C.O5,h.jh],styles:[".estimated-time-span[_ngcontent-%COMP%]{position:absolute;top:3px;left:4px;font-size:12px;font-weight:500;width:100%;color:#000000d9!important}.actual-time-span[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:4px;font-size:12px;font-weight:500;width:100%;color:#000000d9!important}"],changeDetection:0}),n})()},34305:(et,B,e)=>{e.d(B,{f:()=>at});var h=e(15861),a=e(69649),C=e(94489),t=e(65879),z=e(60095),v=e(53980),n=e(975),g=e(9435),M=e(9172),Z=e(96814),S=e(92574),T=e(73460),D=e(62787),m=e(42840),E=e(70855),u=e(62595),P=e(8083),b=e(33640),J=e(55695),K=e(20824);const U=["searchInput"];function q(W,nt){if(1&W&&(t.ynx(0),t._uU(1),t.BQk()),2&W){const V=t.oxw(2);t.xp6(1),t.hij(" ",null==V.project?null:V.project.category_name," ")}}function H(W,nt){1&W&&(t.ynx(0),t._uU(1," Set Category "),t.BQk())}function A(W,nt){if(1&W&&(t.TgZ(0,"span",13),t.YNc(1,q,2,1,"ng-container",14),t.YNc(2,H,2,0,"ng-container",14),t.qZA()),2&W){const V=t.oxw();t.xp6(1),t.Q6J("ngIf",null==V.project?null:V.project.category_name),t.xp6(1),t.Q6J("ngIf",!(null!=V.project&&V.project.category_name))}}function N(W,nt){1&W&&t._UZ(0,"span",15)}function j(W,nt){if(1&W){const V=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(w){t.CHM(V);const L=t.oxw();return w.stopPropagation(),t.KtG(L.remove())}),t._UZ(1,"span",17),t.qZA()}}function k(W,nt){1&W&&(t.TgZ(0,"span",18),t._uU(1," Hit enter to create! "),t.qZA())}function $(W,nt){if(1&W){const V=t.EpF();t.TgZ(0,"li",19),t.NdJ("click",function(){const L=t.CHM(V).$implicit,y=t.oxw();return t.KtG(y.update(L.id))}),t._UZ(1,"nz-badge",20),t.qZA()}if(2&W){const V=nt.$implicit;t.xp6(1),t.Q6J("nzColor",V.color_code)("nzText",(null==V?null:V.name)||null)}}function ot(W,nt){1&W&&t._UZ(0,"span",21)}let at=(()=>{var W;class nt{get hasFilteredCategories(){return!!this.filteredCategories.length}get filteredCategories(){return this.searchPipe.transform(this.projCategories,this.categorySearchText)}constructor(x,w,L,y,R,Y,tt){this.ngZone=x,this.fb=w,this.categoriesApi=L,this.cdr=y,this.socket=R,this.auth=Y,this.searchPipe=tt,this.teamId=null,this.project=null,this.projCategories=[],this.session=null,this.categorySearchText=null,this.showText=!1,this.show=!1,this.loadingCategories=!0,this.handleResponse=F=>{F&&this.project&&F.id===this.project.id&&(this.project.category_id=F.category_id,this.project.category_name=F.category_name,this.project.category_color=F.category_color,this.reset(),this.cdr.markForCheck())},this.handleLabelsCreate=F=>{this.project&&F.id===this.project.id&&this.teamId&&F&&F.category_id&&(this.projCategories.push({id:F.category_id,name:F.category_name,color_code:F.category_color,team_id:this.teamId}),this.update(F.category_id),this.cdr.markForCheck())},this.form=this.fb.group({category:[]}),this.session=this.auth.getCurrentSession()}ngOnInit(){this.socket.on(C.C.PROJECT_CATEGORY_CHANGE.toString(),this.handleResponse),this.socket.on(C.C.CREATE_PROJECT_CATEGORY.toString(),this.handleLabelsCreate)}ngOnDestroy(){this.socket.removeListener(C.C.PROJECT_CATEGORY_CHANGE.toString(),this.handleResponse),this.socket.removeListener(C.C.CREATE_PROJECT_CATEGORY.toString(),this.handleLabelsCreate)}trackById(x,w){return w.id}getProjectCategories(){var x=this;return(0,h.Z)(function*(){if(x.teamId)try{x.loadingCategories=!0;const w=yield x.categoriesApi.getByTeamId(x.teamId);w.done&&(x.projCategories=w.body),x.loadingCategories=!1,x.cdr.markForCheck()}catch(w){(0,a.tu)(w),x.loadingCategories=!1,x.cdr.markForCheck()}})()}create(){!this.teamId||this.hasFilteredCategories||!this.categorySearchText||this.socket.emit(C.C.CREATE_PROJECT_CATEGORY.toString(),JSON.stringify({project_id:this.project?.id,name:this.categorySearchText,team_id:this.teamId,user_id:this.session?.id}))}update(x){x&&(this.socket.emit(C.C.PROJECT_CATEGORY_CHANGE.toString(),JSON.stringify({project_id:this.project?.id,category_id:x,is_update:!0})),this.cdr.markForCheck())}remove(){this.socket.emit(C.C.PROJECT_CATEGORY_CHANGE.toString(),JSON.stringify({project_id:this.project?.id,category_id:null,is_update:!1})),this.cdr.markForCheck()}handleLabelsVisibleChange(x){x?(this.show=!0,this.getProjectCategories(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.searchInput?.nativeElement?.focus()},100)})):this.reset()}reset(){this.searchInput?.nativeElement?.blur(),this.categorySearchText=null,this.show=!1,this.projCategories=[],this.showText=!1,this.form.controls.category.setValue(null),this.cdr.markForCheck()}}return(W=nt).\u0275fac=function(x){return new(x||W)(t.Y36(t.R0b),t.Y36(z.qu),t.Y36(v.s),t.Y36(t.sBO),t.Y36(n.s),t.Y36(g.e),t.Y36(M.g))},W.\u0275cmp=t.Xpm({type:W,selectors:[["worklenz-project-category"]],viewQuery:function(x,w){if(1&x&&t.Gf(U,5),2&x){let L;t.iGM(L=t.CRH())&&(w.searchInput=L.first)}},inputs:{teamId:"teamId",project:"project"},decls:16,vars:9,consts:[["nz-dropdown","","nzTrigger","click",1,"rounded-pill","position-relative",3,"nzColor","nzDropdownMenu","nzClickHide","nzVisible","nzVisibleChange"],[1,"align-items-center"],["class","ellipsis","style","max-width: 100px",4,"nzSpaceItem"],["nz-icon","","nzType","down","nzTheme","outline",4,"nzSpaceItem"],["nz-button","","nzType","text","class","clear-btn",3,"click",4,"ngIf"],["categoriesDropdown","nzDropdownMenu"],["nz-menu","",1,"members-dropdown"],[1,"px-3","py-2"],["nz-input","","placeholder","Search by name","type","text",1,"border-default-color","dropdown-search-input",3,"ngModel","ngModelChange","keydown.enter"],["searchInput",""],["nz-typography","","nzType","secondary",4,"ngIf"],["class","m-0","nz-menu-item","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["indicatorTemplate",""],[1,"ellipsis",2,"max-width","100px"],[4,"ngIf"],["nz-icon","","nzType","down","nzTheme","outline"],["nz-button","","nzType","text",1,"clear-btn",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","outline"],["nz-typography","","nzType","secondary"],["nz-menu-item","",1,"m-0",3,"click"],[3,"nzColor","nzText"],["nz-icon","","nzType","loading"]],template:function(x,w){if(1&x&&(t.TgZ(0,"nz-tag",0),t.NdJ("nzVisibleChange",function(y){return w.handleLabelsVisibleChange(y)}),t.TgZ(1,"nz-space",1),t.YNc(2,A,3,2,"span",2),t.YNc(3,N,1,0,"span",3),t.YNc(4,j,2,0,"button",4),t.qZA()(),t.TgZ(5,"nz-dropdown-menu",null,5)(7,"ul",6)(8,"li",7)(9,"div")(10,"input",8,9),t.NdJ("ngModelChange",function(y){return w.categorySearchText=y})("keydown.enter",function(){return w.create()}),t.qZA()(),t.YNc(12,k,2,0,"span",10),t.qZA(),t.YNc(13,$,2,2,"li",11),t.qZA()(),t.YNc(14,ot,1,0,"ng-template",null,12,t.W1O)),2&x){const L=t.MAs(6);t.Q6J("nzColor",null==w.project?null:w.project.category_color)("nzDropdownMenu",L)("nzClickHide",!1)("nzVisible",w.show),t.xp6(4),t.Q6J("ngIf",null==w.project?null:w.project.category_name),t.xp6(6),t.Q6J("ngModel",w.categorySearchText),t.xp6(2),t.Q6J("ngIf",!w.hasFilteredCategories),t.xp6(1),t.Q6J("ngForOf",w.filteredCategories)("ngForTrackBy",w.trackById)}},dependencies:[Z.sg,Z.O5,S.NU,S.$1,T.wO,T.r9,D.cm,D.RR,m.ix,E.w,u.Ls,z.Fj,z.JJ,z.On,P.ZU,b.x7,J.j,K.Zp],styles:["nz-tag[_ngcontent-%COMP%]{font-size:13px}nz-tag[_ngcontent-%COMP%]:hover   .clear-btn[_ngcontent-%COMP%]{opacity:1}input[_ngcontent-%COMP%]{min-width:225px;max-width:225px}.clear-btn[_ngcontent-%COMP%]{max-width:14px;position:absolute;right:6px;top:0;bottom:0;margin-top:auto;margin-bottom:auto;line-height:14px;max-height:14px;background:#ededed;padding:0;border-radius:100%;font-size:14px;opacity:0;transition:opacity .3s}.clear-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#959595;margin-top:-2px}.ellipsis[_ngcontent-%COMP%]{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),nt})()},28754:(et,B,e)=>{e.d(B,{W:()=>M});var h=e(94489),a=e(65879),C=e(975),t=e(96814),z=e(60095),v=e(9691),n=e(33640);function g(Z,S){if(1&Z&&(a.TgZ(0,"nz-option",3),a._UZ(1,"nz-badge",4),a.qZA()),2&Z){const T=S.$implicit;a.Q6J("nzValue",T.id)("nzLabel",T.name),a.xp6(1),a.Q6J("nzColor",T.color_code+"69")("nzText",T.name)}}let M=(()=>{var Z;class S{constructor(D,m){this.socket=D,this.cdr=m,this.projHealths=[],this.project=null,this.handleResponse=E=>{E&&this.project&&E.id===this.project.id&&(this.project.health_color=E.color_code,this.project.project_health=E.health_id,this.cdr.markForCheck())}}ngOnInit(){this.socket.on(h.C.PROJECT_HEALTH_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(h.C.PROJECT_HEALTH_CHANGE.toString(),this.handleResponse)}trackById(D,m){return m.id}handleHealthChange(D){this.project?.id&&(this.socket.emit(h.C.PROJECT_HEALTH_CHANGE.toString(),JSON.stringify({project_id:this.project?.id,health_id:D})),this.cdr.markForCheck())}}return(Z=S).\u0275fac=function(D){return new(D||Z)(a.Y36(C.s),a.Y36(a.sBO))},Z.\u0275cmp=a.Xpm({type:Z,selectors:[["worklenz-project-health-selector"]],inputs:{projHealths:"projHealths",project:"project"},decls:3,vars:6,consts:[[1,"py-0"],[1,"rounded-pill","custom-select",3,"ngModel","nzDropdownMatchSelectWidth","ngModelChange"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngFor","ngForOf","ngForTrackBy"],["nzCustomContent","",3,"nzValue","nzLabel"],[3,"nzColor","nzText"]],template:function(D,m){1&D&&(a.TgZ(0,"div",0)(1,"nz-select",1),a.NdJ("ngModelChange",function(u){return m.handleHealthChange(u)}),a.YNc(2,g,2,4,"nz-option",2),a.qZA()()),2&D&&(a.xp6(1),a.Udp("background",(null==m.project?null:m.project.health_color)+"69"),a.Q6J("ngModel",null==m.project?null:m.project.project_health)("nzDropdownMatchSelectWidth",!1),a.xp6(1),a.Q6J("ngForOf",m.projHealths)("ngForTrackBy",m.trackById))},dependencies:[t.sg,z.JJ,z.On,v.Ip,v.Vq,n.x7],changeDetection:0}),S})()},31930:(et,B,e)=>{e.d(B,{T:()=>D});var h=e(94489),a=e(65879),C=e(975),t=e(92574),z=e(60095),v=e(52682),n=e(75729),g=e(47053);function M(m,E){if(1&m){const u=a.EpF();a.TgZ(0,"nz-date-picker",4),a.NdJ("ngModelChange",function(b){a.CHM(u);const J=a.oxw();return a.KtG(J.handleStartDateChange(b))}),a.ALo(1,"validateMaxDate"),a.qZA()}if(2&m){const u=a.oxw();a.Q6J("ngModel",null==u.project?null:u.project.start_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set start date")("nzDisabledDate",a.lcZ(1,5,null==u.project?null:u.project.end_date))}}function Z(m,E){1&m&&(a.TgZ(0,"p",5),a._uU(1,"-"),a.qZA())}function S(m,E){if(1&m){const u=a.EpF();a.TgZ(0,"nz-date-picker",4),a.NdJ("ngModelChange",function(b){a.CHM(u);const J=a.oxw();return a.KtG(J.handleEndDateChange(b))}),a.ALo(1,"validateMinDate"),a.qZA()}if(2&m){const u=a.oxw();a.Q6J("ngModel",null==u.project?null:u.project.end_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set end date")("nzDisabledDate",a.lcZ(1,5,null==u.project?null:u.project.start_date))}}function T(m,E){}let D=(()=>{var m;class E{constructor(P,b){this.socket=P,this.cdr=b,this.project=null,this.handleStartdateChangeResponse=J=>{J&&this.project&&J.id===this.project.id&&(this.project.start_date=J.start_date,this.cdr.markForCheck())},this.handleEnddateChangeResponse=J=>{J&&this.project&&J.id===this.project.id&&(this.project.end_date=J.end_date,this.cdr.markForCheck())}}ngOnInit(){this.socket.on(h.C.PROJECT_START_DATE_CHANGE.toString(),this.handleStartdateChangeResponse),this.socket.on(h.C.PROJECT_END_DATE_CHANGE.toString(),this.handleEnddateChangeResponse)}ngOnDestroy(){this.socket.removeListener(h.C.PROJECT_START_DATE_CHANGE.toString(),this.handleStartdateChangeResponse),this.socket.removeListener(h.C.PROJECT_END_DATE_CHANGE.toString(),this.handleEnddateChangeResponse)}trackById(P,b){return b.id}handleStartDateChange(P){this.project?.id&&(this.socket.emit(h.C.PROJECT_START_DATE_CHANGE.toString(),JSON.stringify({project_id:this.project?.id,start_date:P})),this.cdr.markForCheck())}handleEndDateChange(P){this.project?.id&&(this.socket.emit(h.C.PROJECT_END_DATE_CHANGE.toString(),JSON.stringify({project_id:this.project?.id,end_date:P})),this.cdr.markForCheck())}}return(m=E).\u0275fac=function(P){return new(P||m)(a.Y36(C.s),a.Y36(a.sBO))},m.\u0275cmp=a.Xpm({type:m,selectors:[["worklenz-project-start-end-dates"]],inputs:{project:"project"},decls:6,vars:0,consts:[[1,"align-items-center"],["class","bg-transparent me-0","nzBorderless","",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange",4,"nzSpaceItem"],["class","mb-0 me-0",4,"nzSpaceItem"],["noIcon",""],["nzBorderless","",1,"bg-transparent","me-0",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange"],[1,"mb-0","me-0"]],template:function(P,b){1&P&&(a.TgZ(0,"nz-space",0),a.YNc(1,M,2,7,"nz-date-picker",1),a.YNc(2,Z,2,0,"p",2),a.YNc(3,S,2,7,"nz-date-picker",1),a.YNc(4,T,0,0,"ng-template",null,3,a.W1O),a.qZA())},dependencies:[t.NU,t.$1,z.JJ,z.On,v.uw,n.z,g.v],changeDetection:0}),E})()},71802:(et,B,e)=>{e.d(B,{M:()=>S});var h=e(94489),a=e(65879),C=e(975),t=e(96814),z=e(70855),v=e(62595),n=e(60095),g=e(9691),M=e(76271);function Z(T,D){if(1&T&&(a.TgZ(0,"nz-option",3),a.ALo(1,"safeString"),a._UZ(2,"span",4),a.ALo(3,"safeString"),a._uU(4),a.qZA()),2&T){const m=D.$implicit;a.Q6J("nzLabel",a.lcZ(1,6,m.name))("nzValue",m.id),a.xp6(2),a.Udp("color",m.color_code),a.Q6J("nzType",a.lcZ(3,8,m.icon)),a.xp6(2),a.hij(" ",m.name," ")}}let S=(()=>{var T;class D{constructor(E,u){this.socket=E,this.cdr=u,this.projStatuses=[],this.project=null,this.handleResponse=P=>{P&&this.project&&P.id===this.project.id&&(this.project.status_id=P.status,this.project.status_icon=P.status_icon,this.project.status_color=P.status_color,this.project.status_name=P.status_name,this.cdr.markForCheck())}}ngOnInit(){this.socket.on(h.C.PROJECT_STATUS_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(h.C.PROJECT_STATUS_CHANGE.toString(),this.handleResponse)}trackById(E,u){return u.id}handleStatusChange(E){this.project?.id&&(this.socket.emit(h.C.PROJECT_STATUS_CHANGE.toString(),JSON.stringify({project_id:this.project?.id,status_id:E})),this.cdr.markForCheck())}}return(T=D).\u0275fac=function(E){return new(E||T)(a.Y36(C.s),a.Y36(a.sBO))},T.\u0275cmp=a.Xpm({type:T,selectors:[["worklenz-project-status"]],inputs:{projStatuses:"projStatuses",project:"project"},decls:5,vars:11,consts:[["nz-icon","",3,"nzType","nzTheme"],["nzBorderless","",1,"project-status-selector-r",3,"ngModel","nzDropdownMatchSelectWidth","ngModelChange"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf","ngForTrackBy"],["nzCustomContent","",3,"nzLabel","nzValue"],["nz-icon","",3,"nzType"]],template:function(E,u){1&E&&(a._UZ(0,"span",0),a.ALo(1,"safeString"),a._uU(2),a.TgZ(3,"nz-select",1),a.NdJ("ngModelChange",function(b){return u.handleStatusChange(b)}),a.YNc(4,Z,5,10,"nz-option",2),a.qZA()),2&E&&(a.Udp("color",null==u.project?null:u.project.status_color),a.Q6J("nzType",a.lcZ(1,9,null==u.project?null:u.project.status_icon))("nzTheme","outline"),a.xp6(2),a.hij("\n",null==u.project?null:u.project.status_name," "),a.xp6(1),a.Q6J("ngModel",null==u.project?null:u.project.status_id)("nzDropdownMatchSelectWidth",!1),a.xp6(1),a.Q6J("ngForOf",u.projStatuses)("ngForTrackBy",u.trackById))},dependencies:[t.sg,z.w,v.Ls,n.JJ,n.On,g.Ip,g.Vq,M.m],styles:["nz-select[_ngcontent-%COMP%]{color:transparent;position:absolute;height:40px;top:2px;bottom:0;left:10px;margin-top:auto;margin-bottom:auto}"],changeDetection:0}),D})()},62806:(et,B,e)=>{e.d(B,{X:()=>V});var h=e(15861),a=e(71993),C=e(94489),t=e(16676),z=e.n(t),v=e(21406),n=e(65879),g=e(16196),M=e(42012),Z=e(62963),S=e(74764),T=e(63481),D=e(975),m=e(9435),E=e(96814),u=e(62595),P=e(20824),b=e(24139),J=e(13740),K=e(60095),U=e(33640),q=e(55695),H=e(10095),A=e(9691),N=e(8083),j=e(9172);function k(x,w){1&x&&n._UZ(0,"span",12)}function $(x,w){if(1&x&&n._UZ(0,"nz-option",16),2&x){const L=w.$implicit;n.Q6J("nzValue",L.id)("nzLabel",L.name)}}function ot(x,w){if(1&x){const L=n.EpF();n.TgZ(0,"nz-form-item",13)(1,"nz-form-label"),n._uU(2,"Filter by:\xa0"),n.qZA(),n.TgZ(3,"nz-form-control")(4,"nz-select",14),n.NdJ("ngModelChange",function(R){n.CHM(L);const Y=n.oxw();return n.KtG(Y.projectId=R)})("ngModelChange",function(R){n.CHM(L);const Y=n.oxw();return n.KtG(Y.onProjectChange(R))}),n.YNc(5,$,1,2,"nz-option",15),n.qZA()()()}if(2&x){const L=n.oxw();n.xp6(4),n.Q6J("ngModel",L.projectId)("nzPlaceHolder","Select project")("nzAllowClear",!0),n.xp6(1),n.Q6J("ngForOf",L.projects)}}function at(x,w){1&x&&(n.TgZ(0,"small",23),n._UZ(1,"span",24),n.qZA()),2&x&&(n.Q6J("nzType","secondary"),n.xp6(1),n.Q6J("nzType","double-right")("nzTheme","outline"))}function W(x,w){if(1&x){const L=n.EpF();n.TgZ(0,"tr",17),n.NdJ("click",function(){const Y=n.CHM(L).$implicit,tt=n.oxw();return n.KtG(tt.openTask(Y))}),n.TgZ(1,"td",18),n.YNc(2,at,2,3,"small",19),n._uU(3),n.qZA(),n.TgZ(4,"td"),n._UZ(5,"nz-badge",20),n.qZA(),n.TgZ(6,"td")(7,"nz-tag",21),n._uU(8),n.qZA()(),n.TgZ(9,"td")(10,"nz-tag",21),n._uU(11),n.qZA()(),n.TgZ(12,"td"),n._uU(13),n.ALo(14,"date"),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.ALo(17,"date"),n.qZA(),n.TgZ(18,"td",22),n._uU(19),n.qZA(),n.TgZ(20,"td",22),n._uU(21),n.qZA(),n.TgZ(22,"td",22),n._uU(23),n.qZA()()}if(2&x){const L=w.$implicit;n.xp6(2),n.Q6J("ngIf",L.parent_task_id),n.xp6(1),n.hij(" ",L.name," "),n.xp6(2),n.Q6J("nzColor",L.project_color)("nzText",L.project_name)("nzSize","default"),n.xp6(2),n.Q6J("nzColor",L.status_color+"69"),n.xp6(1),n.Oqu(L.status_name),n.xp6(2),n.Q6J("nzColor",L.priority_color+"69"),n.xp6(1),n.Oqu(L.priority_name),n.xp6(2),n.Oqu(n.xi3(14,14,L.end_date,"MMM dd,yyyy")||"-"),n.xp6(3),n.Oqu(n.xi3(17,17,L.completed_date,"MMM dd,yyyy")||"-"),n.xp6(3),n.Oqu(L.estimated_string),n.xp6(2),n.Oqu(L.time_spent_string),n.xp6(2),n.Oqu(L.overlogged_time)}}const nt=function(){return{x:"300px"}};let V=(()=>{var x;class w{constructor(y,R,Y,tt,F,rt,lt,_t){var X=this;this.cdr=y,this.api=R,this.service=Y,this.drawer=tt,this.view=F,this.timerService=rt,this.socket=lt,this.auth=_t,this.projectId=null,this.disableProjectsFilter=!1,this.isMultiple=!1,this.onlySingleMember=!1,this.isDurationLabelSelected=!0,this.loading=!1,this.loadingProjects=!1,this.tasks=[],this.projects=[],this.refreshList=ct=>{this.get(!1)},this.view.onRefresh.pipe((0,a.sL)()).subscribe(()=>{this.get(!1)}),this.timerService.onSubmitOrUpdate.pipe((0,a.sL)()).subscribe(()=>{this.get(!1)}),this.service.onDrawerDateRangeChange.pipe((0,a.sL)()).subscribe((0,h.Z)(function*(){yield X.get(!0)})),this.service.onDrawerDurationChange.pipe((0,a.sL)()).subscribe((0,h.Z)(function*(){yield X.get(!0)}))}ngOnInit(){this.get(),this.getProjects(),this.socket.on(C.C.TASK_STATUS_CHANGE.toString(),this.refreshList),this.socket.on(C.C.TASK_PRIORITY_CHANGE.toString(),this.refreshList),this.socket.on(C.C.TASK_NAME_CHANGE.toString(),this.refreshList),this.socket.on(C.C.TASK_END_DATE_CHANGE.toString(),this.refreshList),this.socket.on(C.C.TASK_START_DATE_CHANGE.toString(),this.refreshList),this.socket.on(C.C.TASK_TIME_ESTIMATION_CHANGE.toString(),this.refreshList),this.socket.on(C.C.TASK_TIMER_STOP.toString(),this.refreshList),this.socket.on(C.C.TASK_PHASE_CHANGE.toString(),this.refreshList)}ngOnDestroy(){this.socket.removeListener(C.C.TASK_STATUS_CHANGE.toString(),this.refreshList),this.socket.removeListener(C.C.TASK_PRIORITY_CHANGE.toString(),this.refreshList),this.socket.removeListener(C.C.TASK_NAME_CHANGE.toString(),this.refreshList),this.socket.removeListener(C.C.TASK_END_DATE_CHANGE.toString(),this.refreshList),this.socket.removeListener(C.C.TASK_START_DATE_CHANGE.toString(),this.refreshList),this.socket.removeListener(C.C.TASK_TIME_ESTIMATION_CHANGE.toString(),this.refreshList),this.socket.removeListener(C.C.TASK_TIMER_STOP.toString(),this.refreshList),this.socket.removeListener(C.C.TASK_PHASE_CHANGE.toString(),this.refreshList)}setDatesForKeys(){var y=this;return(0,h.Z)(function*(){if(y.service.getDrawerDuration()?.key){const R=y.service.getDrawerDuration()?.key,Y=z()();switch(R){case v.WD:const tt=z()().subtract(1,"days");y.service.setDrawerDateRange([tt.toString(),tt.toString()]);break;case v.ao:const F=z()().subtract(1,"weeks");y.service.setDrawerDateRange([F.toString(),Y.toString()]);break;case v.ly:const rt=z()().subtract(1,"months");y.service.setDrawerDateRange([rt.toString(),Y.toString()]);break;case v.o9:const lt=z()().subtract(3,"months");y.service.setDrawerDateRange([lt.toString(),Y.toString()]);break;case v.$U:const _t=z()().subtract(1,"weeks").startOf("week"),X=z()().subtract(1,"weeks").endOf("week");y.service.setDrawerDateRange([_t.toString(),X.toString()]);break;case v.lI:const ct=z()().subtract(1,"month").startOf("month"),pt=z()().subtract(1,"month").endOf("month");y.service.setDrawerDateRange([ct.toString(),pt.toString()])}}})()}get(y=!0){var R=this;return(0,h.Z)(function*(){if(!R.loading){R.loading=y,R.isDurationLabelSelected&&R.onlySingleMember&&(yield R.setDatesForKeys());try{const Y={duration:R.onlySingleMember?R.service.getDrawerDuration()?.key:R.service.getDuration()?.key,date_range:R.onlySingleMember?R.service.getDrawerDateRange():R.service.getDateRange(),only_single_member:R.onlySingleMember,archived:R.service.getIncludeToggle()},tt=yield R.api.getTasksByMember(R.teamMemberId,R.projectId,!1,null,Y);tt.done&&(R.tasks=tt.body),R.loading=!1}catch{R.loading=!1}R.cdr.markForCheck()}})()}getProjects(){var y=this;return(0,h.Z)(function*(){if(!y.disableProjectsFilter&&!y.loadingProjects){y.loadingProjects=!0;try{const R=y.service.getCurrentTeam()?.id,Y=yield y.api.getOverviewProjectsByTeam(R,y.teamMemberId);Y.done&&(y.projects=Y.body),y.loadingProjects=!1}catch{y.loadingProjects=!1}y.cdr.markForCheck()}})()}trackBy(y,R){return R.id}openTask(y){y.id&&y.project_id&&this.drawer.openTask({taskId:y.id,projectId:y.project_id})}onProjectChange(y){this.projectId=y,this.get()}}return(x=w).\u0275fac=function(y){return new(y||x)(n.Y36(n.sBO),n.Y36(g.U),n.Y36(M.m),n.Y36(Z.b),n.Y36(S.f),n.Y36(T.d),n.Y36(D.s),n.Y36(m.e))},x.\u0275cmp=n.Xpm({type:x,selectors:[["worklenz-rpt-flat-task-list"]],inputs:{projectId:"projectId",teamMemberId:"teamMemberId",disableProjectsFilter:"disableProjectsFilter",isMultiple:"isMultiple",onlySingleMember:"onlySingleMember",isDurationLabelSelected:"isDurationLabelSelected"},decls:32,vars:25,consts:[[1,"d-block",3,"nzLoading","nzActive"],[1,"d-flex","justify-content-between"],[1,"mb-3",2,"width","250px",3,"nzSuffix"],["type","text","nz-input","","placeholder","Search by name",3,"ngModel","ngModelChange"],["suffixIconSearch",""],["class","d-flex align-items-center",4,"ngIf"],[3,"nzSize","nzData","nzShowPagination","nzHideOnSinglePage","nzScroll"],["taskTable",""],["nzLeft","",3,"nzWidth"],[3,"nzWidth"],[1,"text-center",3,"nzWidth"],["class","cursor-pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["nz-icon","","nzType","search"],[1,"d-flex","align-items-center"],[2,"min-width","125px",3,"ngModel","nzPlaceHolder","nzAllowClear","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[1,"cursor-pointer",3,"click"],["nzLeft",""],["nz-typography","",3,"nzType",4,"ngIf"],[3,"nzColor","nzText","nzSize"],[3,"nzColor"],[1,"text-center"],["nz-typography","",3,"nzType"],["nz-icon","",3,"nzType","nzTheme"]],template:function(y,R){if(1&y&&(n.TgZ(0,"nz-skeleton",0)(1,"div",1)(2,"nz-input-group",2)(3,"input",3),n.NdJ("ngModelChange",function(tt){return R.searchText=tt}),n.qZA()(),n.YNc(4,k,1,0,"ng-template",null,4,n.W1O),n.YNc(6,ot,6,4,"nz-form-item",5),n.qZA(),n.TgZ(7,"nz-table",6,7),n.ALo(9,"searchByName"),n.TgZ(10,"thead")(11,"tr")(12,"th",8),n._uU(13,"Task"),n.qZA(),n.TgZ(14,"th",9),n._uU(15,"Project"),n.qZA(),n.TgZ(16,"th",9),n._uU(17,"Status"),n.qZA(),n.TgZ(18,"th",9),n._uU(19,"Priority"),n.qZA(),n.TgZ(20,"th",9),n._uU(21,"Due Date"),n.qZA(),n.TgZ(22,"th",9),n._uU(23,"Completed Date"),n.qZA(),n.TgZ(24,"th",10),n._uU(25,"Estimated Time"),n.qZA(),n.TgZ(26,"th",10),n._uU(27,"Logged Time"),n.qZA(),n.TgZ(28,"th",10),n._uU(29,"Overlogged Time"),n.qZA()()(),n.TgZ(30,"tbody"),n.YNc(31,W,24,20,"tr",11),n.qZA()()()),2&y){const Y=n.MAs(5),tt=n.MAs(8);n.Q6J("nzLoading",R.loading)("nzActive",!0),n.xp6(2),n.Q6J("nzSuffix",Y),n.xp6(1),n.Q6J("ngModel",R.searchText),n.xp6(3),n.Q6J("ngIf",!R.disableProjectsFilter),n.xp6(1),n.Q6J("nzSize","small")("nzData",n.xi3(9,21,R.tasks,R.searchText))("nzShowPagination",!0)("nzHideOnSinglePage",!0)("nzScroll",n.DdM(24,nt)),n.xp6(5),n.Q6J("nzWidth","260px"),n.xp6(2),n.Q6J("nzWidth","200px"),n.xp6(2),n.Q6J("nzWidth","160px"),n.xp6(2),n.Q6J("nzWidth","120px"),n.xp6(2),n.Q6J("nzWidth","150px"),n.xp6(2),n.Q6J("nzWidth","160px"),n.xp6(2),n.Q6J("nzWidth","150px"),n.xp6(2),n.Q6J("nzWidth","150px"),n.xp6(2),n.Q6J("nzWidth","150px"),n.xp6(3),n.Q6J("ngForOf",tt.data)("ngForTrackBy",R.trackBy)}},dependencies:[E.sg,E.O5,u.Ls,P.Zp,P.gB,P.ke,b.ng,J.N8,J.Uo,J._C,J.Om,J.p0,J.$Z,J.qn,K.Fj,K.JJ,K.On,U.x7,q.j,H.t3,H.SK,A.Ip,A.Vq,N.ZU,E.uU,j.g],styles:["nz-tag[_ngcontent-%COMP%]{border-radius:20px;color:#000000d9}"],changeDetection:0}),w})()},42528:(et,B,e)=>{e.d(B,{r:()=>D});var h=e(96814),a=e(62595),C=e(20824),t=e(24139),z=e(13740),v=e(60095),n=e(33640),g=e(55695),M=e(10095),Z=e(9691),S=e(8083),T=e(65879);let D=(()=>{var m;class E{}return(m=E).\u0275fac=function(P){return new(P||m)},m.\u0275mod=T.oAB({type:m}),m.\u0275inj=T.cJS({imports:[h.ez,a.PV,C.o7,t.H0,z.HQ,v.UX,v.u5,n.mS,g.X,M.Jb,Z.LV,S.ZJ]}),E})()},63124:(et,B,e)=>{e.d(B,{L:()=>E});var h=e(96814),a=e(33640),C=e(90565),t=e(10095),z=e(62595),v=e(20824),n=e(9691),g=e(24139),M=e(13740),Z=e(60095),S=e(38265),T=e(55695),D=e(8083),m=e(65879);let E=(()=>{var u;class P{}return(u=P).\u0275fac=function(J){return new(J||u)},u.\u0275mod=m.oAB({type:u}),u.\u0275inj=m.cJS({imports:[h.ez,a.mS,C.cD,t.Jb,z.PV,v.o7,n.LV,g.H0,M.HQ,Z.UX,Z.u5,S.u,T.X,D.ZJ]}),P})()},19703:(et,B,e)=>{e.d(B,{B:()=>q});var h=e(96814),a=e(62595),C=e(13740),t=e(24139),z=e(20824),v=e(60095),n=e(33640),g=e(42840),M=e(41958),Z=e(48128),S=e(55695),T=e(38265),D=e(48522),m=e(96109),E=e(9691),u=e(8660),P=e(91921),b=e(47246),J=e(92574),K=e(63392),U=e(65879);let q=(()=>{var H;class A{}return(H=A).\u0275fac=function(j){return new(j||H)},H.\u0275mod=U.oAB({type:H}),H.\u0275inj=U.cJS({imports:[h.ez,a.PV,C.HQ,t.H0,z.o7,v.u5,n.mS,g.sL,M.vG,Z.W,S.X,T.u,D.a,m.cg,E.LV,u.o,P.ReportingModule,b.vQ,J.zf,K.p]}),A})()},62963:(et,B,e)=>{e.d(B,{b:()=>t});var h=e(78645),a=e(65879),C=e(42012);let t=(()=>{var z;class v{constructor(g){this.rptService=g,this._openTeamDrawerSbj=new h.x,this._openProjectDrawerSbj=new h.x,this._openMemberDrawerSbj=new h.x,this._openSingleMemberDrawerSbj=new h.x,this._openTasksDrawerSbj=new h.x,this._openTaskDrawerSbj=new h.x,this._openSingleMemberTaskStat=new h.x,this._openSingleMemberProjects=new h.x,this._openSingleMemberTimeLogs=new h.x,this._singleMemberOverviewSbj=new h.x,this._singleMemberTimeLogsSbj=new h.x,this._singleMemberActivityLogsSbj=new h.x,this._singleMemberProjectsSbj=new h.x,this._singleMemberTasksSbj=new h.x}get onOpenTeam(){return this._openTeamDrawerSbj.asObservable()}get onOpenProject(){return this._openProjectDrawerSbj.asObservable()}get onOpenMember(){return this._openMemberDrawerSbj.asObservable()}get onOpenSingleMember(){return this._openSingleMemberDrawerSbj.asObservable()}get onOpenTasks(){return this._openTasksDrawerSbj.asObservable()}get onOpenTask(){return this._openTaskDrawerSbj.asObservable()}get onOpenSingleMemberTaskStat(){return this._openSingleMemberTaskStat.asObservable()}get onOpenSingleMemberProjects(){return this._openSingleMemberProjects.asObservable()}get onOpenSingleMemberTimeLogs(){return this._openSingleMemberTimeLogs.asObservable()}openTeam(g){this.rptService.setCurrentTeam(g),this._openTeamDrawerSbj.next(g)}openProject(g){this._openProjectDrawerSbj.next(g)}openMember(g,M){this._openMemberDrawerSbj.next({member:g,project:M})}openSingleMember(g){this._openSingleMemberDrawerSbj.next({member:g})}openTasks(g,M){this._openTasksDrawerSbj.next({project:g,member:M})}openTask(g){this._openTaskDrawerSbj.next(g)}openSingleMemberTaskStat(g){this._openSingleMemberTaskStat.next(g)}openSingleMemberProjects(g){this._openSingleMemberProjects.next(g)}openTimeLogsTab(){this._openSingleMemberTimeLogs.next()}emitGetSingleMemberOverview(){this._singleMemberOverviewSbj.next()}emitGetSingleMemberTimeLogs(){this._singleMemberTimeLogsSbj.next()}emitGetSingleMemberActivityLogs(){this._singleMemberActivityLogsSbj.next()}emitGetSingleMemberProjects(){this._singleMemberProjectsSbj.next()}emitGetSingleMemberTasks(){this._singleMemberTasksSbj.next()}}return(z=v).\u0275fac=function(g){return new(g||z)(a.LFG(C.m))},z.\u0275prov=a.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),v})()},27546:(et,B,e)=>{e.d(B,{$:()=>A});var h=e(96814),a=e(42840),C=e(43389),t=e(62595),z=e(92574),v=e(79382),n=e(41958),g=e(33640),M=e(82962),Z=e(10095),S=e(91921),T=e(19703),D=e(63124),m=e(42528),E=e(3626),u=e(47381),P=e(62787),b=e(73460),J=e(47246),K=e(60095),U=e(52682),q=e(3599),H=e(65879);let A=(()=>{var N;class j{}return(N=j).\u0275fac=function($){return new($||N)},N.\u0275mod=H.oAB({type:N}),N.\u0275inj=H.cJS({imports:[h.ez,a.sL,C.BL,t.PV,z.zf,v.we,n.vG,g.mS,M.vh,Z.Jb,S.ReportingModule,T.B,D.L,m.r,E.lt,u.t,P.b1,b.ip,J.vQ,K.u5,U.Hb,q.U5,K.UX]}),j})()},92022:(et,B,e)=>{e.d(B,{$:()=>Yt});var h=e(15861),a=e(71993),C=e(69649),t=e(65879),z=e(62963),v=e(42012),n=e(69342),g=e(96814),M=e(3626),Z=e(42840),S=e(70855),T=e(41958),D=e(43389),m=e(62595),E=e(92574),u=e(79382),P=e(47381),b=e(73460),J=e(62787),K=e(47246),U=e(94489),q=e(16196),H=e(975),A=e(33640),N=e(82962),j=e(10095);function k(l,O){if(1&l&&(t.TgZ(0,"ul",12)(1,"li",13),t._UZ(2,"span",14),t._uU(3),t.qZA(),t.TgZ(4,"li",13),t._UZ(5,"span",15),t._uU(6),t.qZA(),t.TgZ(7,"li",13),t._UZ(8,"span",16),t._uU(9),t.qZA(),t.TgZ(10,"li",13),t._UZ(11,"span",17),t._uU(12),t.qZA(),t.TgZ(13,"li",18),t._UZ(14,"span",14),t._uU(15),t.qZA()()),2&l){const _=t.oxw();t.xp6(2),t.Q6J("nzType","check-circle")("nzTheme","outline"),t.xp6(1),t.hij(" ",null==_.model.stats?null:_.model.stats.completed," Completed Tasks "),t.xp6(2),t.Q6J("nzType","file-excel")("nzTheme","outline"),t.xp6(1),t.hij(" ",null==_.model.stats?null:_.model.stats.incompleted," Incomplete Tasks "),t.xp6(2),t.Q6J("nzType","exclamation-circle")("nzTheme","outline"),t.xp6(1),t.hij(" ",null==_.model.stats?null:_.model.stats.overdue," Overdue Tasks "),t.xp6(2),t.Q6J("nzType","clock-circle")("nzTheme","outline"),t.xp6(1),t.hij(" ",null==_.model.stats?null:_.model.stats.total_allocated," Allocated Hours "),t.xp6(2),t.Q6J("nzType","clock-circle")("nzTheme","outline"),t.xp6(1),t.hij(" ",null==_.model.stats?null:_.model.stats.total_logged," Logged Hours ")}}function $(l,O){1&l&&(t.TgZ(0,"div",19)(1,"div")(2,"h4",20),t._uU(3,"Tasks By Status"),t.qZA()()())}function ot(l,O){1&l&&(t.ynx(0),t.TgZ(1,"div",21)(2,"div",22),t._UZ(3,"img",23),t.qZA(),t.TgZ(4,"span",24),t._uU(5,"No tasks to show."),t.qZA()(),t.BQk())}function at(l,O){if(1&l&&(t.TgZ(0,"div",30),t._UZ(1,"canvas",31),t.qZA()),2&l){const _=t.oxw(2);t.xp6(1),t.Q6J("width",185)("height",185)("data",_.statusChartData)("options",_.chartOptions)("legend",!1)("type","doughnut")}}function W(l,O){if(1&l&&(t.TgZ(0,"div",18),t.YNc(1,at,2,6,"div",25),t.TgZ(2,"div",26)(3,"ul",27)(4,"li",28),t._UZ(5,"nz-badge",29),t.qZA(),t.TgZ(6,"li",28),t._UZ(7,"nz-badge",29),t.qZA(),t.TgZ(8,"li",28),t._UZ(9,"nz-badge",29),t.qZA(),t.TgZ(10,"li",28),t._UZ(11,"nz-badge",29),t.qZA()()()()),2&l){const _=t.oxw();t.xp6(1),t.Q6J("ngIf",_.model.by_status&&_.model.by_status.chart.length),t.xp6(4),t.Q6J("nzColor","#333333")("nzText","All ("+((null==_.model.by_status?null:_.model.by_status.all)||0)+")"),t.xp6(2),t.Q6J("nzColor","#a9a9a9")("nzText","To Do ("+((null==_.model.by_status?null:_.model.by_status.todo)||0)+")"),t.xp6(2),t.Q6J("nzColor","#70a6f3")("nzText","Doing ("+((null==_.model.by_status?null:_.model.by_status.doing)||0)+")"),t.xp6(2),t.Q6J("nzColor","#75c997")("nzText","Done ("+((null==_.model.by_status?null:_.model.by_status.done)||0)+")")}}function nt(l,O){1&l&&(t.TgZ(0,"div",19)(1,"div")(2,"h4",20),t._uU(3,"Tasks By Priority"),t.qZA()()())}function V(l,O){1&l&&(t.ynx(0),t.TgZ(1,"div",21)(2,"div",22),t._UZ(3,"img",23),t.qZA(),t.TgZ(4,"span",24),t._uU(5,"No tasks to show."),t.qZA()(),t.BQk())}function x(l,O){if(1&l&&(t.TgZ(0,"div",30),t._UZ(1,"canvas",31),t.qZA()),2&l){const _=t.oxw(2);t.xp6(1),t.Q6J("width",185)("height",185)("data",_.priorityChartData)("options",_.chartOptions)("legend",!1)("type","doughnut")}}function w(l,O){if(1&l&&(t.TgZ(0,"div",18),t.YNc(1,x,2,6,"div",25),t.TgZ(2,"div",26)(3,"ul",27)(4,"li",28),t._UZ(5,"nz-badge",29),t.qZA(),t.TgZ(6,"li",28),t._UZ(7,"nz-badge",29),t.qZA(),t.TgZ(8,"li",28),t._UZ(9,"nz-badge",29),t.qZA(),t.TgZ(10,"li",28),t._UZ(11,"nz-badge",29),t.qZA()()()()),2&l){const _=t.oxw();t.xp6(1),t.Q6J("ngIf",_.model.by_priority&&_.model.by_priority.chart.length),t.xp6(4),t.Q6J("nzColor","#333333")("nzText","All ("+((null==_.model.by_priority?null:_.model.by_priority.all)||0)+")"),t.xp6(2),t.Q6J("nzColor","#75c997")("nzText","Low ("+((null==_.model.by_priority?null:_.model.by_priority.low)||0)+")"),t.xp6(2),t.Q6J("nzColor","#fbc84c")("nzText","Medium ("+((null==_.model.by_priority?null:_.model.by_priority.medium)||0)+")"),t.xp6(2),t.Q6J("nzColor","#f37070")("nzText","High ("+((null==_.model.by_priority?null:_.model.by_priority.high)||0)+")")}}function L(l,O){1&l&&(t.TgZ(0,"div",19)(1,"div")(2,"h4",20),t._uU(3,"Tasks By Due Date"),t.qZA()(),t._UZ(4,"div",32),t.qZA())}function y(l,O){1&l&&(t.ynx(0),t.TgZ(1,"div",21)(2,"div",22),t._UZ(3,"img",23),t.qZA(),t.TgZ(4,"span",24),t._uU(5,"No tasks to show."),t.qZA()(),t.BQk())}function R(l,O){if(1&l&&(t.TgZ(0,"div",30),t._UZ(1,"canvas",31),t.qZA()),2&l){const _=t.oxw(2);t.xp6(1),t.Q6J("width",185)("height",185)("data",_.duedateChartData)("options",_.chartOptions)("legend",!1)("type","doughnut")}}function Y(l,O){if(1&l&&(t.TgZ(0,"div",18),t.YNc(1,R,2,6,"div",25),t.TgZ(2,"div",26)(3,"ul",27)(4,"li",28),t._UZ(5,"nz-badge",29),t.qZA(),t.TgZ(6,"li",28),t._UZ(7,"nz-badge",29),t.qZA(),t.TgZ(8,"li",28),t._UZ(9,"nz-badge",29),t.qZA(),t.TgZ(10,"li",28),t._UZ(11,"nz-badge",29),t.qZA(),t.TgZ(12,"li",28),t._UZ(13,"nz-badge",29),t.qZA()()()()),2&l){const _=t.oxw();t.xp6(1),t.Q6J("ngIf",_.model.by_due&&_.model.by_due.chart.length),t.xp6(4),t.Q6J("nzColor","#333333")("nzText","All ("+((null==_.model.by_due?null:_.model.by_due.all)||0)+")"),t.xp6(2),t.Q6J("nzColor","#75c997")("nzText","Completed ("+((null==_.model.by_due?null:_.model.by_due.completed)||0)+")"),t.xp6(2),t.Q6J("nzColor","#70a6f3")("nzText","Upcoming ("+((null==_.model.by_due?null:_.model.by_due.upcoming)||0)+")"),t.xp6(2),t.Q6J("nzColor","#f37070")("nzText","Overdue ("+((null==_.model.by_due?null:_.model.by_due.overdue)||0)+")"),t.xp6(2),t.Q6J("nzColor","#a9a9a9")("nzText","No Due Date ("+((null==_.model.by_due?null:_.model.by_due.no_due)||0)+")")}}let tt=(()=>{var l;class O{constructor(p,c,I,G){this.cdr=p,this.api=c,this.ngZone=I,this.socket=G,this.projectId=null,this.isStatusChartEmpty=!1,this.isPriorityChartEmpty=!1,this.isDueDateChartEmpty=!1,this.statusColors=[],this.priorityColors=[],this.duedateColors=[],this.statusChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.statusColors,hoverOffset:2}]},this.priorityChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.priorityColors,hoverOffset:2}]},this.duedateChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.duedateColors,hoverOffset:2}]},this.chartOptions={plugins:{datalabels:{display:!1}},responsive:!1},this.loading=!1,this.model={},this.refresh=st=>{this.get()}}ngOnInit(){this.get(),this.listenSockets()}ngOnDestroy(){this.socket.removeListener(U.C.TASK_STATUS_CHANGE.toString(),this.refresh),this.socket.removeListener(U.C.TASK_PRIORITY_CHANGE.toString(),this.refresh),this.socket.removeListener(U.C.TASK_END_DATE_CHANGE.toString(),this.refresh),this.socket.removeListener(U.C.QUICK_TASK.toString(),this.refresh)}listenSockets(){this.socket.on(U.C.TASK_STATUS_CHANGE.toString(),this.refresh),this.socket.on(U.C.TASK_PRIORITY_CHANGE.toString(),this.refresh),this.socket.on(U.C.TASK_END_DATE_CHANGE.toString(),this.refresh),this.socket.on(U.C.QUICK_TASK.toString(),this.refresh)}get(){var p=this;return(0,h.Z)(function*(){if(p.projectId){try{p.loading=!0,p.clearCharts();const c=yield p.api.getProjectInfo(p.projectId);c.done&&(p.model=c.body,p.drawCharts(c.body)),p.loading=!1}catch{p.loading=!1}p.cdr.markForCheck()}})()}drawCharts(p){if(p.by_status){for(const c of p.by_status.chart)this.statusChartData.labels?.push(c.name),this.statusChartData.datasets[0].data.push(c.y||0),this.statusColors.push(c.color);this.statusTaskChart?.update(),this.statusChartData.datasets[0].data.every(c=>0===c)&&(this.isStatusChartEmpty=!0)}if(p.by_priority){for(const c of p.by_priority.chart)this.priorityChartData.labels?.push(c.name),this.priorityChartData.datasets[0].data.push(c.y||0),this.priorityColors.push(c.color);this.priorityTaskChart?.update(),this.priorityChartData.datasets[0].data.every(c=>0===c)&&(this.isPriorityChartEmpty=!0)}if(p.by_due){for(const c of p.by_due.chart)this.duedateChartData.labels?.push(c.name),this.duedateChartData.datasets[0].data.push(c.y||0),this.duedateColors.push(c.color);this.duedateTasksChart?.update(),this.duedateChartData.datasets[0].data.every(c=>0===c)&&(this.isDueDateChartEmpty=!0)}this.cdr.markForCheck()}openList(p){this.projectId&&this.ngZone.runOutsideAngular(()=>{const c=document.createElement("a");"status"===p&&(c.href=`/opom/projects/${this.projectId}?group=status`),"priority"===p&&(c.href=`/opom/projects/${this.projectId}?group=priority`),c.target="_blank",c.click()})}clearCharts(){this.statusChartData.datasets[0].data=[],this.priorityChartData.datasets[0].data=[],this.duedateChartData.datasets[0].data=[],this.statusChartData.labels=[],this.priorityChartData.labels=[],this.duedateChartData.labels=[],this.cdr.markForCheck()}}return(l=O).\u0275fac=function(p){return new(p||l)(t.Y36(t.sBO),t.Y36(q.U),t.Y36(t.R0b),t.Y36(H.s))},l.\u0275cmp=t.Xpm({type:l,selectors:[["worklenz-rpt-project-drawer-overview"]],viewQuery:function(p,c){if(1&p&&(t.Gf(K.jh,5),t.Gf(K.jh,5),t.Gf(K.jh,5)),2&p){let I;t.iGM(I=t.CRH())&&(c.statusTaskChart=I.first),t.iGM(I=t.CRH())&&(c.priorityTaskChart=I.first),t.iGM(I=t.CRH())&&(c.duedateTasksChart=I.first)}},inputs:{projectId:"projectId"},decls:25,vars:16,consts:[["nz-row","",3,"nzGutter"],["nz-col","",1,"mb-2",3,"nzSpan"],[1,"h-100",3,"nzLoading"],["class","list-unstyled mt-3 ps-4",4,"ngIf"],[3,"nzTitle"],["statusCardTitle",""],[1,"card-content"],[4,"ngIf"],["class","d-flex",4,"ngIf"],["nz-col","",1,"mt-2","mb-2",3,"nzSpan"],["priorityCardTitle",""],["duedateCardTitle",""],[1,"list-unstyled","mt-3","ps-4"],[1,"d-flex","mb-3"],["nz-icon","",1,"stat-icon","me-2",2,"color","#75c997",3,"nzType","nzTheme"],["nz-icon","",1,"stat-icon","me-2",2,"color","#ffc63b",3,"nzType","nzTheme"],["nz-icon","",1,"stat-icon","me-2",2,"color","#eb6363",3,"nzType","nzTheme"],["nz-icon","",1,"stat-icon","me-2",2,"color","#7cb5ec",3,"nzType","nzTheme"],[1,"d-flex"],[1,"d-flex","align-items-center"],[1,"mb-0"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],["class","position-relative","style","max-width: 200px",4,"ngIf"],[1,"chart-details","ms-3"],[1,"list-unstyled"],[1,"mb-1","chart-label"],[3,"nzColor","nzText"],[1,"position-relative",2,"max-width","200px"],["baseChart","",3,"width","height","data","options","legend","type"],[1,"ms-auto"]],template:function(p,c){if(1&p&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nz-card",2),t.YNc(3,k,16,15,"ul",3),t.qZA()(),t.TgZ(4,"div",1)(5,"nz-card",4),t.YNc(6,$,4,0,"ng-template",null,5,t.W1O),t.TgZ(8,"div",6),t.YNc(9,ot,6,0,"ng-container",7),t.YNc(10,W,12,9,"div",8),t.qZA()()(),t.TgZ(11,"div",9)(12,"nz-card",4),t.YNc(13,nt,4,0,"ng-template",null,10,t.W1O),t.TgZ(15,"div",6),t.YNc(16,V,6,0,"ng-container",7),t.YNc(17,w,12,9,"div",8),t.qZA()()(),t.TgZ(18,"div",9)(19,"nz-card",4),t.YNc(20,L,5,0,"ng-template",null,11,t.W1O),t.TgZ(22,"div",6),t.YNc(23,y,6,0,"ng-container",7),t.YNc(24,Y,14,11,"div",8),t.qZA()()()()),2&p){const I=t.MAs(7),G=t.MAs(14),st=t.MAs(21);t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzLoading",c.loading),t.xp6(1),t.Q6J("ngIf",null==c.model?null:c.model.stats),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",I),t.xp6(4),t.Q6J("ngIf",c.isStatusChartEmpty),t.xp6(1),t.Q6J("ngIf",!c.loading&&!c.isStatusChartEmpty),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",G),t.xp6(4),t.Q6J("ngIf",c.isPriorityChartEmpty),t.xp6(1),t.Q6J("ngIf",!c.loading&&!c.isPriorityChartEmpty),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",st),t.xp6(4),t.Q6J("ngIf",c.isDueDateChartEmpty),t.xp6(1),t.Q6J("ngIf",!c.loading&&!c.isDueDateChartEmpty)}},dependencies:[g.O5,S.w,m.Ls,A.x7,N.bd,j.t3,j.SK,K.jh],styles:[".stat-icon[_ngcontent-%COMP%]{font-size:24px!important}.chart[_ngcontent-%COMP%]{width:215px;max-width:215px}.chart-details[_ngcontent-%COMP%]{display:flex;align-items:center;height:220px;max-height:220px;overflow-y:auto}.chart-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.no-data-img-holder[_ngcontent-%COMP%]{width:65px}"],changeDetection:0}),O})();var F=e(60095),rt=e(20824),lt=e(48128),_t=e(24139),X=e(13740),ct=e(9172);function pt(l,O){1&l&&t._UZ(0,"span",10)}function ut(l,O){if(1&l){const _=t.EpF();t.TgZ(0,"tr",11),t.NdJ("click",function(){const I=t.CHM(_).$implicit,G=t.oxw();return t.KtG(G.openMember(I))}),t.TgZ(1,"td",12),t._uU(2),t.qZA(),t.TgZ(3,"td",13),t._uU(4),t.qZA(),t.TgZ(5,"td",13),t._uU(6),t.qZA(),t.TgZ(7,"td",13),t._uU(8),t.qZA(),t.TgZ(9,"td",13),t._uU(10),t.qZA(),t.TgZ(11,"td",14),t._UZ(12,"nz-progress",15),t.qZA(),t.TgZ(13,"td",14),t._UZ(14,"nz-progress",15),t.qZA(),t.TgZ(15,"td",13),t._uU(16),t.qZA()()}if(2&l){const _=O.$implicit;t.xp6(2),t.Oqu(_.name),t.xp6(2),t.Oqu(_.tasks_count),t.xp6(2),t.Oqu(_.completed),t.xp6(2),t.Oqu(_.incompleted),t.xp6(2),t.Oqu(_.overdue),t.xp6(2),t.Q6J("nzPercent",_.contribution),t.xp6(2),t.Q6J("nzPercent",_.progress),t.xp6(2),t.hij(" ",_.time_logged," ")}}const Tt=function(){return{x:"200px"}};let Ct=(()=>{var l;class O{constructor(p,c){this.cdr=p,this.api=c,this.projectId=null,this.selectMember=new t.vpe,this.loading=!1,this.members=[]}ngOnInit(){this.get()}trackBy(p,c){return c.id}get(){var p=this;return(0,h.Z)(function*(){if(p.projectId){try{p.loading=!0;const c=yield p.api.getProjectMembers(p.projectId);c.done&&(p.members=c.body),p.loading=!1}catch{p.loading=!1}p.cdr.markForCheck()}})()}openMember(p){p&&this.selectMember.emit(p)}}return(l=O).\u0275fac=function(p){return new(p||l)(t.Y36(t.sBO),t.Y36(q.U))},l.\u0275cmp=t.Xpm({type:l,selectors:[["worklenz-rpt-project-drawer-members"]],inputs:{projectId:"projectId"},outputs:{selectMember:"selectMember"},decls:28,vars:23,consts:[[1,"d-block",3,"nzLoading","nzActive"],[1,"mb-3",2,"width","250px",3,"nzSuffix"],["type","text","nz-input","","placeholder","Search by name",3,"ngModel","ngModelChange"],["suffixIconSearch",""],[3,"nzSize","nzData","nzShowPagination","nzHideOnSinglePage","nzScroll"],["membersTable",""],["nzLeft","",3,"nzWidth"],[1,"text-center",3,"nzWidth"],[3,"nzWidth"],["class","cursor-pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["nz-icon","","nzType","search"],[1,"cursor-pointer",3,"click"],["nzLeft",""],[1,"text-center"],[1,"px-3"],["nzSize","small",3,"nzPercent"]],template:function(p,c){if(1&p&&(t.TgZ(0,"nz-skeleton",0)(1,"nz-input-group",1)(2,"input",2),t.NdJ("ngModelChange",function(G){return c.searchText=G}),t.qZA()(),t.YNc(3,pt,1,0,"ng-template",null,3,t.W1O),t.TgZ(5,"nz-table",4,5),t.ALo(7,"searchByName"),t.TgZ(8,"thead")(9,"tr")(10,"th",6),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th",7),t._uU(13,"Tasks Count"),t.qZA(),t.TgZ(14,"th",7),t._uU(15,"Completed Tasks"),t.qZA(),t.TgZ(16,"th",7),t._uU(17,"Incomplete Tasks"),t.qZA(),t.TgZ(18,"th",7),t._uU(19,"Overdue Tasks"),t.qZA(),t.TgZ(20,"th",8),t._uU(21,"Contribution"),t.qZA(),t.TgZ(22,"th",8),t._uU(23,"Progress"),t.qZA(),t.TgZ(24,"th",7),t._uU(25,"Logged Time"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,ut,17,8,"tr",9),t.qZA()()()),2&p){const I=t.MAs(4),G=t.MAs(6);t.Q6J("nzLoading",c.loading)("nzActive",!0),t.xp6(1),t.Q6J("nzSuffix",I),t.xp6(1),t.Q6J("ngModel",c.searchText),t.xp6(3),t.Q6J("nzSize","small")("nzData",t.xi3(7,19,c.members,c.searchText))("nzShowPagination",!0)("nzHideOnSinglePage",!0)("nzScroll",t.DdM(22,Tt)),t.xp6(5),t.Q6J("nzWidth","260px"),t.xp6(2),t.Q6J("nzWidth","120px"),t.xp6(2),t.Q6J("nzWidth","120px"),t.xp6(2),t.Q6J("nzWidth","120px"),t.xp6(2),t.Q6J("nzWidth","120px"),t.xp6(2),t.Q6J("nzWidth","180px"),t.xp6(2),t.Q6J("nzWidth","180px"),t.xp6(2),t.Q6J("nzWidth","120px"),t.xp6(3),t.Q6J("ngForOf",G.data)("ngForTrackBy",c.trackBy)}},dependencies:[g.sg,S.w,m.Ls,F.Fj,F.JJ,F.On,rt.Zp,rt.gB,rt.ke,lt.M,_t.ng,X.N8,X.Uo,X._C,X.Om,X.p0,X.$Z,X.qn,ct.g],changeDetection:0}),O})();var zt=e(55416),Et=e(74764),ft=e(63481),dt=e(90565),mt=e(9691),vt=e(55695),Pt=e(8083);function At(l,O){1&l&&t._UZ(0,"span",10),2&l&&t.Q6J("nzType","search")}function Ot(l,O){if(1&l&&t._UZ(0,"nz-option",11),2&l){const _=O.$implicit;t.Q6J("nzValue",_.value)("nzLabel",_.label)}}function Mt(l,O){1&l&&(t.TgZ(0,"th",17),t._uU(1,"Status"),t.qZA()),2&l&&t.Q6J("nzWidth","120px")}function Dt(l,O){1&l&&(t.TgZ(0,"th",17),t._uU(1,"Priority"),t.qZA()),2&l&&t.Q6J("nzWidth","120px")}function xt(l,O){1&l&&(t.TgZ(0,"th",17),t._uU(1,"Phase"),t.qZA()),2&l&&t.Q6J("nzWidth","150px")}function yt(l,O){1&l&&(t.TgZ(0,"small",26),t._UZ(1,"span",27),t.qZA()),2&l&&(t.Q6J("nzType","secondary"),t.xp6(1),t.Q6J("nzType","double-right")("nzTheme","outline"))}function Zt(l,O){if(1&l&&(t.TgZ(0,"td")(1,"nz-tag",28),t._uU(2),t.qZA()()),2&l){const _=t.oxw().$implicit;t.xp6(1),t.Q6J("nzColor",_.status_color),t.xp6(1),t.Oqu(_.status_name)}}function Rt(l,O){if(1&l&&(t.TgZ(0,"td")(1,"nz-tag",28),t._uU(2),t.qZA()()),2&l){const _=t.oxw().$implicit;t.xp6(1),t.Q6J("nzColor",_.priority_color),t.xp6(1),t.Oqu(_.priority_name)}}function jt(l,O){if(1&l&&(t.TgZ(0,"nz-tag",28),t._uU(1),t.qZA()),2&l){const _=t.oxw(2).$implicit;t.Q6J("nzColor",_.phase_color),t.xp6(1),t.Oqu(_.phase_name)}}function Lt(l,O){1&l&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function It(l,O){if(1&l&&(t.TgZ(0,"td"),t.YNc(1,jt,2,2,"nz-tag",29),t.YNc(2,Lt,2,0,"span",24),t.qZA()),2&l){const _=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",_.phase_name),t.xp6(1),t.Q6J("ngIf",!_.phase_name)}}function St(l,O){if(1&l){const _=t.EpF();t.TgZ(0,"tr",21)(1,"td",22),t.NdJ("click",function(){const I=t.CHM(_).$implicit,G=t.oxw(2);return t.KtG(G.openTask(I))}),t.YNc(2,yt,2,3,"small",23),t._uU(3),t.qZA(),t.YNc(4,Zt,3,2,"td",24),t.YNc(5,Rt,3,2,"td",24),t.YNc(6,It,3,2,"td",24),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td",25),t._uU(14),t.qZA(),t.TgZ(15,"td",25),t._uU(16),t.qZA(),t.TgZ(17,"td",25),t._uU(18),t.qZA(),t.TgZ(19,"td",25),t._uU(20),t.qZA()()}if(2&l){const _=O.$implicit,p=t.oxw(2);t.xp6(2),t.Q6J("ngIf",_.parent_task_id),t.xp6(1),t.hij(" ",_.name," "),t.xp6(1),t.Q6J("ngIf",!p.isGroupByStatus()),t.xp6(1),t.Q6J("ngIf",!p.isGroupByPriority()),t.xp6(1),t.Q6J("ngIf",!p.isGroupByPhase()),t.xp6(2),t.Oqu(t.xi3(9,11,_.end_date,"MMM dd,yyyy")||"-"),t.xp6(3),t.Oqu(t.xi3(12,14,_.completed_at,"MMM dd,yyyy")||"-"),t.xp6(3),t.Oqu(_.overdue_days||"-"),t.xp6(2),t.Oqu(_.total_time_string),t.xp6(2),t.Oqu(_.time_spent_string),t.xp6(2),t.Oqu(_.overlogged_time_string)}}function Ut(l,O){if(1&l&&t._UZ(0,"nz-badge",30),2&l){const _=t.oxw().$implicit;t.Q6J("nzColor",_.color_code.slice(0,7))("nzText",_.name+" ("+_.tasks.length+")")}}const bt=function(){return{x:"300px"}};function wt(l,O){if(1&l&&(t.TgZ(0,"nz-collapse-panel",12)(1,"nz-table",13,14),t.ALo(3,"searchByName"),t.TgZ(4,"thead")(5,"tr")(6,"th",15),t._uU(7,"Task"),t.qZA(),t.YNc(8,Mt,2,1,"th",16),t.YNc(9,Dt,2,1,"th",16),t.YNc(10,xt,2,1,"th",16),t.TgZ(11,"th",17),t._uU(12,"Due Date"),t.qZA(),t.TgZ(13,"th",17),t._uU(14,"Completed On"),t.qZA(),t.TgZ(15,"th",18),t._uU(16,"Days Overdue"),t.qZA(),t.TgZ(17,"th",18),t._uU(18,"Estimated Time"),t.qZA(),t.TgZ(19,"th",18),t._uU(20,"Logged Time"),t.qZA(),t.TgZ(21,"th",18),t._uU(22,"Overlogged Time"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,St,21,17,"tr",19),t.qZA()(),t.YNc(25,Ut,1,2,"ng-template",null,20,t.W1O),t.qZA()),2&l){const _=O.$implicit,p=t.MAs(2),c=t.MAs(26),I=t.oxw();t.Q6J("nzHeader",c),t.xp6(1),t.Q6J("nzSize","small")("nzData",t.xi3(3,18,_.tasks,I.searchText))("nzShowPagination",!0)("nzHideOnSinglePage",!0)("nzScroll",t.DdM(21,bt)),t.xp6(5),t.Q6J("nzWidth","300px"),t.xp6(2),t.Q6J("ngIf",!I.isGroupByStatus()),t.xp6(1),t.Q6J("ngIf",!I.isGroupByPriority()),t.xp6(1),t.Q6J("ngIf",!I.isGroupByPhase()),t.xp6(1),t.Q6J("nzWidth","120px"),t.xp6(2),t.Q6J("nzWidth","120px"),t.xp6(2),t.Q6J("nzWidth","120px"),t.xp6(2),t.Q6J("nzWidth","120px"),t.xp6(2),t.Q6J("nzWidth","120px"),t.xp6(2),t.Q6J("nzWidth","180px"),t.xp6(3),t.Q6J("ngForOf",p.data)("ngForTrackBy",I.trackByTask)}}let Jt=(()=>{var l;class O{get groupByOptions(){return this.list.GROUP_BY_OPTIONS}constructor(p,c,I,G,st,gt,Ft){this.cdr=p,this.api=c,this.list=I,this.drawer=G,this.view=st,this.timerService=gt,this.socket=Ft,this.projectId=null,this.loading=!1,this.groups=[],this.groupBy=this.list.GROUP_BY_STATUS_VALUE,this.refreshList=Gt=>{this.get(!1)},this.view.onRefresh.pipe((0,a.sL)()).subscribe(()=>{this.get(!1)}),this.timerService.onSubmitOrUpdate.pipe((0,a.sL)()).subscribe(()=>{this.get(!1)})}ngOnInit(){this.get(),this.socket.on(U.C.TASK_STATUS_CHANGE.toString(),this.refreshList),this.socket.on(U.C.TASK_PRIORITY_CHANGE.toString(),this.refreshList),this.socket.on(U.C.TASK_NAME_CHANGE.toString(),this.refreshList),this.socket.on(U.C.TASK_END_DATE_CHANGE.toString(),this.refreshList),this.socket.on(U.C.TASK_START_DATE_CHANGE.toString(),this.refreshList),this.socket.on(U.C.TASK_TIME_ESTIMATION_CHANGE.toString(),this.refreshList),this.socket.on(U.C.TASK_TIMER_STOP.toString(),this.refreshList),this.socket.on(U.C.TASK_PHASE_CHANGE.toString(),this.refreshList)}ngOnDestroy(){this.socket.removeListener(U.C.TASK_STATUS_CHANGE.toString(),this.refreshList),this.socket.removeListener(U.C.TASK_PRIORITY_CHANGE.toString(),this.refreshList),this.socket.removeListener(U.C.TASK_NAME_CHANGE.toString(),this.refreshList),this.socket.removeListener(U.C.TASK_END_DATE_CHANGE.toString(),this.refreshList),this.socket.removeListener(U.C.TASK_START_DATE_CHANGE.toString(),this.refreshList),this.socket.removeListener(U.C.TASK_TIME_ESTIMATION_CHANGE.toString(),this.refreshList),this.socket.removeListener(U.C.TASK_TIMER_STOP.toString(),this.refreshList),this.socket.removeListener(U.C.TASK_PHASE_CHANGE.toString(),this.refreshList)}trackByGroup(p,c){return c.id}trackByTask(p,c){return c.id}get(p=!0){var c=this;return(0,h.Z)(function*(){if(c.projectId){try{c.loading=p;const I=yield c.api.getTasks(c.projectId,c.groupBy);I.done&&(c.groups=I.body),c.loading=!1}catch{c.loading=!1}c.cdr.markForCheck()}})()}isGroupByStatus(){return this.groupBy===this.list.GROUP_BY_STATUS_VALUE}isGroupByPriority(){return this.groupBy===this.list.GROUP_BY_PRIORITY_VALUE}isGroupByPhase(){return this.groupBy===this.list.GROUP_BY_PHASE_VALUE}openTask(p){p.id&&this.projectId&&this.drawer.openTask({taskId:p.id,projectId:this.projectId})}onGroupByChange(){this.get()}}return(l=O).\u0275fac=function(p){return new(p||l)(t.Y36(t.sBO),t.Y36(q.U),t.Y36(zt.b),t.Y36(z.b),t.Y36(Et.f),t.Y36(ft.d),t.Y36(H.s))},l.\u0275cmp=t.Xpm({type:l,selectors:[["worklenz-rpt-grouped-task-list"]],inputs:{projectId:"projectId"},decls:14,vars:8,consts:[[1,"d-flex","justify-content-between"],[1,"mb-3",2,"width","250px",3,"nzSuffix"],["type","text","nz-input","","placeholder","Search by name",3,"ngModel","ngModelChange"],["suffixIconSearch",""],[1,"d-flex","align-items-center"],[3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[1,"d-block",3,"nzLoading","nzActive"],["nzGhost",""],[3,"nzHeader",4,"ngFor","ngForOf","ngForTrackBy"],["nz-icon","",3,"nzType"],[3,"nzValue","nzLabel"],[3,"nzHeader"],[3,"nzSize","nzData","nzShowPagination","nzHideOnSinglePage","nzScroll"],["memberTable",""],["nzLeft","",3,"nzWidth"],[3,"nzWidth",4,"ngIf"],[3,"nzWidth"],[1,"text-center",3,"nzWidth"],["class","cursor-pointer",4,"ngFor","ngForOf","ngForTrackBy"],["groupNameTemplate",""],[1,"cursor-pointer"],["nzLeft","",2,"z-index","11",3,"click"],["nz-typography","",3,"nzType",4,"ngIf"],[4,"ngIf"],[1,"text-center"],["nz-typography","",3,"nzType"],["nz-icon","",3,"nzType","nzTheme"],[3,"nzColor"],[3,"nzColor",4,"ngIf"],[1,"mt-1",3,"nzColor","nzText"]],template:function(p,c){if(1&p&&(t.TgZ(0,"div",0)(1,"nz-input-group",1)(2,"input",2),t.NdJ("ngModelChange",function(G){return c.searchText=G}),t.qZA()(),t.YNc(3,At,1,1,"ng-template",null,3,t.W1O),t.TgZ(5,"nz-form-item",4)(6,"nz-form-label"),t._uU(7,"Group by:\xa0"),t.qZA(),t.TgZ(8,"nz-form-control")(9,"nz-select",5),t.NdJ("ngModelChange",function(G){return c.groupBy=G})("ngModelChange",function(){return c.onGroupByChange()}),t.YNc(10,Ot,1,2,"nz-option",6),t.qZA()()()(),t.TgZ(11,"nz-skeleton",7)(12,"nz-collapse",8),t.YNc(13,wt,27,22,"nz-collapse-panel",9),t.qZA()()),2&p){const I=t.MAs(4);t.xp6(1),t.Q6J("nzSuffix",I),t.xp6(1),t.Q6J("ngModel",c.searchText),t.xp6(7),t.Q6J("ngModel",c.groupBy),t.xp6(1),t.Q6J("ngForOf",c.groupByOptions),t.xp6(1),t.Q6J("nzLoading",c.loading)("nzActive",!0),t.xp6(2),t.Q6J("ngForOf",c.groups)("ngForTrackBy",c.trackByGroup)}},dependencies:[g.sg,g.O5,A.x7,dt.Zv,dt.yH,j.t3,j.SK,m.Ls,rt.Zp,rt.gB,rt.ke,mt.Ip,mt.Vq,_t.ng,X.N8,X.Uo,X._C,X.Om,X.p0,X.$Z,X.qn,F.Fj,F.JJ,F.On,vt.j,Pt.ZU,g.uU,ct.g],styles:["nz-tag[_ngcontent-%COMP%]{border-radius:30px;color:#000000d9}"],changeDetection:0}),O})(),kt=(()=>{var l;class O{constructor(){this.projectId=null}}return(l=O).\u0275fac=function(p){return new(p||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["worklenz-rpt-project-drawer-tasks"]],inputs:{projectId:"projectId"},decls:1,vars:1,consts:[[3,"projectId"]],template:function(p,c){1&p&&t._UZ(0,"worklenz-rpt-grouped-task-list",0),2&p&&t.Q6J("projectId",c.projectId)},dependencies:[Jt],changeDetection:0}),O})();function Bt(l,O){if(1&l&&(t.TgZ(0,"button",11),t._uU(1," Export "),t._UZ(2,"span",12),t.qZA()),2&l){t.oxw();const _=t.MAs(9),p=t.oxw();t.Q6J("nzType","primary")("nzDropdownMenu",_)("nzPlacement","bottomRight")("nzLoading",p.exporting),t.xp6(2),t.Q6J("nzType","down")}}function Wt(l,O){if(1&l){const _=t.EpF();t.TgZ(0,"div",4)(1,"nz-breadcrumb",5),t._UZ(2,"nz-breadcrumb-item"),t.TgZ(3,"nz-breadcrumb-item"),t._uU(4),t.qZA()(),t.TgZ(5,"div",6)(6,"nz-space"),t.YNc(7,Bt,3,5,"button",7),t.TgZ(8,"nz-dropdown-menu",null,8)(10,"ul",9)(11,"li",10),t.NdJ("click",function(){t.CHM(_);const c=t.oxw();return t.KtG(c.exportMembers())}),t._uU(12,"Members"),t.qZA(),t.TgZ(13,"li",10),t.NdJ("click",function(){t.CHM(_);const c=t.oxw();return t.KtG(c.exportTasks())}),t._uU(14,"Tasks"),t.qZA()()()()()()}if(2&l){const _=t.oxw();t.xp6(4),t.hij(" ",null==_.project?null:_.project.name," ")}}function Kt(l,O){if(1&l){const _=t.EpF();t.ynx(0),t.TgZ(1,"nz-tabset",14)(2,"nz-tab",15),t.NdJ("nzClick",function(){t.CHM(_);const c=t.MAs(4);return t.KtG(c.get())}),t._UZ(3,"worklenz-rpt-project-drawer-overview",16,17),t.qZA(),t.TgZ(5,"nz-tab",18)(6,"worklenz-rpt-project-drawer-members",19),t.NdJ("selectMember",function(c){t.CHM(_);const I=t.oxw(2);return t.KtG(I.onSelectMember(c))}),t.qZA()(),t.TgZ(7,"nz-tab",18),t._UZ(8,"worklenz-rpt-project-drawer-tasks",16),t.qZA()(),t.BQk()}if(2&l){const _=t.oxw(2);t.xp6(1),t.Q6J("nzType","card"),t.xp6(1),t.Q6J("nzTitle","Overview"),t.xp6(1),t.Q6J("projectId",_.project.id),t.xp6(2),t.Q6J("nzTitle","Members"),t.xp6(1),t.Q6J("projectId",_.project.id),t.xp6(1),t.Q6J("nzTitle","Tasks"),t.xp6(1),t.Q6J("projectId",_.project.id)}}function Qt(l,O){if(1&l&&t.YNc(0,Kt,9,7,"ng-container",13),2&l){const _=t.oxw();t.Q6J("ngIf",_.project)}}function Nt(l,O){if(1&l&&t._UZ(0,"worklenz-rpt-drawer-title",20),2&l){const _=t.oxw();t.Q6J("title",(null==_.team?null:_.team.name)||null)("icon","bank")}}let Yt=(()=>{var l;class O{get show(){return!!this.project}constructor(p,c,I,G){this.drawer=p,this.service=c,this.cdr=I,this.exportApi=G,this.team=null,this.project=null,this.exporting=!1,this.drawer.onOpenProject.pipe((0,a.sL)()).subscribe(st=>{this.open(st)})}close(){this.project=null}onSelectMember(p){this.project&&this.drawer.openTasks(this.project,{id:p.team_member_id,name:p.name})}open(p){this.team=this.service.getCurrentTeam(),this.project=p,this.cdr.markForCheck()}exportMembers(){var p=this;return(0,h.Z)(function*(){if(p.project?.id)try{yield p.exportApi.exportProjectMembers(p.project.id,p.project.name,p.team?.name)}catch(c){(0,C.tu)(c)}})()}exportTasks(){var p=this;return(0,h.Z)(function*(){if(p.project?.id)try{yield p.exportApi.exportProjectTasks(p.project.id,p.project.name,p.team?.name)}catch(c){(0,C.tu)(c)}})()}}return(l=O).\u0275fac=function(p){return new(p||l)(t.Y36(z.b),t.Y36(v.m),t.Y36(t.sBO),t.Y36(n.O))},l.\u0275cmp=t.Xpm({type:l,selectors:[["worklenz-rpt-project-drawer"]],decls:7,vars:7,consts:[[3,"nzClosable","nzVisible","nzPlacement","nzTitle","nzContent","nzWidth","nzCloseIcon","nzOnClose"],["projectDrawerTitle",""],["projectDrawerContent",""],["closeIcon",""],[1,"d-flex","align-items-center","w-100"],[2,"margin-left","-15px"],[1,"ms-auto"],["nz-button","","nz-dropdown","",3,"nzType","nzDropdownMenu","nzPlacement","nzLoading",4,"nzSpaceItem"],["exportDropdown","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-button","","nz-dropdown","",3,"nzType","nzDropdownMenu","nzPlacement","nzLoading"],["nz-icon","",3,"nzType"],[4,"ngIf"],[3,"nzType"],[3,"nzTitle","nzClick"],[3,"projectId"],["overview",""],[3,"nzTitle"],[3,"projectId","selectMember"],[3,"title","icon"]],template:function(p,c){if(1&p&&(t.TgZ(0,"nz-drawer",0),t.NdJ("nzOnClose",function(){return c.close()}),t.qZA(),t.YNc(1,Wt,15,1,"ng-template",null,1,t.W1O),t.YNc(3,Qt,1,1,"ng-template",null,2,t.W1O),t.YNc(5,Nt,1,2,"ng-template",null,3,t.W1O)),2&p){const I=t.MAs(2),G=t.MAs(4),st=t.MAs(6);t.Q6J("nzClosable",!0)("nzVisible",c.show)("nzPlacement","right")("nzTitle",I)("nzContent",G)("nzWidth",900)("nzCloseIcon",st)}},dependencies:[g.O5,M.Dg,M.MO,Z.ix,S.w,T.dQ,D.Vz,m.Ls,E.NU,E.$1,u.xH,u.xw,P.t,b.wO,b.r9,J.cm,J.RR,J.wA,tt,Ct,kt],changeDetection:0}),O})()},3400:(et,B,e)=>{e.d(B,{j:()=>N});var h=e(96814),a=e(3626),C=e(42840),t=e(43389),z=e(62595),v=e(92574),n=e(79382),g=e(41958),M=e(33640),Z=e(82962),S=e(10095),T=e(60095),D=e(20824),m=e(48128),E=e(24139),u=e(13740),P=e(90565),b=e(9691),J=e(63124),K=e(47381),U=e(62787),q=e(73460),H=e(47246),A=e(65879);let N=(()=>{var j;class k{}return(j=k).\u0275fac=function(ot){return new(ot||j)},j.\u0275mod=A.oAB({type:j}),j.\u0275inj=A.cJS({imports:[h.ez,a.lt,C.sL,t.BL,z.PV,v.zf,n.we,g.vG,M.mS,Z.vh,S.Jb,T.u5,D.o7,m.W,E.H0,u.HQ,P.cD,b.LV,J.L,K.t,U.b1,q.ip,H.vQ]}),k})()},65411:(et,B,e)=>{e.d(B,{W:()=>g});var h=e(15861),a=e(71993),C=e(21406),t=e(65879),z=e(62963),v=e(74764),n=e(34071);let g=(()=>{var M;class Z{get show(){return!(!this.projectId||!this.taskId)}set show(T){T||(this.projectId=null,this.taskId=null)}constructor(T,D,m){var E=this;this.cdr=T,this.drawer=D,this.taskViewService=m,this.projectId=null,this.taskId=null,this.drawer.onOpenTask.pipe((0,a.sL)()).subscribe(u=>{this.open(u)}),this.taskViewService.onViewBackFrom.pipe((0,a.sL)()).subscribe(u=>{this.handleTaskSelectFromView({id:u.parent_task_id,project_id:u.project_id})}),this.taskViewService.onDelete.pipe((0,a.sL)()).subscribe(function(){var u=(0,h.Z)(function*(P){P.parent_task_id&&E.handleTaskSelectFromView({id:P.parent_task_id,project_id:E.projectId})});return function(P){return u.apply(this,arguments)}}())}handleTaskSelectFromView(T){setTimeout(()=>{T&&T.id&&T.project_id&&this.open({taskId:T.id,projectId:T.project_id})},C.GR),this.cdr.detectChanges()}open(T){this.taskId=T.taskId,this.projectId=T.projectId,this.cdr.markForCheck()}}return(M=Z).\u0275fac=function(T){return new(T||M)(t.Y36(t.sBO),t.Y36(z.b),t.Y36(v.f))},M.\u0275cmp=t.Xpm({type:M,selectors:[["worklenz-rpt-task-view-drawer"]],decls:1,vars:4,consts:[[3,"show","selfResetTaskId","projectId","taskId","showChange"]],template:function(T,D){1&T&&(t.TgZ(0,"worklenz-task-view",0),t.NdJ("showChange",function(E){return D.show=E}),t.qZA()),2&T&&t.Q6J("show",D.show)("selfResetTaskId",!0)("projectId",D.projectId)("taskId",D.taskId)},dependencies:[n.E],changeDetection:0}),Z})()},64948:(et,B,e)=>{e.d(B,{i:()=>t});var h=e(96814),a=e(26501),C=e(65879);let t=(()=>{var z;class v{}return(z=v).\u0275fac=function(g){return new(g||z)},z.\u0275mod=C.oAB({type:z}),z.\u0275inj=C.cJS({imports:[h.ez,a.z]}),v})()},40914:(et,B,e)=>{e.d(B,{W:()=>H});var h=e(15861),a=e(71993),C=e(69649),t=e(65879),z=e(62963),v=e(69342),n=e(96814),g=e(43389),M=e(62806),Z=e(3626),S=e(42840),T=e(70855),D=e(41958),m=e(92574),E=e(47381),u=e(62787);function P(A,N){if(1&A){const j=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(j);const $=t.oxw(2);return t.KtG($.export())}),t._uU(1," Export "),t.qZA()}if(2&A){const j=t.oxw(2);t.Q6J("nzType","primary")("nzPlacement","bottomRight")("nzLoading",j.exporting)}}function b(A,N){if(1&A&&(t.TgZ(0,"div",4)(1,"nz-breadcrumb",5),t._UZ(2,"nz-breadcrumb-item"),t.TgZ(3,"nz-breadcrumb-item"),t._uU(4),t.qZA()(),t.TgZ(5,"div",6)(6,"nz-space"),t.YNc(7,P,2,3,"button",7),t.qZA()()()),2&A){const j=t.oxw();t.xp6(4),t.hij(" ",null==j.member?null:j.member.name," ")}}function J(A,N){if(1&A&&(t.ynx(0),t._UZ(1,"worklenz-rpt-flat-task-list",10),t.BQk()),2&A){const j=t.oxw(2);t.xp6(1),t.Q6J("disableProjectsFilter",!0)("teamMemberId",j.member.id)("projectId",j.project.id)}}function K(A,N){if(1&A&&t.YNc(0,J,2,3,"ng-container",9),2&A){const j=t.oxw();t.Q6J("ngIf",j.member&&j.project)}}function U(A,N){if(1&A&&t._UZ(0,"worklenz-rpt-drawer-title",12),2&A){const j=t.oxw(2);t.Q6J("title",j.project.name)("icon","file")}}function q(A,N){if(1&A&&t.YNc(0,U,1,2,"worklenz-rpt-drawer-title",11),2&A){const j=t.oxw();t.Q6J("ngIf",j.project)}}let H=(()=>{var A;class N{get show(){return!(!this.project||!this.member)}constructor(k,$,ot){this.cdr=k,this.drawer=$,this.exportApiService=ot,this.project=null,this.member=null,this.isMultiple=!1,this.exporting=!1,this.drawer.onOpenTasks.pipe((0,a.sL)()).subscribe(at=>{this.open(at)})}close(){this.project=null,this.member=null}open(k){this.project=k.project,this.member=k.member,this.cdr.markForCheck()}export(){var k=this;return(0,h.Z)(function*(){if(k.member)try{k.project?k.exportApiService.exportFlatTasks(k.member.id,k.member.name,k.project.id,k.project?.name):k.exportApiService.exportFlatTasks(k.member.id,k.member.name,null,null)}catch($){(0,C.tu)($)}})()}}return(A=N).\u0275fac=function(k){return new(k||A)(t.Y36(t.sBO),t.Y36(z.b),t.Y36(v.O))},A.\u0275cmp=t.Xpm({type:A,selectors:[["worklenz-rpt-tasks-drawer"]],decls:7,vars:7,consts:[[3,"nzClosable","nzVisible","nzPlacement","nzTitle","nzContent","nzWidth","nzCloseIcon","nzOnClose"],["memberDrawerTitle",""],["memberTasksDrawerContent",""],["closeIcon",""],[1,"d-flex","align-items-center","w-100"],[2,"margin-left","-15px"],[1,"ms-auto"],["nz-button","","nz-dropdown","",3,"nzType","nzPlacement","nzLoading","click",4,"nzSpaceItem"],["nz-button","","nz-dropdown","",3,"nzType","nzPlacement","nzLoading","click"],[4,"ngIf"],[3,"disableProjectsFilter","teamMemberId","projectId"],[3,"title","icon",4,"ngIf"],[3,"title","icon"]],template:function(k,$){if(1&k&&(t.TgZ(0,"nz-drawer",0),t.NdJ("nzOnClose",function(){return $.close()}),t.qZA(),t.YNc(1,b,8,1,"ng-template",null,1,t.W1O),t.YNc(3,K,1,1,"ng-template",null,2,t.W1O),t.YNc(5,q,1,1,"ng-template",null,3,t.W1O)),2&k){const ot=t.MAs(2),at=t.MAs(4),W=t.MAs(6);t.Q6J("nzClosable",!0)("nzVisible",$.show)("nzPlacement","right")("nzTitle",ot)("nzContent",at)("nzWidth",900)("nzCloseIcon",W)}},dependencies:[n.O5,g.Vz,M.X,Z.Dg,Z.MO,S.ix,T.w,D.dQ,m.NU,m.$1,E.t,u.cm,u.wA],changeDetection:0}),N})()},92893:(et,B,e)=>{e.d(B,{e:()=>D});var h=e(96814),a=e(43389),C=e(62595),t=e(63124),z=e(42528),v=e(3626),n=e(42840),g=e(92574),M=e(41958),Z=e(47381),S=e(62787),T=e(65879);let D=(()=>{var m;class E{}return(m=E).\u0275fac=function(P){return new(P||m)},m.\u0275mod=T.oAB({type:m}),m.\u0275inj=T.cJS({imports:[h.ez,a.BL,C.PV,t.L,z.r,v.lt,n.sL,g.zf,M.vG,Z.t,S.b1]}),E})()},92259:(et,B,e)=>{e.d(B,{D:()=>me});var h=e(15861),a=e(71993),C=e(69649),t=e(65879),z=e(62963),v=e(42012),n=e(69342),g=e(96814),M=e(43389),Z=e(92574),S=e(42840),T=e(70855),D=e(41958),m=e(62595),E=e(79382),u=e(73460),P=e(62787),b=e(94489),J=e(63392),K=e(16196),U=e(19350),q=e(975),H=e(52732),A=e(13740),N=e(24139),j=e(20824),k=e(60095),$=e(33640),ot=e(55695),at=e(38265),W=e(48522),nt=e(96109),V=e(28754),x=e(31930),w=e(71802),L=e(34305),y=e(88903);function R(o,d){1&o&&t._UZ(0,"span",11)}function Y(o,d){1&o&&(t.TgZ(0,"th",12),t._uU(1,"Estimated vs Actual"),t.qZA()),2&o&&t.Q6J("nzWidth","230px")}function tt(o,d){1&o&&(t.TgZ(0,"th",12),t._uU(1,"Tasks Progress"),t.qZA()),2&o&&t.Q6J("nzWidth","200px")}function F(o,d){1&o&&(t.TgZ(0,"th",12),t._uU(1,"Last Activity"),t.qZA()),2&o&&t.Q6J("nzWidth","250px")}function rt(o,d){1&o&&(t.TgZ(0,"th",13),t._uU(1,"Status "),t.qZA()),2&o&&t.Q6J("nzWidth","150px")("nzSortFn",!0)("nzColumnKey","status_id")}function lt(o,d){1&o&&(t.TgZ(0,"th",12),t._uU(1,"Start/End dates"),t.qZA()),2&o&&t.Q6J("nzWidth","275px")}function _t(o,d){1&o&&(t.TgZ(0,"th",12),t._uU(1,"Days Left/Overdue"),t.qZA()),2&o&&t.Q6J("nzWidth","170px")}function X(o,d){1&o&&(t.TgZ(0,"th",13),t._uU(1," Project Health "),t.qZA()),2&o&&t.Q6J("nzWidth","170px")("nzSortFn",!0)("nzColumnKey","project_health")}function ct(o,d){1&o&&(t.TgZ(0,"th",12),t._uU(1,"Category"),t.qZA()),2&o&&t.Q6J("nzWidth","150px")}function pt(o,d){1&o&&(t.TgZ(0,"th",12),t._uU(1,"Project Update"),t.qZA()),2&o&&t.Q6J("nzWidth","250px")}function ut(o,d){1&o&&(t.TgZ(0,"th",13),t._uU(1,"Client"),t.qZA()),2&o&&t.Q6J("nzWidth","160px")("nzSortFn",!0)("nzColumnKey","client")}function Tt(o,d){1&o&&(t.TgZ(0,"th",13),t._uU(1,"Team"),t.qZA()),2&o&&t.Q6J("nzWidth","150px")("nzSortFn",!0)("nzColumnKey","team_name")}function Ct(o,d){if(1&o&&t._UZ(0,"nz-badge",24),2&o){const r=t.oxw().$implicit;t.Q6J("nzColor",r.color_code)}}function zt(o,d){if(1&o&&(t.TgZ(0,"span",25),t._uU(1),t.qZA()),2&o){const r=t.oxw().$implicit;t.xp6(1),t.Oqu(r.name)}}function Et(o,d){if(1&o&&t._UZ(0,"worklenz-estimated-vs-actual-chart-common",27),2&o){const r=t.oxw(2).$implicit;t.Q6J("id",r.id)("actualTime",r.actual_time||0)("estimatedTime",60*r.estimated_time||0)("actualTimeString",r.actual_time_string||null)("estimatedTimeString",r.estimated_time_string||null)}}function ft(o,d){1&o&&t._UZ(0,"worklenz-na")}function dt(o,d){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,Et,1,5,"worklenz-estimated-vs-actual-chart-common",26),t.YNc(2,ft,1,0,"worklenz-na",21),t.qZA()),2&o){const r=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",r.actual_time&&r.estimated_time),t.xp6(1),t.Q6J("ngIf",!r.actual_time||!r.estimated_time)}}function mt(o,d){if(1&o&&t._UZ(0,"worklenz-tasks-progress-bar",29),2&o){const r=t.oxw(2).$implicit;t.Q6J("todoProgress",r.tasks_stat.todo)("doingProgress",r.tasks_stat.doing)("doneProgress",r.tasks_stat.done)}}function vt(o,d){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,mt,1,3,"worklenz-tasks-progress-bar",28),t.qZA()),2&o){const r=t.oxw().$implicit;t.oxw();const i=t.MAs(26);t.xp6(1),t.Q6J("ngIf",r.tasks_stat.todo||r.tasks_stat.doing||r.tasks_stat.done)("ngIfElse",i)}}function Pt(o,d){if(1&o&&(t.ynx(0),t.TgZ(1,"span",32),t._uU(2),t.qZA(),t.BQk()),2&o){const r=t.oxw(2).$implicit;t.xp6(1),t.Q6J("nzTooltipTitle",r.last_activity.last_activity_string),t.xp6(1),t.hij(" ",r.last_activity.last_activity_string,". ")}}function At(o,d){1&o&&t._UZ(0,"worklenz-na")}function Ot(o,d){if(1&o&&(t.TgZ(0,"td",30),t.YNc(1,Pt,3,2,"ng-container",31),t.YNc(2,At,1,0,"worklenz-na",31),t.qZA()),2&o){const r=t.oxw().$implicit;t.Q6J("ngSwitch",!!r.last_activity),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1)}}function Mt(o,d){if(1&o&&(t.TgZ(0,"td"),t._UZ(1,"worklenz-project-status",33),t.qZA()),2&o){const r=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("projStatuses",i.projectStatuses)("project",r)}}function Dt(o,d){if(1&o&&(t.TgZ(0,"td"),t._UZ(1,"worklenz-project-start-end-dates",34),t.qZA()),2&o){const r=t.oxw().$implicit;t.xp6(1),t.Q6J("project",r)}}function xt(o,d){if(1&o&&(t.TgZ(0,"span",37),t._uU(1),t.qZA()),2&o){const r=t.oxw(3).$implicit;t.xp6(1),t.hij("",r.days_left," days overdue")}}function yt(o,d){1&o&&(t.TgZ(0,"span",39),t._uU(1,"Today"),t.qZA())}function Zt(o,d){if(1&o&&(t.TgZ(0,"span",39),t._uU(1),t.qZA()),2&o){const r=t.oxw(4).$implicit;t.xp6(1),t.hij(" ",r.days_left," days left")}}function Rt(o,d){if(1&o&&(t.TgZ(0,"span"),t.YNc(1,yt,2,0,"span",38),t.YNc(2,Zt,2,1,"span",38),t.qZA()),2&o){const r=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",r.is_today),t.xp6(1),t.Q6J("ngIf",!r.is_today)}}function jt(o,d){if(1&o&&(t.ynx(0)(1,30),t.YNc(2,xt,2,1,"span",36),t.YNc(3,Rt,3,2,"span",31),t.BQk()()),2&o){const r=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngSwitch",r.is_overdue),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1)}}function Lt(o,d){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,jt,4,3,"ng-container",35),t.qZA()),2&o){const r=t.oxw().$implicit;t.oxw();const i=t.MAs(26);t.xp6(1),t.Q6J("ngIf",null!==r.days_left)("ngIfElse",i)}}function It(o,d){if(1&o&&(t.TgZ(0,"td"),t._UZ(1,"worklenz-project-health-selector",40),t.qZA()),2&o){const r=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("project",r)("projHealths",i.projHealths)}}function St(o,d){if(1&o&&(t.TgZ(0,"td"),t._UZ(1,"worklenz-project-category",41),t.qZA()),2&o){const r=t.oxw().$implicit;t.xp6(1),t.Q6J("teamId",r.team_id)("project",r)}}function Ut(o,d){if(1&o&&(t.ynx(0),t._UZ(1,"span",44),t.BQk()),2&o){t.oxw();const r=t.MAs(4),i=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",i.comment,t.oJD)("nzTooltipTitle",r)}}function bt(o,d){1&o&&t._UZ(0,"worklenz-na")}function wt(o,d){if(1&o&&t._UZ(0,"span",45),2&o){const r=t.oxw(2).$implicit;t.Q6J("innerHTML",r.comment,t.oJD)}}function Jt(o,d){if(1&o){const r=t.EpF();t.TgZ(0,"td",42),t.NdJ("click",function(){t.CHM(r);const s=t.oxw().$implicit,f=t.oxw();return t.KtG(f.openUpdates(s))}),t.YNc(1,Ut,2,2,"ng-container",31),t.YNc(2,bt,1,0,"worklenz-na",31),t.YNc(3,wt,1,1,"ng-template",null,43,t.W1O),t.qZA()}if(2&o){const r=t.oxw().$implicit;t.Q6J("ngSwitch",!!r.comment),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1)}}function kt(o,d){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const r=t.oxw(2).$implicit;t.xp6(1),t.Oqu(r.client)}}function Bt(o,d){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,kt,2,1,"ng-container",35),t.qZA()),2&o){const r=t.oxw().$implicit;t.oxw();const i=t.MAs(26);t.xp6(1),t.Q6J("ngIf",r.client)("ngIfElse",i)}}function Wt(o,d){if(1&o&&(t.TgZ(0,"td")(1,"nz-tag",24),t._uU(2),t.qZA()()),2&o){const r=t.oxw().$implicit;t.xp6(1),t.Q6J("nzColor","blue"),t.xp6(1),t.hij(" ",r.team_name," ")}}function Kt(o,d){if(1&o){const r=t.EpF();t.TgZ(0,"tr",14)(1,"td",15),t.NdJ("click",function(){const f=t.CHM(r).$implicit,Q=t.oxw();return t.KtG(Q.openProject(f))}),t.TgZ(2,"div",16)(3,"nz-space"),t.YNc(4,Ct,1,1,"nz-badge",17),t.YNc(5,zt,2,1,"span",18),t.qZA(),t.TgZ(6,"button",19),t._uU(7," Open "),t._UZ(8,"span",20),t.qZA()()(),t.YNc(9,dt,3,2,"td",21),t.YNc(10,vt,2,2,"td",21),t.YNc(11,Ot,3,3,"td",22),t.YNc(12,Mt,2,2,"td",21),t.YNc(13,Dt,2,1,"td",21),t.YNc(14,Lt,2,2,"td",21),t.YNc(15,It,2,2,"td",21),t.YNc(16,St,2,2,"td",21),t.YNc(17,Jt,5,3,"td",23),t.YNc(18,Bt,2,2,"td",21),t.YNc(19,Wt,3,2,"td",21),t.qZA()}if(2&o){const r=t.oxw();t.xp6(9),t.Q6J("ngIf",r.estimatedActive),t.xp6(1),t.Q6J("ngIf",r.progressActive),t.xp6(1),t.Q6J("ngIf",r.lastActivityActive),t.xp6(1),t.Q6J("ngIf",r.statusActive),t.xp6(1),t.Q6J("ngIf",r.startEndDateActive),t.xp6(1),t.Q6J("ngIf",r.daysLeftActive),t.xp6(1),t.Q6J("ngIf",r.healthActive),t.xp6(1),t.Q6J("ngIf",r.categoryActive),t.xp6(1),t.Q6J("ngIf",r.updateActive),t.xp6(1),t.Q6J("ngIf",r.clientActive),t.xp6(1),t.Q6J("ngIf",r.teamActive)}}function Qt(o,d){1&o&&t._UZ(0,"worklenz-na")}const Nt=function(){return{x:"300px"}};let Yt=(()=>{var o;class d{get columnList(){if(localStorage.hasOwnProperty(this.PROJECT_LIST_COLUMNS))return JSON.parse(localStorage.getItem(this.PROJECT_LIST_COLUMNS)||"")}get filterIndex(){return+(localStorage.getItem(this.FILTER_INDEX_KEY)||0)}constructor(i,s,f,Q,it,ht){this.cdr=i,this.api=s,this.projectHealthsApi=f,this.socket=Q,this.statusesApi=it,this.service=ht,this.length=new t.vpe,this.selectProject=new t.vpe,this.FILTER_INDEX_KEY="worklenz.projects.filter_index",this.PROJECT_LIST_COLUMNS="worklenz.reporting.projects.column_list",this.loading=!1,this.projects=[],this.projHealths=[],this.projectStatuses=[],this.total=0,this.pageSize=10,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.sortField=null,this.sortOrder=null,this.COLUMN_KEYS={CLIENT:"CLIENT",TEAM:"TEAM",STATUS:"STATUS",CATEGORY:"CATEGORY",START_END_DATE:"START_END_DATE",DAYS_LEFT_OVERDUE:"DAYS_LEFT_OVERDUE",ESTIMATED_VS_ACTUAL:"ESTIMATED_VS_ACTUAL",TASKS_PROGRESS:"TASKS_PROGRESS",LAST_ACTIVITY:"LAST_ACTIVITY",HEALTH:"HEALTH",UPDATE:"UPDATE",PROJECT_MANAGER:"PROJECT_MANAGER"},this.columns=[{key:"ESTIMATED_VS_ACTUAL",label:"Estimated vs Actual",pinned:!0},{key:"TASKS_PROGRESS",label:"Tasks Progress",pinned:!0},{key:"LAST_ACTIVITY",label:"Last Activity",pinned:!0},{key:"STATUS",label:"Status",pinned:!0},{key:"START_END_DATE",label:"Start/End dates",pinned:!0},{key:"DAYS_LEFT_OVERDUE",label:"Days Left/Overdue",pinned:!0},{key:"HEALTH",label:"Project Health",pinned:!0},{key:"CATEGORY",label:"Category",pinned:!0},{key:"UPDATE",label:"Project Update",pinned:!0},{key:"PROJECT_MANAGER",label:"Project Manager",pinned:!0},{key:"CLIENT",label:"Client",pinned:!1},{key:"TEAM",label:"Team",pinned:!1}],this.clientActive=!1,this.managerActive=!1,this.teamActive=!1,this.statusActive=!0,this.categoryActive=!0,this.startEndDateActive=!0,this.daysLeftActive=!0,this.estimatedActive=!0,this.progressActive=!0,this.lastActivityActive=!0,this.healthActive=!0,this.updateActive=!0,this.refreshWithoutLoading=()=>{this.getProjects(!1)}}ngOnInit(){this.getProjectHealths(),this.getProjectStatuses(),this.getProjects(),this.socket.on(b.C.PROJECT_START_DATE_CHANGE.toString(),this.refreshWithoutLoading),this.socket.on(b.C.PROJECT_END_DATE_CHANGE.toString(),this.refreshWithoutLoading),this.columnList&&(this.columns=this.columnList,this.updateState())}ngOnDestroy(){this.projects=[]}onQueryParamsChange(i){const{pageSize:s,pageIndex:f,sort:Q}=i;this.pageIndex=f,this.pageSize=s;const it=Q.find(ht=>null!==ht.value);this.sortField=it?.key??null,this.sortOrder=it?.value??null,this.getProjects()}getProjects(i=!0){var s=this;return(0,h.Z)(function*(){if(s.teamId){try{s.loading=i;const f=yield s.api.getOverviewProjects({team:s.teamId,index:s.pageIndex,size:s.pageSize,field:s.sortField,order:s.sortOrder,search:s.searchText||null,filter:s.filterIndex.toString(),archived:s.service.getIncludeToggle()});f.done&&(s.total=f.body.total||0,s.projects=f.body.projects||[],s.length.emit(s.total)),s.loading=!1}catch{s.loading=!1}s.cdr.markForCheck()}})()}getProjectHealths(){var i=this;return(0,h.Z)(function*(){try{const s=yield i.projectHealthsApi.get();s&&(i.projHealths=s.body)}catch(s){(0,C.tu)(s)}i.cdr.markForCheck()})()}getProjectStatuses(){var i=this;return(0,h.Z)(function*(){try{const s=yield i.statusesApi.get();s.done&&(i.projectStatuses=s.body)}catch(s){(0,C.tu)(s)}i.cdr.markForCheck()})()}trackBy(i,s){return s.id}openProject(i){i&&this.selectProject.emit(i)}openUpdates(i){this.updatesDrawer.open(i.id)}updateState(){this.clientActive=this.canActive(this.COLUMN_KEYS.CLIENT),this.teamActive=this.canActive(this.COLUMN_KEYS.TEAM),this.categoryActive=this.canActive(this.COLUMN_KEYS.CATEGORY),this.statusActive=this.canActive(this.COLUMN_KEYS.STATUS),this.startEndDateActive=this.canActive(this.COLUMN_KEYS.START_END_DATE),this.daysLeftActive=this.canActive(this.COLUMN_KEYS.DAYS_LEFT_OVERDUE),this.estimatedActive=this.canActive(this.COLUMN_KEYS.ESTIMATED_VS_ACTUAL),this.progressActive=this.canActive(this.COLUMN_KEYS.TASKS_PROGRESS),this.lastActivityActive=this.canActive(this.COLUMN_KEYS.LAST_ACTIVITY),this.healthActive=this.canActive(this.COLUMN_KEYS.HEALTH),this.updateActive=this.canActive(this.COLUMN_KEYS.UPDATE),this.managerActive=this.canActive(this.COLUMN_KEYS.PROJECT_MANAGER),this.cdr.markForCheck(),this.setColumnList()}canActive(i){return!!this.columns.find(s=>s.key===i)?.pinned}setColumnList(){localStorage.setItem(this.PROJECT_LIST_COLUMNS,JSON.stringify(this.columns))}}return(o=d).\u0275fac=function(i){return new(i||o)(t.Y36(t.sBO),t.Y36(K.U),t.Y36(U.w),t.Y36(q.s),t.Y36(H.k),t.Y36(v.m))},o.\u0275cmp=t.Xpm({type:o,selectors:[["worklenz-rpt-projects-list"]],viewQuery:function(i,s){if(1&i&&t.Gf(J.p,5),2&i){let f;t.iGM(f=t.CRH())&&(s.updatesDrawer=f.first)}},inputs:{teamId:"teamId",teamMemberId:"teamMemberId"},outputs:{length:"length",selectProject:"selectProject"},decls:27,vars:31,consts:[[1,"d-block",3,"nzLoading","nzActive"],[1,"mb-3",2,"width","250px",3,"nzSuffix"],["type","text","nz-input","","placeholder","Search by name",3,"ngModel","ngModelChange"],["suffixIconSearch",""],[3,"nzData","nzFrontPagination","nzLoading","nzPageIndex","nzPageSizeOptions","nzPageSize","nzTotal","nzShowSizeChanger","nzHideOnSinglePage","nzScroll","nzQueryParams"],["table",""],["nzLeft","","scope","col",2,"z-index","11",3,"nzWidth","nzSortFn","nzColumnKey"],["scope","col",3,"nzWidth",4,"ngIf"],["scope","col",3,"nzWidth","nzSortFn","nzColumnKey",4,"ngIf"],["class","cursor-pointer",4,"ngFor","ngForOf","ngForTrackBy"],["naTemplate",""],["nz-icon","","nzType","search"],["scope","col",3,"nzWidth"],["scope","col",3,"nzWidth","nzSortFn","nzColumnKey"],[1,"cursor-pointer"],["nzLeft","",2,"z-index","11",3,"click"],[1,"position-relative","w-100"],[3,"nzColor",4,"nzSpaceItem"],["class","ellipsis","style","max-width: 260px",4,"nzSpaceItem"],["nz-button","","nzType","default",1,"open-btn"],["nz-icon","","nzType","arrows-alt","nzTheme","outline"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch","click",4,"ngIf"],[3,"nzColor"],[1,"ellipsis",2,"max-width","260px"],[3,"id","actualTime","estimatedTime","actualTimeString","estimatedTimeString",4,"ngIf"],[3,"id","actualTime","estimatedTime","actualTimeString","estimatedTimeString"],[3,"todoProgress","doingProgress","doneProgress",4,"ngIf","ngIfElse"],[3,"todoProgress","doingProgress","doneProgress"],[3,"ngSwitch"],[4,"ngSwitchCase"],["nz-tooltip","",1,"ellipsis",3,"nzTooltipTitle"],[3,"projStatuses","project"],[3,"project"],[4,"ngIf","ngIfElse"],["style","color: #f37070;",4,"ngSwitchCase"],[2,"color","#f37070"],["style","color: #80ca79;",4,"ngIf"],[2,"color","#80ca79"],[3,"project","projHealths"],[3,"teamId","project"],[3,"ngSwitch","click"],["commentTooltip",""],["nz-tooltip","",1,"ellipsis",3,"innerHTML","nzTooltipTitle"],[1,"tooltip-comment",3,"innerHTML"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-skeleton",0)(1,"nz-input-group",1)(2,"input",2),t.NdJ("ngModelChange",function(Q){return s.searchText=Q})("ngModelChange",function(){return s.getProjects(!1)}),t.qZA()(),t.YNc(3,R,1,0,"ng-template",null,3,t.W1O),t.TgZ(5,"div")(6,"nz-table",4,5),t.NdJ("nzQueryParams",function(Q){return s.onQueryParamsChange(Q)}),t.TgZ(8,"thead")(9,"tr")(10,"th",6),t._uU(11," Project "),t.qZA(),t.YNc(12,Y,2,1,"th",7),t.YNc(13,tt,2,1,"th",7),t.YNc(14,F,2,1,"th",7),t.YNc(15,rt,2,3,"th",8),t.YNc(16,lt,2,1,"th",7),t.YNc(17,_t,2,1,"th",7),t.YNc(18,X,2,3,"th",8),t.YNc(19,ct,2,1,"th",7),t.YNc(20,pt,2,1,"th",7),t.YNc(21,ut,2,3,"th",8),t.YNc(22,Tt,2,3,"th",8),t.qZA()(),t.TgZ(23,"tbody"),t.YNc(24,Kt,20,11,"tr",9),t.qZA()()()(),t.YNc(25,Qt,1,0,"ng-template",null,10,t.W1O)),2&i){const f=t.MAs(4),Q=t.MAs(7);t.Q6J("nzLoading",s.loading)("nzActive",!0),t.xp6(1),t.Q6J("nzSuffix",f),t.xp6(1),t.Q6J("ngModel",s.searchText),t.xp6(4),t.Q6J("nzData",s.projects)("nzFrontPagination",!1)("nzLoading",s.loading)("nzPageIndex",s.pageIndex)("nzPageSizeOptions",s.paginationSizes)("nzPageSize",s.pageSize)("nzTotal",s.total)("nzShowSizeChanger",!0)("nzHideOnSinglePage",!0)("nzScroll",t.DdM(30,Nt)),t.xp6(4),t.Q6J("nzWidth","300px")("nzSortFn",!0)("nzColumnKey","name"),t.xp6(2),t.Q6J("ngIf",s.estimatedActive),t.xp6(1),t.Q6J("ngIf",s.progressActive),t.xp6(1),t.Q6J("ngIf",s.lastActivityActive),t.xp6(1),t.Q6J("ngIf",s.statusActive),t.xp6(1),t.Q6J("ngIf",s.startEndDateActive),t.xp6(1),t.Q6J("ngIf",s.daysLeftActive),t.xp6(1),t.Q6J("ngIf",s.healthActive),t.xp6(1),t.Q6J("ngIf",s.categoryActive),t.xp6(1),t.Q6J("ngIf",s.updateActive),t.xp6(1),t.Q6J("ngIf",s.clientActive),t.xp6(1),t.Q6J("ngIf",s.teamActive),t.xp6(2),t.Q6J("ngForOf",Q.data)("ngForTrackBy",s.trackBy)}},dependencies:[g.sg,g.O5,g.RF,g.n9,m.Ls,A.N8,A.qD,A.Uo,A._C,A.Om,A.p0,A.$Z,A.qn,N.ng,j.Zp,j.gB,j.ke,k.Fj,k.JJ,k.On,$.x7,S.ix,T.w,D.dQ,ot.j,at.u,W.a,nt.SY,V.W,x.T,w.M,L.f,y.K,Z.NU,Z.$1],styles:[".ellipsis[_ngcontent-%COMP%]{max-width:225px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.open-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;opacity:0;margin-top:auto;margin-bottom:auto;padding:0 4px;background:#edebf0!important;color:#000000d9;border:none}tr[_ngcontent-%COMP%]:hover   .open-btn[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),d})(),l=(()=>{var o;class d{constructor(){this.length=new t.vpe,this.selectProject=new t.vpe}}return(o=d).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["worklenz-rpt-team-drawer-projects"]],inputs:{teamId:"teamId",teamMemberId:"teamMemberId"},outputs:{length:"length",selectProject:"selectProject"},decls:1,vars:2,consts:[[3,"teamId","teamMemberId","selectProject","length"]],template:function(i,s){1&i&&(t.TgZ(0,"worklenz-rpt-projects-list",0),t.NdJ("selectProject",function(Q){return s.selectProject.emit(Q)})("length",function(Q){return s.length.emit(Q)}),t.qZA()),2&i&&t.Q6J("teamId",s.teamId)("teamMemberId",s.teamMemberId)},dependencies:[Yt],changeDetection:0}),d})(),O=(()=>{var o;class d{transform(i){return i?.trim()||"-"}}return(o=d).\u0275fac=function(i){return new(i||o)},o.\u0275pipe=t.Yjl({name:"bindNa",type:o,pure:!0,standalone:!0}),d})();var _=e(9172);function p(o,d){1&o&&t._UZ(0,"span",8)}function c(o,d){if(1&o){const r=t.EpF();t.TgZ(0,"tr",9),t.NdJ("click",function(){const f=t.CHM(r).$implicit,Q=t.oxw();return t.KtG(Q.openMember(f))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"bindNa"),t.qZA(),t.TgZ(6,"td",6),t._uU(7),t.qZA(),t.TgZ(8,"td",6),t._uU(9),t.qZA(),t.TgZ(10,"td",6),t._uU(11),t.qZA(),t.TgZ(12,"td",6),t._uU(13),t.qZA(),t.TgZ(14,"td",6),t._uU(15),t.qZA()()}if(2&o){const r=d.$implicit;t.xp6(2),t.Oqu(r.name),t.xp6(2),t.Oqu(t.lcZ(5,7,r.email)),t.xp6(3),t.Oqu(r.projects),t.xp6(2),t.Oqu(r.tasks),t.xp6(2),t.Oqu(r.overdue),t.xp6(2),t.Oqu(r.completed),t.xp6(2),t.Oqu(r.ongoing)}}let I=(()=>{var o;class d{constructor(i,s,f){this.cdr=i,this.api=s,this.service=f,this.length=new t.vpe,this.selectMember=new t.vpe,this.loading=!1,this.members=[]}ngOnInit(){this.getMembers()}ngOnDestroy(){this.members=[]}getMembers(){var i=this;return(0,h.Z)(function*(){if(i.teamId){try{i.loading=!0;const s=yield i.api.getOverviewMembersByTeam(i.teamId,i.service.getIncludeToggle());s.done&&(i.members=s.body,i.length.emit(i.members.length)),i.loading=!1}catch{i.loading=!1}i.cdr.markForCheck()}})()}trackBy(i,s){return s.id}openMember(i){this.selectMember.emit(i)}}return(o=d).\u0275fac=function(i){return new(i||o)(t.Y36(t.sBO),t.Y36(K.U),t.Y36(v.m))},o.\u0275cmp=t.Xpm({type:o,selectors:[["worklenz-rpt-team-drawer-members"]],inputs:{teamId:"teamId"},outputs:{length:"length",selectMember:"selectMember"},decls:26,vars:13,consts:[[3,"nzLoading","nzActive"],[1,"mb-3",2,"width","250px",3,"nzSuffix"],["type","text","nz-input","","placeholder","Search by name",3,"ngModel","ngModelChange"],["suffixIconSearch",""],[3,"nzSize","nzData","nzShowPagination","nzHideOnSinglePage"],["membersTable",""],[1,"text-center"],["class","cursor-pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["nz-icon","","nzType","search"],[1,"cursor-pointer",3,"click"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-skeleton",0)(1,"nz-input-group",1)(2,"input",2),t.NdJ("ngModelChange",function(Q){return s.searchText=Q}),t.qZA()(),t.YNc(3,p,1,0,"ng-template",null,3,t.W1O),t.TgZ(5,"nz-table",4,5),t.ALo(7,"searchByName"),t.TgZ(8,"thead")(9,"tr")(10,"th"),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Email"),t.qZA(),t.TgZ(14,"th",6),t._uU(15,"Projects"),t.qZA(),t.TgZ(16,"th",6),t._uU(17,"Tasks"),t.qZA(),t.TgZ(18,"th",6),t._uU(19,"Overdue Tasks"),t.qZA(),t.TgZ(20,"th",6),t._uU(21,"Completed Tasks"),t.qZA(),t.TgZ(22,"th",6),t._uU(23,"Ongoing Tasks"),t.qZA()()(),t.TgZ(24,"tbody"),t.YNc(25,c,16,9,"tr",7),t.qZA()()()),2&i){const f=t.MAs(4),Q=t.MAs(6);t.Q6J("nzLoading",s.loading)("nzActive",!0),t.xp6(1),t.Q6J("nzSuffix",f),t.xp6(1),t.Q6J("ngModel",s.searchText),t.xp6(3),t.Q6J("nzSize","small")("nzData",t.xi3(7,10,s.members,s.searchText))("nzShowPagination",!0)("nzHideOnSinglePage",!0),t.xp6(20),t.Q6J("ngForOf",Q.data)("ngForTrackBy",s.trackBy)}},dependencies:[g.sg,T.w,m.Ls,N.ng,A.N8,A.Uo,A._C,A.Om,A.p0,A.$Z,j.Zp,j.gB,j.ke,k.Fj,k.JJ,k.On,O,_.g],changeDetection:0}),d})();var G=e(47246),st=e(82962),gt=e(10095),Ft=e(44889);function Gt(o,d){1&o&&(t.TgZ(0,"div",10)(1,"div")(2,"h4",11),t._uU(3,"Projects By Status"),t.qZA()()())}function Ht(o,d){1&o&&(t.ynx(0),t.TgZ(1,"div",12)(2,"div",13),t._UZ(3,"img",14),t.qZA(),t.TgZ(4,"span",15),t._uU(5,"No projects to show."),t.qZA()(),t.BQk())}function Vt(o,d){if(1&o&&(t.TgZ(0,"div",22),t._UZ(1,"canvas",23),t.qZA()),2&o){const r=t.oxw(2);t.xp6(1),t.Q6J("width",185)("height",185)("data",r.statusChartData)("options",r.chartOptions)("legend",!1)("type","doughnut")}}function $t(o,d){if(1&o&&(t.TgZ(0,"div",16),t.YNc(1,Vt,2,6,"div",17),t.TgZ(2,"div",18)(3,"ul",19)(4,"li",20),t._UZ(5,"nz-badge",21),t.qZA(),t.TgZ(6,"li",20),t._UZ(7,"nz-badge",21),t.qZA(),t.TgZ(8,"li",20),t._UZ(9,"nz-badge",21),t.qZA(),t.TgZ(10,"li",20),t._UZ(11,"nz-badge",21),t.qZA(),t.TgZ(12,"li",20),t._UZ(13,"nz-badge",21),t.qZA(),t.TgZ(14,"li",20),t._UZ(15,"nz-badge",21),t.qZA(),t.TgZ(16,"li",20),t._UZ(17,"nz-badge",21),t.qZA(),t.TgZ(18,"li",20),t._UZ(19,"nz-badge",21),t.qZA()()()()),2&o){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.model.by_status&&r.model.by_status.chart.length),t.xp6(4),t.Q6J("nzColor","#a9a9a9")("nzText","All ("+((null==r.model.by_status?null:r.model.by_status.all)||0)+")"),t.xp6(2),t.Q6J("nzColor","#80ca79")("nzText","In Progress ("+((null==r.model.by_status?null:r.model.by_status.in_progress)||0)+")"),t.xp6(2),t.Q6J("nzColor","#cbc8a1")("nzText","In Planning ("+((null==r.model.by_status?null:r.model.by_status.in_planning)||0)+")"),t.xp6(2),t.Q6J("nzColor","#80ca79")("nzText","Completed ("+((null==r.model.by_status?null:r.model.by_status.completed)||0)+")"),t.xp6(2),t.Q6J("nzColor","#cbc8a1")("nzText","Proposed ("+((null==r.model.by_status?null:r.model.by_status.proposed)||0)+")"),t.xp6(2),t.Q6J("nzColor","#cbc8a1")("nzText","On Hold ("+((null==r.model.by_status?null:r.model.by_status.on_hold)||0)+")"),t.xp6(2),t.Q6J("nzColor","#cbc8a1")("nzText","Blocked ("+((null==r.model.by_status?null:r.model.by_status.blocked)||0)+")"),t.xp6(2),t.Q6J("nzColor","#f37070")("nzText","Cancelled ("+((null==r.model.by_status?null:r.model.by_status.cancelled)||0)+")")}}function Xt(o,d){1&o&&(t.TgZ(0,"div",10)(1,"div")(2,"h4",11),t._uU(3,"Projects By Category"),t.qZA()()())}function qt(o,d){1&o&&(t.ynx(0),t.TgZ(1,"div",12)(2,"div",13),t._UZ(3,"img",14),t.qZA(),t.TgZ(4,"span",15),t._uU(5,"No projects to show."),t.qZA()(),t.BQk())}function te(o,d){if(1&o&&(t.TgZ(0,"div",22),t._UZ(1,"canvas",23),t.qZA()),2&o){const r=t.oxw(2);t.xp6(1),t.Q6J("width",185)("height",185)("data",r.categoryChartData)("options",r.chartOptions)("legend",!1)("type","doughnut")}}function ee(o,d){if(1&o&&(t.TgZ(0,"li",20),t._UZ(1,"nz-badge",25),t.TgZ(2,"span",26),t._uU(3),t.ALo(4,"ellipsis"),t.qZA()()),2&o){const r=d.$implicit;t.xp6(1),t.Q6J("nzColor",r.color),t.xp6(2),t.Oqu(t.xi3(4,2,r.label,30)+" ("+(r.count||0)+")")}}function ne(o,d){if(1&o&&(t.TgZ(0,"div",16),t.YNc(1,te,2,6,"div",17),t.TgZ(2,"div",18)(3,"ul",19)(4,"li",20),t._UZ(5,"nz-badge",21),t.qZA(),t.YNc(6,ee,5,5,"li",24),t.qZA()()()),2&o){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.model.by_category&&r.model.by_category.chart.length),t.xp6(4),t.Q6J("nzColor","#a9a9a9")("nzText","All ("+((null==r.model.by_status?null:r.model.by_status.all)||0)+")"),t.xp6(1),t.Q6J("ngForOf",null==r.model.by_category?null:r.model.by_category.data)}}function oe(o,d){1&o&&(t.TgZ(0,"div",10)(1,"div")(2,"h4",11),t._uU(3,"Projects By Health"),t.qZA()()())}function re(o,d){1&o&&(t.ynx(0),t.TgZ(1,"div",12)(2,"div",13),t._UZ(3,"img",14),t.qZA(),t.TgZ(4,"span",15),t._uU(5,"No projects to show."),t.qZA()(),t.BQk())}function ae(o,d){if(1&o&&(t.TgZ(0,"div",22),t._UZ(1,"canvas",23),t.qZA()),2&o){const r=t.oxw(2);t.xp6(1),t.Q6J("width",185)("height",185)("data",r.healthChartData)("options",r.chartOptions)("legend",!1)("type","doughnut")}}function se(o,d){if(1&o&&(t.TgZ(0,"div",16),t.YNc(1,ae,2,6,"div",17),t.TgZ(2,"div",18)(3,"ul",19)(4,"li",20),t._UZ(5,"nz-badge",21),t.qZA(),t.TgZ(6,"li",20),t._UZ(7,"nz-badge",21),t.qZA(),t.TgZ(8,"li",20),t._UZ(9,"nz-badge",21),t.qZA(),t.TgZ(10,"li",20),t._UZ(11,"nz-badge",21),t.qZA(),t.TgZ(12,"li",20),t._UZ(13,"nz-badge",21),t.qZA()()()()),2&o){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.model.by_health&&r.model.by_health.chart.length),t.xp6(4),t.Q6J("nzColor","#a9a9a9")("nzText","All ("+((null==r.model.by_status?null:r.model.by_status.all)||0)+")"),t.xp6(2),t.Q6J("nzColor","#a9a9a9")("nzText","Not Set ("+((null==r.model.by_health?null:r.model.by_health.not_set)||0)+")"),t.xp6(2),t.Q6J("nzColor","#f37070")("nzText","Needs Attention ("+((null==r.model.by_health?null:r.model.by_health.needs_attention)||0)+")"),t.xp6(2),t.Q6J("nzColor","#fbc84c")("nzText","At Risk ("+((null==r.model.by_health?null:r.model.by_health.at_risk)||0)+")"),t.xp6(2),t.Q6J("nzColor","#75c997")("nzText","Good ("+((null==r.model.by_health?null:r.model.by_health.good)||0)+")")}}let ie=(()=>{var o;class d{constructor(i,s,f,Q,it){this.ngZone=i,this.cdr=s,this.api=f,this.socket=Q,this.service=it,this.model={},this.loading=!1,this.isStatusChartEmpty=!1,this.isCategoryChartEmpty=!1,this.isHealthChartEmpty=!1,this.statusColors=[],this.categoryColors=[],this.healthColors=[],this.statusChartData={labels:[],datasets:[{label:"Projects",data:[],backgroundColor:this.statusColors,hoverOffset:2}]},this.categoryChartData={labels:[],datasets:[{label:"Projects",data:[],backgroundColor:this.categoryColors,hoverOffset:2}]},this.healthChartData={labels:[],datasets:[{label:"Projects",data:[],backgroundColor:this.healthColors,hoverOffset:2}]},this.chartOptions={plugins:{datalabels:{display:!1}},responsive:!1},this.refresh=ht=>{this.get(),this.cdr.markForCheck()}}ngOnInit(){this.get(),this.listenSockets()}ngOnDestroy(){this.socket.removeListener(b.C.PROJECT_HEALTH_CHANGE.toString(),this.refresh),this.socket.removeListener(b.C.PROJECT_STATUS_CHANGE.toString(),this.refresh),this.socket.removeListener(b.C.PROJECT_CATEGORY_CHANGE.toString(),this.refresh)}listenSockets(){this.socket.on(b.C.PROJECT_HEALTH_CHANGE.toString(),this.refresh),this.socket.on(b.C.PROJECT_STATUS_CHANGE.toString(),this.refresh),this.socket.on(b.C.PROJECT_CATEGORY_CHANGE.toString(),this.refresh)}get(){var i=this;return(0,h.Z)(function*(){if(i.teamId)try{i.loading=!0,i.clearCharts();const s=yield i.api.getTeamInfo(i.teamId,i.service.getIncludeToggle());s.done&&(i.model=s.body,i.drawCharts(s.body)),i.loading=!1,i.cdr.markForCheck()}catch{i.loading=!1,i.cdr.markForCheck()}})()}drawCharts(i){if(i.by_status){for(const s of i.by_status.chart)this.statusChartData.labels?.push(s.name),this.statusChartData.datasets[0].data.push(s.y||0),this.statusColors.push(s.color);this.statusChart?.update(),this.statusChartData.datasets[0].data.every(s=>0===s)&&(this.isStatusChartEmpty=!0)}if(i.by_category){for(const s of i.by_category.chart)this.categoryChartData.labels?.push(s.name),this.categoryChartData.datasets[0].data.push(s.y||0),this.categoryColors.push(s.color);this.categoryChart?.update(),this.categoryChartData.datasets[0].data.every(s=>0===s)&&(this.isCategoryChartEmpty=!0)}if(i.by_health){for(const s of i.by_health.chart)this.healthChartData.labels?.push(s.name),this.healthChartData.datasets[0].data.push(s.y||0),this.healthColors.push(s.color);this.healthChart?.update(),this.healthChartData.datasets[0].data.every(s=>0===s)&&(this.isHealthChartEmpty=!0)}this.cdr.markForCheck()}clearCharts(){this.statusChartData.datasets[0].data=[],this.categoryChartData.datasets[0].data=[],this.healthChartData.datasets[0].data=[],this.statusChartData.labels=[],this.categoryChartData.labels=[],this.healthChartData.labels=[],this.cdr.markForCheck()}}return(o=d).\u0275fac=function(i){return new(i||o)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(K.U),t.Y36(q.s),t.Y36(v.m))},o.\u0275cmp=t.Xpm({type:o,selectors:[["worklenz-rpt-team-overview"]],viewQuery:function(i,s){if(1&i&&(t.Gf(G.jh,5),t.Gf(G.jh,5),t.Gf(G.jh,5)),2&i){let f;t.iGM(f=t.CRH())&&(s.statusChart=f.first),t.iGM(f=t.CRH())&&(s.categoryChart=f.first),t.iGM(f=t.CRH())&&(s.healthChart=f.first)}},inputs:{teamId:"teamId"},decls:22,vars:13,consts:[["nz-row","",3,"nzGutter"],["nz-col","",1,"mb-2",3,"nzSpan"],[3,"nzTitle"],["statusCardTitle",""],[1,"card-content"],[4,"ngIf"],["class","d-flex",4,"ngIf"],["categoryCardTitle",""],["nz-col","",1,"mt-2","mb-2",3,"nzSpan"],["duedateCardTitle",""],[1,"d-flex","align-items-center"],[1,"mb-0"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],[1,"d-flex"],["class","position-relative","style","max-width: 200px",4,"ngIf"],[1,"chart-details","ms-3"],[1,"list-unstyled"],[1,"mb-1","chart-label"],[3,"nzColor","nzText"],[1,"position-relative",2,"max-width","200px"],["baseChart","",3,"width","height","data","options","legend","type"],["class","mb-1 chart-label",4,"ngFor","ngForOf"],[3,"nzColor"],[2,"font-size","13px"]],template:function(i,s){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nz-card",2),t.YNc(3,Gt,4,0,"ng-template",null,3,t.W1O),t.TgZ(5,"div",4),t.YNc(6,Ht,6,0,"ng-container",5),t.YNc(7,$t,20,17,"div",6),t.qZA()()(),t.TgZ(8,"div",1)(9,"nz-card",2),t.YNc(10,Xt,4,0,"ng-template",null,7,t.W1O),t.TgZ(12,"div",4),t.YNc(13,qt,6,0,"ng-container",5),t.YNc(14,ne,7,4,"div",6),t.qZA()()(),t.TgZ(15,"div",8)(16,"nz-card",2),t.YNc(17,oe,4,0,"ng-template",null,9,t.W1O),t.TgZ(19,"div",4),t.YNc(20,re,6,0,"ng-container",5),t.YNc(21,se,14,11,"div",6),t.qZA()()()()),2&i){const f=t.MAs(4),Q=t.MAs(11),it=t.MAs(18);t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",f),t.xp6(4),t.Q6J("ngIf",s.isStatusChartEmpty),t.xp6(1),t.Q6J("ngIf",!s.loading&&!s.isStatusChartEmpty),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",Q),t.xp6(4),t.Q6J("ngIf",s.isCategoryChartEmpty),t.xp6(1),t.Q6J("ngIf",!s.loading&&!s.isCategoryChartEmpty),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",it),t.xp6(4),t.Q6J("ngIf",s.isHealthChartEmpty),t.xp6(1),t.Q6J("ngIf",!s.loading&&!s.isHealthChartEmpty)}},dependencies:[g.sg,g.O5,$.x7,st.bd,gt.t3,gt.SK,G.jh,Ft.p],styles:[".chart-details[_ngcontent-%COMP%]{height:220px;max-height:220px;overflow-y:auto}.no-data-img-holder[_ngcontent-%COMP%]{width:65px}"],changeDetection:0}),d})();function _e(o,d){if(1&o&&(t.TgZ(0,"button",12),t._uU(1," Export "),t._UZ(2,"span",13),t.qZA()),2&o){t.oxw();const r=t.MAs(8),i=t.oxw();t.Q6J("nzType","primary")("nzDropdownMenu",r)("nzPlacement","bottomRight")("nzLoading",i.exporting),t.xp6(2),t.Q6J("nzType","down")}}function le(o,d){if(1&o){const r=t.EpF();t.TgZ(0,"div",4)(1,"p",5),t._UZ(2,"span",6),t._uU(3),t.qZA(),t.TgZ(4,"div",7)(5,"nz-space"),t.YNc(6,_e,3,5,"button",8),t.TgZ(7,"nz-dropdown-menu",null,9)(9,"ul",10)(10,"li",11),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.exportProjects())}),t._uU(11,"Projects"),t.qZA(),t.TgZ(12,"li",11),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.exportMembers())}),t._uU(13,"Members"),t.qZA()()()()()()}if(2&o){const r=t.oxw();t.xp6(2),t.Q6J("nzType","bank")("nzTheme","outline"),t.xp6(1),t.hij(" ",null==r.team?null:r.team.name," ")}}function ce(o,d){if(1&o){const r=t.EpF();t.ynx(0),t.TgZ(1,"nz-tabset",15)(2,"nz-tab",16),t._UZ(3,"worklenz-rpt-team-overview",17),t.qZA(),t.TgZ(4,"nz-tab",16)(5,"worklenz-rpt-team-drawer-projects",18),t.NdJ("length",function(s){t.CHM(r);const f=t.oxw(2);return t.KtG(f.projectsLength=s)})("selectProject",function(s){t.CHM(r);const f=t.oxw(2);return t.KtG(f.openProject(s))}),t.qZA()(),t.TgZ(6,"nz-tab",16)(7,"worklenz-rpt-team-drawer-members",19),t.NdJ("length",function(s){t.CHM(r);const f=t.oxw(2);return t.KtG(f.membersLength=s)})("selectMember",function(s){t.CHM(r);const f=t.oxw(2);return t.KtG(f.openMember(s,null))}),t.qZA()()(),t.BQk()}if(2&o){const r=t.oxw(2);t.xp6(1),t.Q6J("nzType","card"),t.xp6(1),t.Q6J("nzTitle","Overview"),t.xp6(1),t.Q6J("teamId",r.team.id),t.xp6(1),t.Q6J("nzTitle","Projects ("+r.projectsLength+")"),t.xp6(1),t.Q6J("teamId",r.team.id),t.xp6(1),t.Q6J("nzTitle","Members ("+r.membersLength+")"),t.xp6(1),t.Q6J("teamId",r.team.id)}}function pe(o,d){if(1&o&&t.YNc(0,ce,8,7,"ng-container",14),2&o){const r=t.oxw(),i=t.MAs(6);t.Q6J("ngIf",r.team)("ngIfElse",i)}}function de(o,d){1&o&&(t.TgZ(0,"strong",20),t._uU(1,"Invalid team. Please reload the page and try again."),t.qZA())}let me=(()=>{var o;class d{get show(){return!!this.team}constructor(i,s,f,Q){this.drawer=i,this.service=s,this.cdr=f,this.exportApi=Q,this.projectsLength=0,this.membersLength=0,this.team=null,this.exporting=!1,this.drawer.onOpenTeam.pipe((0,a.sL)()).subscribe(it=>{this.open(it)})}close(){this.team=null}openProject(i){this.team=this.service.getCurrentTeam(),this.drawer.openProject(i)}openMember(i,s){this.drawer.openMember(i,s)}open(i){this.team=i,this.cdr.markForCheck()}exportProjects(){var i=this;return(0,h.Z)(function*(){if(!i.team)return;const s=i.team;try{i.exporting=!0,yield i.exportApi.exportOverviewProjectsByTeam(s.id,s.name),i.exporting=!1,i.cdr.markForCheck()}catch(f){(0,C.tu)(f),i.exporting=!1,i.cdr.markForCheck()}})()}exportMembers(){var i=this;return(0,h.Z)(function*(){if(!i.team)return;const s=i.team;try{i.exporting=!0,i.exportApi.exportOverviewMembersByTeam(s.id,s.name),i.exporting=!1,i.cdr.markForCheck()}catch(f){(0,C.tu)(f),i.exporting=!1,i.cdr.markForCheck()}})()}}return(o=d).\u0275fac=function(i){return new(i||o)(t.Y36(z.b),t.Y36(v.m),t.Y36(t.sBO),t.Y36(n.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["worklenz-rpt-team-drawer"]],decls:7,vars:6,consts:[[3,"nzClosable","nzVisible","nzPlacement","nzTitle","nzContent","nzWidth","nzOnClose"],["teamDrawerTitle",""],["teamDrawerContent",""],["invalidTeam",""],[1,"d-flex","align-items-center","w-100"],[1,"mb-0"],["nz-icon","",1,"ms-2",3,"nzType","nzTheme"],[1,"ms-auto"],["nz-button","","nz-dropdown","",3,"nzType","nzDropdownMenu","nzPlacement","nzLoading",4,"nzSpaceItem"],["exportDropdown","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-button","","nz-dropdown","",3,"nzType","nzDropdownMenu","nzPlacement","nzLoading"],["nz-icon","",3,"nzType"],[4,"ngIf","ngIfElse"],[3,"nzType"],[3,"nzTitle"],[3,"teamId"],[3,"teamId","length","selectProject"],[3,"teamId","length","selectMember"],[1,"text-center"]],template:function(i,s){if(1&i&&(t.TgZ(0,"nz-drawer",0),t.NdJ("nzOnClose",function(){return s.close()}),t.qZA(),t.YNc(1,le,14,3,"ng-template",null,1,t.W1O),t.YNc(3,pe,1,2,"ng-template",null,2,t.W1O),t.YNc(5,de,2,0,"ng-template",null,3,t.W1O)),2&i){const f=t.MAs(2),Q=t.MAs(4);t.Q6J("nzClosable",!0)("nzVisible",s.show)("nzPlacement","right")("nzTitle",f)("nzContent",Q)("nzWidth",900)}},dependencies:[g.O5,M.Vz,Z.NU,Z.$1,S.ix,T.w,D.dQ,m.Ls,E.xH,E.xw,u.wO,u.r9,P.cm,P.RR,P.wA,l,I,ie],changeDetection:0}),d})()},15484:(et,B,e)=>{e.d(B,{C:()=>J});var h=e(96814),a=e(43389),C=e(92574),t=e(42840),z=e(62595),v=e(79382),n=e(24139),g=e(13740),M=e(20824),Z=e(60095),S=e(19703),T=e(62787),D=e(73460),m=e(33640),E=e(82962),u=e(10095),P=e(47246),b=e(65879);let J=(()=>{var K;class U{}return(K=U).\u0275fac=function(H){return new(H||K)},K.\u0275mod=b.oAB({type:K}),K.\u0275inj=b.cJS({imports:[h.ez,a.BL,C.zf,t.sL,z.PV,v.we,n.H0,g.HQ,M.o7,Z.u5,T.b1,D.ip,S.B,m.mS,E.vh,u.Jb,P.vQ]}),U})()}}]);