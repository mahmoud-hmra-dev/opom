"use strict";(self.webpackChunkworklenz=self.webpackChunkworklenz||[]).push([[521],{42521:(re,D,s)=>{s.r(D),s.d(D,{AdminCenterModule:()=>et});var b=s(96814),y=s(52787),o=s(15861),_=s(69649),e=s(65879),J=s(26857),C=s(69862);let N=(()=>{var a;class c extends J.P{constructor(t){super(),this.http=t,this.root=`${this.API_BASE_URL}/admin-center`}getOrganizationName(){return this._get(this.http,`${this.root}/organization`)}getOrganizationAdmins(){return this._get(this.http,`${this.root}/organization/admins`)}updateOrganizationName(t){return this._put(this.http,`${this.root}/organization`,t)}updateOwnerContactNumber(t){return this._put(this.http,`${this.root}/organization/owner/contact-number`,t)}getOrganizationUsers(t,n,l,u,x){const v=encodeURIComponent(x||"");return this._get(this.http,`${this.root}/organization/users${(0,_.UK)({index:t,size:n,field:l,order:u,search:v})}`)}getOrganizationTeams(t,n,l,u,x){const v=encodeURIComponent(x||"");return this._get(this.http,`${this.root}/organization/teams${(0,_.UK)({index:t,size:n,field:l,order:u,search:v})}`)}getOrganizationTeam(t){return this._get(this.http,`${this.root}/organization/team/${t}`)}updateTeam(t,n){return this._put(this.http,`${this.root}/organization/team/${t}`,n)}deleteTeam(t){return this._delete(this.http,`${this.root}/organization/team/${t}`)}removeTeamMember(t,n){return this._put(this.http,`${this.root}/organization/team-member/${t}`,{teamId:n})}}return(a=c).\u0275fac=function(t){return new(t||a)(e.LFG(C.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),c})();var T=s(26254),h=s(62595),Z=s(82962),P=s(8083),f=s(13740),M=s(92574),A=s(20824),S=s(70855),w=s(24139),I=s(96109),g=s(60095);const $=["numberInput"];function R(a,c){1&a&&e._UZ(0,"span",16),2&a&&e.Q6J("nzTooltipTitle","Email Address")}function K(a,c){if(1&a&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&a){const r=e.oxw();e.xp6(1),e.Oqu(r.organizationDetails.email)}}function L(a,c){1&a&&e._UZ(0,"span",17),2&a&&e.Q6J("nzTooltipTitle","Contact Number")}function Y(a,c){if(1&a&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&a){const r=e.oxw(3);e.xp6(1),e.Oqu(r.organizationDetails.contact_number)}}function q(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"span",24),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.focusNumberInput())}),e._uU(1,"Add Contact Number"),e.qZA()}}function j(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"div",25)(1,"input",26,27),e.NdJ("ngModelChange",function(n){e.CHM(r);const l=e.oxw(3);return e.KtG(l.organizationDetails.contact_number=n)})("input",function(n){e.CHM(r);const l=e.oxw(3);return e.KtG(l.sanitizeContactNumber(n))})("blur",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.updateOwnerContactNumber())})("keydown.enter",function(){e.CHM(r);const n=e.oxw(3);return e.KtG(n.updateOwnerContactNumber())}),e.qZA()()}if(2&a){const r=e.oxw(3);e.xp6(1),e.Q6J("ngModel",r.organizationDetails.contact_number)}}function H(a,c){if(1&a&&(e.TgZ(0,"div",19),e.YNc(1,Y,2,1,"span",20),e.YNc(2,q,2,0,"span",21),e.YNc(3,j,3,1,"div",22),e.qZA()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.organizationDetails.contact_number&&!r.isNumberEditing),e.xp6(1),e.Q6J("ngIf",!r.organizationDetails.contact_number&&!r.isNumberEditing),e.xp6(1),e.Q6J("ngIf",r.isNumberEditing)}}function Q(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"span",30),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(4);return e.KtG(n.focusNumberInput())}),e.qZA()}}function B(a,c){if(1&a&&(e.ynx(0),e.YNc(1,Q,1,0,"span",29),e.BQk()),2&a){const r=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!r.isNumberEditing)}}function W(a,c){if(1&a&&(e.ynx(0),e.YNc(1,B,2,1,"ng-container",28),e.BQk()),2&a){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",r.organizationDetails.contact_number)}}function V(a,c){1&a&&(e.TgZ(0,"span")(1,"nz-space",6),e.YNc(2,H,4,3,"div",18),e.YNc(3,W,2,1,"ng-container",12),e.qZA()())}function X(a,c){1&a&&(e.TgZ(0,"span",34),e._uU(1,"(Owner)"),e.qZA())}function ie(a,c){if(1&a&&(e.TgZ(0,"tr")(1,"td",31),e._uU(2),e.YNc(3,X,2,0,"span",32),e.qZA(),e.TgZ(4,"td",33),e._uU(5),e.qZA()()),2&a){const r=c.$implicit;e.xp6(2),e.hij("",r.name," "),e.xp6(1),e.Q6J("ngIf",r.is_owner),e.xp6(2),e.Oqu(r.email)}}const ee=function(){return{rows:3}},i=function(){return{rows:5}};let m=(()=>{var a;class c{constructor(t,n){this.api=t,this.ngZone=n,this.loadingName=!1,this.loadingAdmins=!1,this.isNumberEditing=!1,this.organizationDetails={},this.organizationAdmins=[]}ngOnInit(){this.getOrganizationName(),this.getOrganizationAdmins()}getOrganizationName(){var t=this;return(0,o.Z)(function*(){try{t.loadingName=!0;const n=yield t.api.getOrganizationName();n.done&&(t.loadingName=!1,t.organizationDetails=n.body)}catch(n){t.loadingName=!1,(0,_.tu)(n)}})()}getOrganizationAdmins(){var t=this;return(0,o.Z)(function*(){try{t.loadingAdmins=!0;const n=yield t.api.getOrganizationAdmins();n.done&&(t.loadingAdmins=!1,t.organizationAdmins=n.body)}catch(n){t.loadingAdmins=!1,(0,_.tu)(n)}})()}updateOrganizationName(){var t=this;return(0,o.Z)(function*(){try{t.loadingName=!0,(yield t.api.updateOrganizationName({name:t.organizationDetails.name})).done&&(t.loadingName=!1)}catch(n){t.loadingName=!1,(0,_.tu)(n)}yield t.getOrganizationName()})()}updateOwnerContactNumber(){var t=this;return(0,o.Z)(function*(){try{t.loadingName=!0,t.isNumberEditing=!1,(yield t.api.updateOwnerContactNumber({contact_number:t.organizationDetails.contact_number||""})).done&&(t.loadingName=!1,yield t.getOrganizationName())}catch(n){t.loadingName=!1,(0,_.tu)(n)}})()}focusNumberInput(){this.isNumberEditing=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.numberInput?.nativeElement.focus(),this.numberInput?.nativeElement.select()},100)})}sanitizeContactNumber(t){const l=t.target.value.replace(/[^0-9()+ -]/g,"");this.organizationDetails.contact_number=l}}return(a=c).\u0275fac=function(t){return new(t||a)(e.Y36(N),e.Y36(e.R0b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["worklenz-overview"]],viewQuery:function(t,n){if(1&t&&e.Gf($,5),2&t){let l;e.iGM(l=e.CRH())&&(n.numberInput=l.first)}},decls:35,vars:14,consts:[[1,"px-0",3,"nzGhost"],[1,"card-content"],["nz-typography","","nzEditable","",3,"nzContent","nzContentChange"],[1,"mt-4"],[3,"nzLoading","nzActive","nzParagraph"],["nz-typography",""],[1,"align-items-center"],["nz-icon","","nzType","mail","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle",4,"nzSpaceItem"],["nz-typography","",4,"nzSpaceItem"],[1,"mt-2"],[1,"align-items-center",2,"margin-left","-4px"],["nz-icon","","nzType","phone","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle",4,"nzSpaceItem"],[4,"nzSpaceItem"],[3,"nzNoResult","nzData","nzPaginationType"],["adminsTable",""],[4,"ngFor","ngForOf"],["nz-icon","","nzType","mail","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle"],["nz-icon","","nzType","phone","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle"],["class","position-relative","style","min-height: 32px",4,"nzSpaceItem"],[1,"position-relative",2,"min-height","32px"],["nz-typography","","style","line-height: 32px",4,"ngIf"],["nz-typography","","class","text-btn",3,"click",4,"ngIf"],["class","number-input",4,"ngIf"],["nz-typography","",2,"line-height","32px"],["nz-typography","",1,"text-btn",3,"click"],[1,"number-input"],["nz-input","","type","tel","placeholder","Add Contact Number","maxlength","20",3,"ngModel","ngModelChange","input","blur","keydown.enter"],["numberInput",""],[4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline","class","edit-btn",3,"click",4,"ngIf"],["nz-icon","","nzType","edit","nzTheme","outline",1,"edit-btn",3,"click"],[1,"left-td"],["nz-typography","","nzType","secondary",4,"ngIf"],[1,"b-65"],["nz-typography","","nzType","secondary"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-page-header",0)(1,"nz-page-header-title"),e._uU(2,"Overview"),e.qZA()(),e.TgZ(3,"nz-card")(4,"h4"),e._uU(5,"Organization Name"),e.qZA(),e.TgZ(6,"div",1)(7,"p",2),e.NdJ("nzContentChange",function(u){return n.organizationDetails.name=u})("nzContentChange",function(){return n.updateOrganizationName()}),e.qZA()()(),e._UZ(8,"div",3),e.TgZ(9,"nz-card")(10,"h4"),e._uU(11,"Organization Owner"),e.qZA(),e.TgZ(12,"div",1)(13,"nz-skeleton",4)(14,"p",5),e._uU(15),e.qZA(),e.TgZ(16,"div")(17,"nz-space",6),e.YNc(18,R,1,1,"span",7),e.YNc(19,K,2,1,"span",8),e.qZA()(),e.TgZ(20,"div",9)(21,"nz-space",10),e.YNc(22,L,1,1,"span",11),e._uU(23,"\xa0 "),e.YNc(24,V,4,0,"span",12),e.qZA()()()()(),e._UZ(25,"div",3),e.TgZ(26,"nz-card")(27,"h4"),e._uU(28,"Organization Admins"),e.qZA(),e.TgZ(29,"div",1)(30,"nz-skeleton",4)(31,"nz-table",13,14)(33,"tbody"),e.YNc(34,ie,6,3,"tr",15),e.qZA()()()()()),2&t){const l=e.MAs(32);e.Q6J("nzGhost",!1),e.xp6(7),e.Q6J("nzContent",n.organizationDetails.name),e.xp6(6),e.Q6J("nzLoading",n.loadingName)("nzActive",!0)("nzParagraph",e.DdM(12,ee)),e.xp6(2),e.Oqu(n.organizationDetails.owner_name),e.xp6(15),e.Q6J("nzLoading",n.loadingAdmins)("nzActive",!0)("nzParagraph",e.DdM(13,i)),e.xp6(1),e.Q6J("nzData",n.organizationAdmins)("nzPaginationType","small"),e.xp6(3),e.Q6J("ngForOf",l.data)}},dependencies:[b.sg,b.O5,T.$O,T.u9,h.Ls,Z.bd,P.ZU,f.N8,f.Uo,f.p0,f.$Z,M.NU,M.$1,A.Zp,S.w,w.ng,I.SY,g.Fj,g.JJ,g.nD,g.On],styles:[".card-content[_ngcontent-%COMP%]{padding-top:8px}h4[_ngcontent-%COMP%]{font-size:16px}p[_ngcontent-%COMP%]{margin-bottom:8px}.b-65[_ngcontent-%COMP%]{color:#000000a6}.left-td[_ngcontent-%COMP%]{width:250px}.number-input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;min-width:200px;width:100%}.edit-btn[_ngcontent-%COMP%]{cursor:pointer;color:#1890ff}.text-btn[_ngcontent-%COMP%]{line-height:32px;cursor:pointer;color:#188fff}"]}),c})();var d=s(21406),p=s(3599),z=s(42840),U=s(41958),O=s(33640),F=s(96928),G=s(2919);function me(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.getUsers())}),e._UZ(1,"span",11),e.qZA()}}function de(a,c){1&a&&e._UZ(0,"span",16)}function ue(a,c){if(1&a&&(e.TgZ(0,"form",12)(1,"nz-input-group",13),e._UZ(2,"input",14),e.qZA(),e.YNc(3,de,1,0,"ng-template",null,15,e.W1O),e.qZA()),2&a){const r=e.MAs(4),t=e.oxw();e.Q6J("formGroup",t.searchForm)("nzLayout","vertical"),e.xp6(1),e.Q6J("nzSuffix",r),e.xp6(1),e.Q6J("formControlName","search")}}function ge(a,c){if(1&a&&(e.TgZ(0,"tr",17)(1,"td",18),e._UZ(2,"nz-avatar",19),e.ALo(3,"firstCharUpper"),e.TgZ(4,"nz-badge"),e._uU(5),e.TgZ(6,"span",20),e._uU(7),e.qZA()()(),e.TgZ(8,"td",18),e._uU(9),e.qZA(),e.TgZ(10,"td",18),e._uU(11),e.ALo(12,"date"),e.qZA()()),2&a){const r=c.$implicit,t=e.oxw();e.xp6(2),e.Udp("background-color",r.avatar_url?"#ececec":t.getColor(r.name)),e.s9C("nzText",e.lcZ(3,10,r.name)),e.Q6J("nzSize",28)("nzSrc",r.avatar_url),e.xp6(3),e.hij(" ",r.name," "),e.xp6(1),e.Q6J("nzType","secondary"),e.xp6(1),e.Oqu(r.is_admin?"(Admin)":r.is_owner?"(Owner)":""),e.xp6(2),e.hij(" ",r.email," "),e.xp6(2),e.hij(" ",e.xi3(12,12,r.last_logged,"medium")||"-"," ")}}function ze(a,c){1&a&&(e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"img",23),e.qZA(),e.TgZ(3,"span",24),e._uU(4,"No users found in the organization."),e.qZA()())}const _e=function(){return[]};let he=(()=>{var a;class c{constructor(t,n){this.api=t,this.fb=n,this.visible=!1,this.visibleNewMember=!1,this.users=[],this.loading=!1,this.total=0,this.pageSize=d.L8,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.sortField=null,this.sortOrder=null,this.form=this.fb.group({name:[null,[g.kI.required]]}),this.searchForm=this.fb.group({search:[]}),this.searchForm.valueChanges.subscribe(()=>this.getUsers())}getColor(t){return d.Lj[t?.charAt(0).toUpperCase()||"A"]}onQueryParamsChange(t){var n=this;return(0,o.Z)(function*(){const{pageSize:l,pageIndex:u,sort:x}=t;n.pageIndex=u,n.pageSize=l;const v=x.find(E=>null!==E.value);n.sortField=v&&v.key||null,n.sortOrder=v&&v.value||null,yield n.getUsers()})()}getUsers(){var t=this;return(0,o.Z)(function*(){try{t.loading=!0;const n=yield t.api.getOrganizationUsers(t.pageIndex,t.pageSize,t.sortField,t.sortOrder,t.searchForm.value.search);n.done&&(t.total=n.body.total||0,t.users=n.body.data||[],t.loading=!1)}catch(n){t.loading=!1,(0,_.tu)(n)}})()}}return(a=c).\u0275fac=function(t){return new(t||a)(e.Y36(N),e.Y36(g.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["worklenz-users"]],decls:26,vars:14,consts:[[1,"px-0",3,"nzGhost"],[1,"site-page-header","pt-0","ps-0"],["nz-button","","nz-tooltip","","nzShape","circle","nzTooltipTitle","Refresh users","nzType","default",3,"click",4,"nzSpaceItem"],["nz-form","",3,"formGroup","nzLayout",4,"nzSpaceItem"],[3,"nzActive","nzLoading"],["nzShowSizeChanger","","nzSize","small",1,"custom-table",3,"nzData","nzFrontPagination","nzLoading","nzPageIndex","nzPageSizeOptions","nzPageSize","nzTotal","nzNoResult","nzQueryParams"],["usersTable",""],["scope","col"],["class","actions-row",4,"ngFor","ngForOf"],["noDataTemplate",""],["nz-button","","nz-tooltip","","nzShape","circle","nzTooltipTitle","Refresh users","nzType","default",3,"click"],["nz-icon","","nzTheme","outline","nzType","sync"],["nz-form","",3,"formGroup","nzLayout"],[3,"nzSuffix"],["nz-input","","placeholder","Search by name","type","text",3,"formControlName"],["suffixIconSearch",""],["nz-icon","","nzType","search"],[1,"actions-row"],[1,"cursor-pointer"],[1,"me-2",3,"nzSize","nzText","nzSrc"],["nz-typography","",3,"nzType"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-page-header",0)(1,"nz-page-header-title"),e._uU(2,"Users"),e.qZA()(),e.TgZ(3,"nz-page-header",1)(4,"nz-page-header-subtitle"),e._uU(5),e.qZA(),e.TgZ(6,"nz-page-header-extra")(7,"nz-space"),e.YNc(8,me,2,0,"button",2),e.YNc(9,ue,5,4,"form",3),e.qZA()()(),e.TgZ(10,"nz-card")(11,"nz-skeleton",4)(12,"nz-table",5,6),e.NdJ("nzQueryParams",function(u){return n.onQueryParamsChange(u)}),e.TgZ(14,"thead")(15,"tr")(16,"th",7),e._uU(17,"User"),e.qZA(),e.TgZ(18,"th",7),e._uU(19,"Email"),e.qZA(),e.TgZ(20,"th",7),e._uU(21,"Last Activity"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,ge,13,15,"tr",8),e.qZA()()()(),e.YNc(24,ze,5,0,"ng-template",null,9,e.W1O)),2&t){const l=e.MAs(13),u=e.MAs(25);e.Q6J("nzGhost",!1),e.xp6(5),e.hij("",n.total," users"),e.xp6(6),e.Q6J("nzActive",!1)("nzLoading",!1),e.xp6(1),e.Q6J("nzData",n.users||e.DdM(13,_e))("nzFrontPagination",!1)("nzLoading",n.loading)("nzPageIndex",n.pageIndex)("nzPageSizeOptions",n.paginationSizes)("nzPageSize",n.pageSize)("nzTotal",n.total)("nzNoResult",u),e.xp6(11),e.Q6J("ngForOf",l.data)}},dependencies:[b.sg,T.$O,T.u9,T.yG,T.Jp,h.Ls,Z.bd,P.ZU,f.N8,f.Uo,f._C,f.Om,f.p0,f.$Z,M.NU,M.$1,p.Lr,A.Zp,A.gB,A.ke,z.ix,S.w,U.dQ,w.ng,O.x7,F.Dz,I.SY,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,b.uU,G.I],styles:[".you-text[_ngcontent-%COMP%]{font-size:12px;color:#00000073}.admin-text[_ngcontent-%COMP%]{font-size:12px;background-color:#faad141a;font-weight:500;padding:0 4px;border-radius:12px;color:#faad14}.ant-dropdown[_ngcontent-%COMP%]{position:relative;margin:0;padding:4px 0;text-align:left;list-style-type:none;background-color:#fff;background-clip:padding-box;border-radius:2px;outline:none;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d}.ant-form-item-label[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{float:left!important}.role-selector[_ngcontent-%COMP%]{margin-top:24px}nz-page-header-subtitle[_ngcontent-%COMP%]{color:#000000d9;font-weight:500;font-size:16px}.no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:42px}"]}),c})();var fe=s(45538),Te=s(83916),ve=s(90586),xe=s(95542),be=s(93302),se=s(9435),ce=s(10095),te=s(43389),ne=s(9691),le=s(99183),pe=s(19035);function ye(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.getTeams())}),e._UZ(1,"span",19),e.qZA()}}function Ce(a,c){1&a&&e._UZ(0,"span",24)}function Ze(a,c){if(1&a&&(e.TgZ(0,"form",20)(1,"nz-input-group",21),e._UZ(2,"input",22),e.qZA(),e.YNc(3,Ce,1,0,"ng-template",null,23,e.W1O),e.qZA()),2&a){const r=e.MAs(4),t=e.oxw();e.Q6J("nzLayout","vertical")("formGroup",t.searchForm),e.xp6(1),e.Q6J("nzSuffix",r),e.xp6(1),e.Q6J("formControlName","search")}}function Ae(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"span")(1,"button",25),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.openNewTeam())}),e._uU(2,"Add Team"),e.qZA()()}}function Oe(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(r);const n=e.oxw(2);return e.KtG(n.openTeamDrawer(n.currentTeam))}),e._UZ(1,"span",35),e.qZA()}2&a&&e.Q6J("nzTooltipPlacement","top")("nzTooltipTitle","Settings")("nzType","default")}function Ne(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"button",36),e.NdJ("nzOnConfirm",function(){e.CHM(r);const n=e.oxw(2);return e.KtG(n.deleteTeam(n.currentTeam.id))}),e._UZ(1,"span",37),e.qZA()}2&a&&e.Q6J("nzOkText","Yes")("nzPopconfirmTitle","Are you sure?")("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle","Delete")("nzType","default")}function Me(a,c){if(1&a&&(e.TgZ(0,"tr",26)(1,"td",27),e._UZ(2,"nz-badge",28),e.qZA(),e.TgZ(3,"td",29),e._uU(4),e.qZA(),e.TgZ(5,"td",27),e._UZ(6,"worklenz-avatars",30),e.qZA(),e.TgZ(7,"td",27)(8,"div",31)(9,"nz-space"),e.YNc(10,Oe,2,3,"button",32),e.YNc(11,Ne,2,6,"button",33),e.qZA()()()()),2&a){const r=e.oxw();e.xp6(2),e.Q6J("nzText",r.currentTeam.name),e.xp6(2),e.hij(" ",r.currentTeam.members_count," "),e.xp6(2),e.Q6J("names",r.currentTeam.names)}}function Pe(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(r);const n=e.oxw().$implicit,l=e.oxw();return e.KtG(l.openTeamDrawer(n))}),e._UZ(1,"span",35),e.qZA()}2&a&&e.Q6J("nzTooltipPlacement","top")("nzTooltipTitle","Settings")("nzType","default")}function Ue(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"button",36),e.NdJ("nzOnConfirm",function(){e.CHM(r);const n=e.oxw().$implicit,l=e.oxw();return e.KtG(l.deleteTeam(n.id))}),e._UZ(1,"span",37),e.qZA()}2&a&&e.Q6J("nzOkText","Yes")("nzPopconfirmTitle","Are you sure?")("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle","Delete")("nzType","default")}function De(a,c){if(1&a&&(e.TgZ(0,"tr",26)(1,"td",27),e._uU(2),e.qZA(),e.TgZ(3,"td",29),e._uU(4),e.qZA(),e.TgZ(5,"td",27),e._UZ(6,"worklenz-avatars",30),e.qZA(),e.TgZ(7,"td",27)(8,"div",31)(9,"nz-space"),e.YNc(10,Pe,2,3,"button",32),e.YNc(11,Ue,2,6,"button",33),e.qZA()()()()),2&a){const r=c.$implicit;e.xp6(2),e.hij(" ",r.name," "),e.xp6(2),e.hij(" ",r.members_count," "),e.xp6(2),e.Q6J("names",r.names)}}function Se(a,c){1&a&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"img",40),e.qZA(),e.TgZ(3,"span",41),e._uU(4,"No teams found in the organization."),e.qZA()())}function we(a,c){}function Ie(a,c){if(1&a){const r=e.EpF();e.TgZ(0,"button",36),e.NdJ("nzOnConfirm",function(){e.CHM(r);const n=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.deleteTeamMember(n.value.id))}),e._UZ(1,"span",37),e.qZA()}2&a&&e.Q6J("nzOkText","Yes")("nzPopconfirmTitle","Are you sure?")("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle","Delete")("nzType","default")}function Je(a,c){if(1&a&&(e.TgZ(0,"tr",50)(1,"td"),e._UZ(2,"nz-avatar",51),e.ALo(3,"firstCharUpper"),e.TgZ(4,"nz-badge"),e._uU(5),e.qZA()(),e.TgZ(6,"td")(7,"nz-select",52),e._UZ(8,"nz-option",53)(9,"nz-option",54)(10,"nz-option",55),e.qZA()(),e.TgZ(11,"td"),e.YNc(12,Ie,2,6,"button",56),e.qZA()()),2&a){const r=c.$implicit,t=c.index,n=e.oxw(2);e.Q6J("formGroupName",t),e.xp6(2),e.Udp("background-color",r.value.avatar_url?"#ececec":n.getColor("name")),e.Q6J("nzSize",28)("nzText",e.lcZ(3,12,r.value.name))("nzSrc",r.value.avatar_url),e.xp6(3),e.Oqu(r.value.name),e.xp6(2),e.Q6J("formControlName","role_name")("nzDisabled","Owner"===r.value.role_name),e.uIk("id","member_"+t),e.xp6(3),e.Q6J("nzDisabled","Owner"!==r.value.role_name),e.xp6(2),e.Q6J("ngIf","Owner"!==r.value.role_name)}}function Qe(a,c){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"form",42),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.submit())}),e.TgZ(2,"nz-form-item")(3,"nz-form-label",43),e._uU(4," Team Name "),e.qZA(),e._UZ(5,"input",44),e.qZA(),e.TgZ(6,"nz-form-item",45)(7,"nz-form-label",43),e._uU(8),e.qZA(),e.TgZ(9,"nz-table",46)(10,"thead")(11,"tr")(12,"th"),e._uU(13,"User"),e.qZA(),e.TgZ(14,"th",47),e._uU(15,"Role"),e.qZA(),e._UZ(16,"th"),e.qZA()(),e.TgZ(17,"tbody"),e.YNc(18,Je,13,14,"tr",48),e.qZA()()(),e.TgZ(19,"button",49),e._uU(20,"Save"),e.qZA()(),e.BQk()}if(2&a){const r=e.oxw(),t=e.MAs(36);e.xp6(1),e.Q6J("formGroup",r.editTeamForm)("nzLayout","vertical"),e.xp6(2),e.Q6J("nzSpan",null),e.xp6(2),e.Q6J("formControlName","name"),e.xp6(2),e.Q6J("nzSpan",null),e.xp6(1),e.hij(" Users (",r.teamMembers.controls.length,") "),e.xp6(1),e.Q6J("nzData",r.teamMembers.controls)("nzFrontPagination",!1)("formArrayName","teamMembers")("nzNoResult",t),e.xp6(9),e.Q6J("ngForOf",r.teamMembers.controls)}}function Fe(a,c){if(1&a){const r=e.EpF();e.ynx(0),e.TgZ(1,"form",57),e.NdJ("submit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.createTeam())}),e.TgZ(2,"nz-form-item",45)(3,"nz-form-label",58),e._uU(4," Team name "),e.qZA(),e.TgZ(5,"nz-form-control"),e._UZ(6,"input",59),e.qZA()(),e.TgZ(7,"button",60),e._uU(8,"Create"),e.qZA()(),e.BQk()}if(2&a){const r=e.oxw();e.xp6(1),e.Q6J("formGroup",r.form),e.xp6(5),e.Q6J("formControlName","name")}}function Ee(a,c){}const Le=function(){return[]};let Ye=(()=>{var a;class c{get buttonText(){return this.isValueIsAnEmail()?"Invite as a member":"Invite a new member by email"}constructor(t,n,l,u,x,v,E,tt){this.api=t,this.teamMembersApi=n,this.teamsApiService=l,this.fb=u,this.app=x,this.service=v,this.membersApi=E,this.auth=tt,this.visible=!1,this.visibleNewTeam=!1,this.teams=[],this.currentTeam=null,this.loading=!1,this.total=0,this.pageSize=d.L8,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.sortField=null,this.sortOrder=null,this.loadingTeamDetails=!1,this.teamData={},this.selectedTeam={},this.updatingTeam=!1,this.users=[],this.totalUsers=0,this.searchingName=null,this.projectId=null,this.inviting=!1,this.app.setTitle("Admin Center - Teams"),this.form=this.fb.group({name:[null,[g.kI.required]]}),this.editTeamForm=this.fb.group({name:[null,[g.kI.required]],teamMembers:this.fb.array([]),search:[null]}),this.searchForm=this.fb.group({search:[]}),this.searchForm.valueChanges.subscribe(()=>this.getTeams()),this.editTeamForm.controls.search?.valueChanges.subscribe(nt=>this.handleMemberSelect(nt))}get teamMembers(){return this.editTeamForm.get("teamMembers")}getColor(t){return d.Lj[t?.charAt(0).toUpperCase()||"A"]}onQueryParamsChange(t){var n=this;return(0,o.Z)(function*(){const{pageSize:l,pageIndex:u,sort:x}=t;n.pageIndex=u,n.pageSize=l;const v=x.find(E=>null!==E.value);n.sortField=v&&v.key||null,n.sortOrder=v&&v.value||null,yield n.getTeams()})()}getTeams(){var t=this;return(0,o.Z)(function*(){try{t.loading=!0;const n=yield t.api.getOrganizationTeams(t.pageIndex,t.pageSize,t.sortField,t.sortOrder,t.searchForm.value.search);n.done&&(t.total=n.body.total||0,t.teams=n.body.data?.filter(l=>l.id!==t.auth.getCurrentSession()?.team_id)||[],t.currentTeam=n.body.current_team_data||null,t.loading=!1)}catch(n){t.loading=!1,(0,_.tu)(n)}})()}createTeam(){var t=this;return(0,o.Z)(function*(){if(t.form.value&&t.form.value.name&&""!==t.form.value.name.trim()){try{t.form.valid?(t.loading=!0,(yield t.teamsApiService.create({name:t.form.value.name})).done&&(t.closeNewTeam(),t.getTeams(),t.service.emitCreateTeam())):t.app.displayErrorsOf(t.form)}catch(n){t.loading=!1,(0,_.tu)(n)}t.loading=!1}})()}openTeamDrawer(t){var n=this;return(0,o.Z)(function*(){if(t.id){try{n.loadingTeamDetails=!0,n.selectedTeam=t,n.getTeamMembers(t)}catch(l){n.loadingTeamDetails=!1,(0,_.tu)(l)}n.visible=!0}})()}getTeamMembers(t){var n=this;return(0,o.Z)(function*(){if(t.id)try{const l=yield n.api.getOrganizationTeam(t.id);l.done&&(n.teamMembers.clear(),n.teamData=l.body,n.total=n.teamData.team_members?.length||0,n.editTeamForm.patchValue({name:n.teamData.name}),n.teamData.team_members?.map(u=>{const x=n.fb.group({id:u.id,user_id:u.user_id,name:u.name,role_name:u.role_name,avatar_url:u.avatar_url});n.teamMembers.push(x)})&&(n.loadingTeamDetails=!1))}catch{n.loadingTeamDetails=!1}})()}close(){this.teamMembers.clear(),this.editTeamForm.reset(),this.visible=!1}openNewTeam(){this.visibleNewTeam=!0}closeNewTeam(){this.visibleNewTeam=!1,this.form.reset()}submit(){var t=this;return(0,o.Z)(function*(){if(t.teamData.id&&t.editTeamForm.value&&t.editTeamForm.value.name&&""!==t.editTeamForm.value.name.trim())try{t.updatingTeam=!0,(yield t.api.updateTeam(t.teamData.id,t.editTeamForm.value)).done&&(t.service.emitTeamNameChange({teamId:t.teamData.id,teamName:t.editTeamForm.value.name}),t.close(),t.getTeams())}catch(n){(0,_.tu)(n)}})()}deleteTeam(t){var n=this;return(0,o.Z)(function*(){if(t)try{(yield n.api.deleteTeam(t)).done&&(yield n.getTeams())}catch(l){(0,_.tu)(l)}})()}handleMemberSelect(t){var n=this;return(0,o.Z)(function*(){if(t&&n.selectedTeam.id)if(n.editTeamForm.valid)try{n.loading=!0;const l={job_title:null,emails:[t],is_admin:!1};(yield n.teamMembersApi.addTeamMember(n.selectedTeam.id,l)).done&&(n.editTeamForm.controls.search?.setValue(null),n.getTeamMembers(n.selectedTeam)),n.loading=!1}catch(l){(0,_.tu)(l),n.loading=!1}else n.app.displayErrorsOf(n.form)})()}deleteTeamMember(t){var n=this;return(0,o.Z)(function*(){if(t&&n.selectedTeam.id)try{(yield n.api.removeTeamMember(t,n.selectedTeam.id)).done&&(t===n.auth.getCurrentSession()?.team_member_id?window.location.reload():yield n.getTeamMembers(n.selectedTeam))}catch(l){(0,_.tu)(l)}})()}isValueIsAnEmail(){return!!this.searchingName&&(0,_.PH)(this.searchingName)}sendInvitation(){var t=this;return(0,o.Z)(function*(){if(t.projectId&&"string"==typeof t.searchingName&&t.searchingName.length)try{const n=t.searchingName.trim().toLowerCase(),l={project_id:t.projectId,email:n};t.inviting=!0,yield t.membersApi.createByEmail(l),t.inviting=!1}catch{t.inviting=!1}})()}}return(a=c).\u0275fac=function(t){return new(t||a)(e.Y36(N),e.Y36(fe.B),e.Y36(Te.S),e.Y36(g.qu),e.Y36(ve.z),e.Y36(xe.I),e.Y36(be.r),e.Y36(se.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["worklenz-teams"]],decls:37,vars:24,consts:[[1,"px-0",3,"nzGhost"],[1,"site-page-header","pt-0","ps-0"],["nz-button","","nz-tooltip","","nzShape","circle","nzTooltipTitle","Refresh teams","nzType","default",3,"click",4,"nzSpaceItem"],["nz-form","",3,"nzLayout","formGroup",4,"nzSpaceItem"],[4,"nzSpaceItem"],[3,"nzActive","nzLoading"],["nzShowSizeChanger","","nzSize","small",1,"custom-table",3,"nzData","nzLoading","nzPageIndex","nzPageSizeOptions","nzFrontPagination","nzPageSize","nzTotal","nzNoResult","nzQueryParams"],["teamsTable",""],["scope","col"],["scope","col",1,"text-center"],["class","actions-row",4,"ngIf"],["class","actions-row",4,"ngFor","ngForOf"],["noDataTemplate",""],["noDataTemplate1",""],["nzPlacement","right",3,"nzClosable","nzVisible","nzTitle","nzSize","nzWidth","nzOnClose"],[4,"nzDrawerContent"],["nzPlacement","right","nzTitle","Create New Team",3,"nzClosable","nzVisible","nzSize","nzWidth","nzOnClose"],["emptyData",""],["nz-button","","nz-tooltip","","nzShape","circle","nzTooltipTitle","Refresh teams","nzType","default",3,"click"],["nz-icon","","nzTheme","outline","nzType","sync"],["nz-form","",3,"nzLayout","formGroup"],[3,"nzSuffix"],["nz-input","","placeholder","Search by name","type","text",3,"formControlName"],["suffixIconSearch",""],["nz-icon","","nzType","search"],["nz-button","","nzType","primary",3,"click"],[1,"actions-row"],[1,"cursor-pointer"],["nzColor","#52c41a",3,"nzText"],[1,"cursor-pointer","text-center"],[3,"names"],[1,"actions","text-center"],["nz-button","","nz-tooltip","","nzSize","small",3,"nzTooltipPlacement","nzTooltipTitle","nzType","click",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nz-tooltip","",3,"nzOkText","nzPopconfirmTitle","nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","nzOnConfirm",4,"nzSpaceItem"],["nz-button","","nz-tooltip","","nzSize","small",3,"nzTooltipPlacement","nzTooltipTitle","nzType","click"],["nz-icon","","nzType","setting"],["nz-button","","nz-popconfirm","","nz-tooltip","",3,"nzOkText","nzPopconfirmTitle","nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","nzOnConfirm"],["nz-icon","","nzType","delete"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],["nz-form","",3,"formGroup","nzLayout","ngSubmit"],["nzRequired","",3,"nzSpan"],["nz-input","","placeholder","Name of the team",3,"formControlName"],[1,"d-block"],[3,"nzData","nzFrontPagination","formArrayName","nzNoResult"],[2,"width","150px"],[3,"formGroupName",4,"ngFor","ngForOf"],["nz-button","","nzType","primary","nzBlock",""],[3,"formGroupName"],[1,"me-2",3,"nzSize","nzText","nzSrc"],[2,"width","150px",3,"formControlName","nzDisabled"],["nzValue","Admin","nzLabel","Admin"],["nzValue","Member","nzLabel","Member"],["nzValue","Owner","nzLabel","Owner",3,"nzDisabled"],["nz-button","","nz-popconfirm","","nz-tooltip","",3,"nzOkText","nzPopconfirmTitle","nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","nzOnConfirm",4,"ngIf"],["nz-form","",3,"formGroup","submit"],["nzRequired",""],["nz-input","","type","text",3,"formControlName"],["nz-button","","nzType","primary","type","submit","nzBlock",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-page-header",0)(1,"nz-page-header-title"),e._uU(2,"Teams"),e.qZA()(),e.TgZ(3,"nz-page-header",1)(4,"nz-page-header-subtitle"),e._uU(5),e.qZA(),e.TgZ(6,"nz-page-header-extra")(7,"nz-space"),e.YNc(8,ye,2,0,"button",2),e.YNc(9,Ze,5,4,"form",3),e.YNc(10,Ae,3,0,"span",4),e.qZA()()(),e.TgZ(11,"nz-card")(12,"nz-skeleton",5)(13,"nz-table",6,7),e.NdJ("nzQueryParams",function(u){return n.onQueryParamsChange(u)}),e.TgZ(15,"thead")(16,"tr")(17,"th",8),e._uU(18,"Team"),e.qZA(),e.TgZ(19,"th",9),e._uU(20,"Members Count"),e.qZA(),e.TgZ(21,"th",8),e._uU(22,"Members"),e.qZA(),e._UZ(23,"th",9),e.qZA()(),e.TgZ(24,"tbody"),e.YNc(25,Me,12,3,"tr",10),e.YNc(26,De,12,3,"tr",11),e.qZA()()()(),e.YNc(27,Se,5,0,"ng-template",null,12,e.W1O),e.YNc(29,we,0,0,"ng-template",null,13,e.W1O),e.TgZ(31,"nz-drawer",14),e.NdJ("nzOnClose",function(){return n.close()}),e.YNc(32,Qe,21,11,"ng-container",15),e.qZA(),e.TgZ(33,"nz-drawer",16),e.NdJ("nzOnClose",function(){return n.closeNewTeam()}),e.YNc(34,Fe,9,2,"ng-container",15),e.qZA(),e.YNc(35,Ee,0,0,"ng-template",null,17,e.W1O)),2&t){const l=e.MAs(14),u=e.MAs(28),x=e.MAs(30);e.Q6J("nzGhost",!1),e.xp6(5),e.hij("",n.total?n.total:0," teams"),e.xp6(7),e.Q6J("nzActive",!1)("nzLoading",!1),e.xp6(1),e.Q6J("nzData",n.teams||e.DdM(23,Le))("nzLoading",n.loading)("nzPageIndex",n.pageIndex)("nzPageSizeOptions",n.paginationSizes)("nzFrontPagination",!1)("nzPageSize",n.pageSize)("nzTotal",n.total)("nzNoResult",n.currentTeam?x:u),e.xp6(12),e.Q6J("ngIf",n.currentTeam),e.xp6(1),e.Q6J("ngForOf",l.data),e.xp6(5),e.Q6J("nzClosable",!0)("nzVisible",n.visible)("nzTitle","Team Settings")("nzSize","large")("nzWidth","550px"),e.xp6(2),e.Q6J("nzClosable",!0)("nzVisible",n.visibleNewTeam)("nzSize","large")("nzWidth","350px")}},dependencies:[b.sg,b.O5,T.$O,T.u9,T.yG,T.Jp,h.Ls,Z.bd,P.ZU,f.N8,f.Uo,f._C,f.Om,f.p0,f.$Z,M.NU,M.$1,ce.t3,ce.SK,p.Lr,p.Nx,p.iK,p.Fd,A.Zp,A.gB,A.ke,z.ix,S.w,U.dQ,w.ng,O.x7,F.Dz,I.SY,te.Vz,te.SQ,ne.Ip,ne.Vq,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,g.x0,g.CE,le.o,pe.JW,G.I],styles:["nz-page-header-subtitle[_ngcontent-%COMP%]{color:#000000d9;font-weight:500;font-size:16px}.no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:42px}"]}),c})();var k=s(33410),ae=s(73460);const oe=function(){return["ant-menu-item-selected"]};let He=(()=>{var a;class c{constructor(t){this.auth=t}get profile(){return this.auth.getCurrentSession()}}return(a=c).\u0275fac=function(t){return new(t||a)(e.Y36(se.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["worklenz-admin-center-sidebar"]],decls:4,vars:16,consts:[["nz-menu","",1,"border-0",3,"nzMode"],["nz-submenu","",1,"rounded-4",3,"routerLink","routerLinkActive","nzTitle","nzIcon"]],template:function(t,n){1&t&&(e.TgZ(0,"ul",0),e._UZ(1,"li",1)(2,"li",1)(3,"li",1),e.qZA()),2&t&&(e.Q6J("nzMode","vertical"),e.xp6(1),e.Q6J("routerLink","overview")("routerLinkActive",e.DdM(13,oe))("nzTitle","Overview")("nzIcon","appstore"),e.xp6(1),e.Q6J("routerLink","users")("routerLinkActive",e.DdM(14,oe))("nzTitle","Users")("nzIcon","user"),e.xp6(1),e.Q6J("routerLink","teams")("routerLinkActive",e.DdM(15,oe))("nzTitle","Teams")("nzIcon","team"))},dependencies:[y.rH,y.Od,ae.wO,ae.rY,S.w]}),c})();const Be=[{path:"",component:(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["worklenz-layout"]],decls:9,vars:2,consts:[[1,"container"],[1,"px-0",3,"nzGhost"],[1,"inner-layout"],[3,"nzWidth"],[1,"px-4","bg-white"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nz-page-header",1)(2,"nz-page-header-title"),e._uU(3,"Admin Center"),e.qZA()(),e.TgZ(4,"nz-layout",2)(5,"nz-sider",3),e._UZ(6,"worklenz-admin-center-sidebar"),e.qZA(),e.TgZ(7,"nz-content",4),e._UZ(8,"router-outlet"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("nzGhost",!1),e.xp6(4),e.Q6J("nzWidth","240px"))},dependencies:[y.lC,k.hw,k.OK,k.t7,T.$O,T.u9,He],styles:["[nz-submenu][_ngcontent-%COMP%]{transition:none!important}"]}),c})(),children:[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",component:m},{path:"users",component:he},{path:"teams",component:Ye}]}];let Ge=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[y.Bz.forChild(Be),y.Bz]}),c})();var ke=s(62787),$e=s(57907),Re=s(79382),Ke=s(81221),qe=s(48128),je=s(66987),We=s(22114),Ve=s(62612),Xe=s(95717);let et=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[b.ez,Ge,k.wm,T.KJ,ae.ip,h.PV,Z.vh,P.ZJ,f.HQ,M.zf,p.U5,A.o7,z.sL,w.H0,O.mS,F.Rt,I.cg,ke.b1,$e.aF,te.BL,ne.LV,g.UX,le.o,g.u5,Re.we,Ke.Qp,qe.W,je.S,We.KW,pe._p,Ve.Wr,Xe.ic]}),c})()},93302:(re,D,s)=>{s.d(D,{r:()=>J});var b=s(26857),y=s(10708),o=s(69649),_=s(65879),e=s(69862);let J=(()=>{var C;class N extends b.P{constructor(h){super(),this.http=h,this.root=`${this.API_BASE_URL}/project-members`}create(h){const Z=(0,o.UK)({current_project_id:h.project_id});return this._post(this.http,`${this.root}${Z}`,h)}createByEmail(h){return this._post(this.http,`${this.root}/invite`,h)}getByProjectId(h){return this._get(this.http,`${this.root}/${h}`)}deleteById(h,Z){const P=(0,o.UK)({current_project_id:Z});return(0,y.n)(this.http.delete(`${this.root}/${h}${P}`))}}return(C=N).\u0275fac=function(h){return new(h||C)(_.LFG(e.eN))},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),N})()},26254:(re,D,s)=>{s.d(D,{$:()=>Q,$O:()=>X,Jp:()=>H,KJ:()=>ee,u9:()=>L,yG:()=>Y});var b=s(49388),y=s(96814),o=s(65879),_=s(8324),e=s(62595),J=s(97582),C=s(78645),N=s(59773),T=s(37398),h=s(40874),Z=s(1608),P=s(28802);function f(i,m){if(1&i&&(o.ynx(0),o._UZ(1,"span",9),o.BQk()),2&i){const d=m.$implicit,p=o.oxw(2);o.xp6(1),o.Q6J("nzType",d||p.getBackIcon())}}function M(i,m){if(1&i){const d=o.EpF();o.TgZ(0,"div",6),o.NdJ("click",function(){o.CHM(d);const z=o.oxw();return o.KtG(z.onBack())}),o.TgZ(1,"div",7),o.YNc(2,f,2,1,"ng-container",8),o.qZA()()}if(2&i){const d=o.oxw();o.xp6(2),o.Q6J("nzStringTemplateOutlet",d.nzBackIcon)}}function A(i,m){if(1&i&&(o.ynx(0),o._uU(1),o.BQk()),2&i){const d=o.oxw(2);o.xp6(1),o.Oqu(d.nzTitle)}}function S(i,m){if(1&i&&(o.TgZ(0,"span",10),o.YNc(1,A,2,1,"ng-container",8),o.qZA()),2&i){const d=o.oxw();o.xp6(1),o.Q6J("nzStringTemplateOutlet",d.nzTitle)}}function w(i,m){1&i&&o.Hsn(0,6,["*ngIf","!nzTitle"])}function I(i,m){if(1&i&&(o.ynx(0),o._uU(1),o.BQk()),2&i){const d=o.oxw(2);o.xp6(1),o.Oqu(d.nzSubtitle)}}function g(i,m){if(1&i&&(o.TgZ(0,"span",11),o.YNc(1,I,2,1,"ng-container",8),o.qZA()),2&i){const d=o.oxw();o.xp6(1),o.Q6J("nzStringTemplateOutlet",d.nzSubtitle)}}function $(i,m){1&i&&o.Hsn(0,7,["*ngIf","!nzSubtitle"])}const R=[[["nz-breadcrumb","nz-page-header-breadcrumb",""]],[["nz-avatar","nz-page-header-avatar",""]],[["nz-page-header-tags"],["","nz-page-header-tags",""]],[["nz-page-header-extra"],["","nz-page-header-extra",""]],[["nz-page-header-content"],["","nz-page-header-content",""]],[["nz-page-header-footer"],["","nz-page-header-footer",""]],[["nz-page-header-title"],["","nz-page-header-title",""]],[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]]],K=["nz-breadcrumb[nz-page-header-breadcrumb]","nz-avatar[nz-page-header-avatar]","nz-page-header-tags, [nz-page-header-tags]","nz-page-header-extra, [nz-page-header-extra]","nz-page-header-content, [nz-page-header-content]","nz-page-header-footer, [nz-page-header-footer]","nz-page-header-title, [nz-page-header-title]","nz-page-header-subtitle, [nz-page-header-subtitle]"];let L=(()=>{var i;class m{}return(i=m).\u0275fac=function(p){return new(p||i)},i.\u0275dir=o.lG2({type:i,selectors:[["nz-page-header-title"],["","nz-page-header-title",""]],hostAttrs:[1,"ant-page-header-heading-title"],exportAs:["nzPageHeaderTitle"]}),m})(),Y=(()=>{var i;class m{}return(i=m).\u0275fac=function(p){return new(p||i)},i.\u0275dir=o.lG2({type:i,selectors:[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]],hostAttrs:[1,"ant-page-header-heading-sub-title"],exportAs:["nzPageHeaderSubtitle"]}),m})(),H=(()=>{var i;class m{}return(i=m).\u0275fac=function(p){return new(p||i)},i.\u0275dir=o.lG2({type:i,selectors:[["nz-page-header-extra"],["","nz-page-header-extra",""]],hostAttrs:[1,"ant-page-header-heading-extra"],exportAs:["nzPageHeaderExtra"]}),m})(),Q=(()=>{var i;class m{}return(i=m).\u0275fac=function(p){return new(p||i)},i.\u0275dir=o.lG2({type:i,selectors:[["nz-page-header-footer"],["","nz-page-header-footer",""]],hostAttrs:[1,"ant-page-header-footer"],exportAs:["nzPageHeaderFooter"]}),m})(),B=(()=>{var i;class m{}return(i=m).\u0275fac=function(p){return new(p||i)},i.\u0275dir=o.lG2({type:i,selectors:[["nz-breadcrumb","nz-page-header-breadcrumb",""]],exportAs:["nzPageHeaderBreadcrumb"]}),m})(),X=(()=>{var i;class m{constructor(p,z,U,O,F,G){this.location=p,this.nzConfigService=z,this.elementRef=U,this.nzResizeObserver=O,this.cdr=F,this.directionality=G,this._nzModuleName="pageHeader",this.nzBackIcon=null,this.nzGhost=!0,this.nzBack=new o.vpe,this.compact=!1,this.destroy$=new C.x,this.dir="ltr"}ngOnInit(){this.directionality.change?.pipe((0,N.R)(this.destroy$)).subscribe(p=>{this.dir=p,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,T.U)(([p])=>p.contentRect.width),(0,N.R)(this.destroy$)).subscribe(p=>{this.compact=p<768,this.cdr.markForCheck()})}onBack(){if(this.nzBack.observers.length)this.nzBack.emit();else{if(!this.location)throw new Error(`${Z.Bq} you should import 'RouterModule' or register 'Location' if you want to use 'nzBack' default event!`);this.location.back()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getBackIcon(){return"rtl"===this.dir?"arrow-right":"arrow-left"}}return(i=m).\u0275fac=function(p){return new(p||i)(o.Y36(y.Ye,8),o.Y36(h.jY),o.Y36(o.SBq),o.Y36(P.D3),o.Y36(o.sBO),o.Y36(b.Is,8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["nz-page-header"]],contentQueries:function(p,z,U){if(1&p&&(o.Suo(U,Q,5),o.Suo(U,B,5)),2&p){let O;o.iGM(O=o.CRH())&&(z.nzPageHeaderFooter=O.first),o.iGM(O=o.CRH())&&(z.nzPageHeaderBreadcrumb=O.first)}},hostAttrs:[1,"ant-page-header"],hostVars:10,hostBindings:function(p,z){2&p&&o.ekj("has-footer",z.nzPageHeaderFooter)("ant-page-header-ghost",z.nzGhost)("has-breadcrumb",z.nzPageHeaderBreadcrumb)("ant-page-header-compact",z.compact)("ant-page-header-rtl","rtl"===z.dir)},inputs:{nzBackIcon:"nzBackIcon",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzGhost:"nzGhost"},outputs:{nzBack:"nzBack"},exportAs:["nzPageHeader"],ngContentSelectors:K,decls:13,vars:5,consts:[[1,"ant-page-header-heading"],[1,"ant-page-header-heading-left"],["class","ant-page-header-back",3,"click",4,"ngIf"],["class","ant-page-header-heading-title",4,"ngIf"],[4,"ngIf"],["class","ant-page-header-heading-sub-title",4,"ngIf"],[1,"ant-page-header-back",3,"click"],["role","button","tabindex","0",1,"ant-page-header-back-button"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"],[1,"ant-page-header-heading-title"],[1,"ant-page-header-heading-sub-title"]],template:function(p,z){1&p&&(o.F$t(R),o.Hsn(0),o.TgZ(1,"div",0)(2,"div",1),o.YNc(3,M,3,1,"div",2),o.Hsn(4,1),o.YNc(5,S,2,1,"span",3),o.YNc(6,w,1,0,"ng-content",4),o.YNc(7,g,2,1,"span",5),o.YNc(8,$,1,0,"ng-content",4),o.Hsn(9,2),o.qZA(),o.Hsn(10,3),o.qZA(),o.Hsn(11,4),o.Hsn(12,5)),2&p&&(o.xp6(3),o.Q6J("ngIf",null!==z.nzBackIcon),o.xp6(2),o.Q6J("ngIf",z.nzTitle),o.xp6(1),o.Q6J("ngIf",!z.nzTitle),o.xp6(1),o.Q6J("ngIf",z.nzSubtitle),o.xp6(1),o.Q6J("ngIf",!z.nzSubtitle))},dependencies:[y.O5,_.f,e.Ls],encapsulation:2,changeDetection:0}),(0,J.gn)([(0,h.oS)()],m.prototype,"nzGhost",void 0),m})(),ee=(()=>{var i;class m{}return(i=m).\u0275fac=function(p){return new(p||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[b.vT,y.ez,_.T,e.PV]}),m})()}}]);