(self.webpackChunkworklenz=self.webpackChunkworklenz||[]).push([[891],{9891:(d1,so,ot)=>{"use strict";ot.r(so),ot.d(so,{ProjectsModule:()=>Z_});var Ot=ot(96814),be=ot(52787),Ft=ot(15861),t=ot(65879),Ze=ot(21406),cr=ot(13490),le=ot(69649),jt=ot(60095),ue=ot(71993),Au=ot(55012),Zh=ot(97192),LA=ot(10095),ri=ot(3599),ZA=ot(20824),xA=ot(42840),aA=ot(70855),pn=ot(41958),mn=ot(55695),_n=ot(82669),lr=ot(43389),wA=ot(73460),Xe=ot(62787);const nu=["nameInput"];function jh(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",14),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw(2);return t.KtG(o.setColorCode(s))}),t.TgZ(1,"nz-tag",15),t._uU(2,"\xa0 "),t.qZA()()}if(2&r){const n=i.$implicit;t.xp6(1),t.Q6J("nzColor",n)}}function yc(r,i){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"nz-spin",2)(2,"form",3),t.NdJ("submit",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.submit())}),t.TgZ(3,"nz-form-item")(4,"nz-form-label",4),t._uU(5,"Name"),t.qZA(),t.TgZ(6,"nz-form-control",5),t._UZ(7,"input",6,7),t.qZA()(),t.TgZ(9,"nz-form-item")(10,"nz-form-label",8),t._uU(11,"Folder Color "),t.TgZ(12,"nz-tag",9),t._uU(13,"\xa0 "),t.qZA()(),t.TgZ(14,"nz-dropdown-menu",null,10)(16,"ul",11),t.YNc(17,jh,3,1,"li",12),t.qZA()()(),t.TgZ(18,"button",13),t._uU(19),t.qZA()()(),t.BQk()}if(2&r){const n=t.MAs(15),e=t.oxw();t.xp6(1),t.Q6J("nzSpinning",e.loading),t.xp6(1),t.Q6J("formGroup",e.form)("nzLayout","vertical"),t.xp6(2),t.Q6J("nzSpan",null),t.xp6(2),t.Q6J("nzSpan",null)("nzErrorTip","Please enter a name!"),t.xp6(1),t.Q6J("formControlName","name"),t.xp6(3),t.Q6J("nzSpan",null),t.xp6(2),t.Q6J("nzColor",e.activeColor)("nzDropdownMenu",n)("nzTrigger","click"),t.xp6(5),t.Q6J("ngForOf",e.COLOR_CODES),t.xp6(1),t.Q6J("nzType","primary")("disabled",!e.valid),t.xp6(1),t.Oqu(e.buttonText)}}let ru=(()=>{var r;class i{get activeColor(){return this.form.controls.color_code.value}get title(){return this.folderId?"Update the folder":"Create a folder"}get buttonText(){return this.folderId?"Update":"Create"}get valid(){return this.form.valid}constructor(e,A,s,o,p){this.ngZone=e,this.cdr=A,this.fb=s,this.api=o,this.service=p,this.folderId=null,this.show=!1,this.loading=!1,this.COLOR_CODES=Ze.lD,this.createCallback=null,this.form=this.fb.group({name:[null,[jt.kI.required]],color_code:[null]}),this.service.onCreateInvoke.pipe((0,ue.sL)()).subscribe(f=>{this.createCallback=f,this.open()})}open(){this.show=!0,this.cdr.markForCheck()}close(){this.show=!1,this.form.reset({name:null,color_code:null}),this.invokeCreate(),this.cdr.markForCheck()}invokeCreate(e){this.createCallback&&(this.createCallback(e),this.createCallback=null)}submit(){var e=this;return(0,Ft.Z)(function*(){if(!e.form.invalid){try{e.loading=!0;const A={name:e.form.value.name,color_code:e.form.value.color_code},s=yield e.api.create(A);s.done&&(e.invokeCreate(s.body),e.close()),e.loading=!1}catch{e.loading=!1}e.cdr.markForCheck()}})()}setColorCode(e){this.form.controls.color_code.setValue(e)}onVisibilityChange(e){e&&this.setFocusToNameInput()}setFocusToNameInput(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{const e=this.nameInput.nativeElement;e&&e.focus()},100)})}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(jt.qu),t.Y36(Au.Y),t.Y36(Zh.I))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-projects-folder-form-drawer"]],viewQuery:function(e,A){if(1&e&&t.Gf(nu,5),2&e){let s;t.iGM(s=t.CRH())&&(A.nameInput=s.first)}},inputs:{folderId:"folderId"},decls:2,vars:4,consts:[[3,"nzClosable","nzTitle","nzVisible","nzPlacement","nzOnClose","nzVisibleChange"],[4,"nzDrawerContent"],[3,"nzSpinning"],["nz-form","",3,"formGroup","nzLayout","submit"],["nzRequired","",3,"nzSpan"],[3,"nzSpan","nzErrorTip"],["nz-input","","placeholder","Enter your folder name",3,"formControlName"],["nameInput",""],["nzRequired","",1,"pb-0",3,"nzSpan"],["nz-dropdown","",1,"ms-2","rounded-circle","cursor-pointer",2,"width","20px","height","20px",3,"nzColor","nzDropdownMenu","nzTrigger"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable","",2,"max-height","200px","overflow","hidden","overflow-y","auto"],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["nz-button","","nzBlock","","type","submit",3,"nzType","disabled"],["nz-menu-item","",3,"click"],[1,"me-1","w-100","rounded-pill",2,"height","16px !important","width","16px !important",3,"nzColor"]],template:function(e,A){1&e&&(t.TgZ(0,"nz-drawer",0),t.NdJ("nzOnClose",function(){return A.close()})("nzVisibleChange",function(o){return A.onVisibilityChange(o)}),t.YNc(1,yc,20,15,"ng-container",1),t.qZA()),2&e&&t.Q6J("nzClosable",!0)("nzTitle",A.title)("nzVisible",A.show)("nzPlacement","right")},dependencies:[Ot.sg,jt._Y,jt.Fj,jt.JJ,jt.JL,jt.sg,jt.u,LA.t3,LA.SK,ri.Lr,ri.Nx,ri.iK,ri.Fd,ZA.Zp,xA.ix,aA.w,pn.dQ,mn.j,_n.W,lr.Vz,lr.SQ,wA.wO,wA.r9,Xe.cm,Xe.RR],changeDetection:0}),i})();var xc=ot(16406),iu=ot(90586),Xo=ot(31215),TA=ot(9435),En=ot(64532),Rh=ot(53980),Kh=ot(80697),Mn=ot(55416),Gh=ot(52732),Fr=ot(26254),Ce=ot(13740),qe=ot(62595),$e=ot(8083),Nn=ot(62612),_s=ot(48128),tA=ot(96109),ln=ot(24139),wn=ot(82962),Qn=ot(92574),ur=ot(33640),$o=ot(22114),Tc=ot(98421),ii=ot(99183),si=ot(76271);let oi=(()=>{var r;class i{transform(e){return`Click to filter by "${e}".`}}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"projectFilterByTooltip",type:r,pure:!0}),i})();const kc=["displayModeTemplate"];function su(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.refresh())}),t._UZ(1,"span",26),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("nzShape","circle")("nzTooltipTitle","Refresh projects")("nzType","default"),t.xp6(1),t.Q6J("nzSpin",n.loading)("nzTheme","outline")("nzType","sync")}}function Qc(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"nz-segmented",27),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.filterIndex=A)})("nzValueChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.onFilterChange(A))}),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("ngModel",n.filterIndex)("nzOptions",n.filters)}}function Jh(r,i){1&r&&t._UZ(0,"span",32)}function oo(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"form",28),t.NdJ("ngSubmit",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.searchProjects())}),t.TgZ(1,"nz-input-group",29),t._UZ(2,"input",30),t.qZA(),t.YNc(3,Jh,1,0,"ng-template",null,31,t.W1O),t.qZA()}if(2&r){const n=t.MAs(4),e=t.oxw();t.Q6J("formGroup",e.searchForm)("nzLayout","vertical"),t.xp6(1),t.Q6J("nzSuffix",n),t.xp6(1),t.Q6J("formControlName","search")}}function Fc(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(n);const A=t.oxw(3);return t.KtG(A.openProjectForm())}),t._UZ(1,"span",41),t._uU(2,"Create Project"),t.qZA()}2&r&&t.Q6J("nzType","primary")}function ta(r,i){if(1&r&&(t.TgZ(0,"button",42),t._UZ(1,"span",43),t.qZA()),2&r){t.oxw(2);const n=t.MAs(3);t.Q6J("nzType","primary")("nzDropdownMenu",n)("nzTrigger","click")("nzPlacement","bottomRight")}}function ao(r,i){if(1&r&&(t.TgZ(0,"span")(1,"nz-button-group"),t.YNc(2,Fc,3,1,"button",38),t.YNc(3,ta,2,4,"button",39),t.qZA()()),2&r){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.isOwnerOrAdmin()),t.xp6(1),t.Q6J("ngIf",n.isOwnerOrAdmin())}}function Yh(r,i){if(1&r){const n=t.EpF();t.ynx(0),t.YNc(1,ao,4,2,"span",33),t.TgZ(2,"nz-dropdown-menu",null,34)(4,"ul",35)(5,"li",36),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.openTemplateSelector())}),t._UZ(6,"span",37),t._uU(7," Create from template "),t.qZA()()(),t.BQk()}}function ou(r,i){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const n=t.oxw(3).$implicit;t.xp6(1),t.hij("Start date : ",t.xi3(2,1,n.start_date,"mediumDate"),"")}}function Uc(r,i){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const n=t.oxw(3).$implicit;t.xp6(1),t.hij("End date : ",t.xi3(2,1,n.end_date,"mediumDate"),"")}}function co(r,i){if(1&r&&(t.YNc(0,ou,3,4,"div",5),t.YNc(1,Uc,3,4,"div",5)),2&r){const n=t.oxw(2).$implicit;t.Q6J("ngIf",n.start_date),t.xp6(1),t.Q6J("ngIf",n.end_date)}}function Ic(r,i){if(1&r&&(t.ynx(0),t.TgZ(1,"span",60),t._UZ(2,"span",12),t.qZA(),t.YNc(3,co,2,2,"ng-template",null,61,t.W1O),t.BQk()),2&r){const n=t.MAs(4);t.xp6(1),t.Q6J("nzType","secondary")("nzTooltipTitle",n),t.xp6(1),t.Q6J("nzType","calendar")("nzTheme","outline")}}function ws(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"nz-tag",62),t.NdJ("click",function(A){t.CHM(n);const s=t.oxw().$implicit,o=t.oxw();return A.stopPropagation(),t.KtG(o.filterByCategory(s.category_id))}),t.ALo(1,"projectFilterByTooltip"),t._uU(2),t.qZA()}if(2&r){const n=t.oxw().$implicit;t.Q6J("nzTooltipTitle",t.lcZ(1,3,n.category_name))("nzColor",n.category_color),t.xp6(2),t.Oqu(n.category_name)}}function Fn(r,i){1&r&&(t.ynx(0),t._uU(1,"-"),t.BQk())}function lo(r,i){1&r&&(t.ynx(0),t._uU(1," N/A "),t.BQk())}const vs=function(){return[]};function Cs(r,i){if(1&r&&t._UZ(0,"worklenz-avatars",63),2&r){const n=t.oxw().$implicit;t.Q6J("names",n.names||t.DdM(1,vs))}}function qh(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",67),t.NdJ("click",function(A){t.CHM(n);const s=t.oxw(2).$implicit,o=t.oxw();return A.stopPropagation(),t.KtG(o.openProjectForm(s.id))}),t._UZ(1,"span",53),t.qZA()}2&r&&(t.Q6J("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle","Settings")("nzType","default"),t.xp6(1),t.Q6J("nzType","setting"))}function zi(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(A){t.CHM(n);const s=t.oxw(2).$implicit,o=t.oxw();return A.stopPropagation(),t.KtG(o.toggleArchive(s))}),t._UZ(1,"span",12),t.qZA()}if(2&r){const n=t.oxw(2).$implicit;t.Q6J("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle",n.archived?"Remove from archive":"Archive")("nzLoading",n.loading)("nzType","default"),t.xp6(1),t.Q6J("nzType","inbox")("nzTheme","outline")}}function Vh(r,i){1&r&&(t.TgZ(0,"div",64)(1,"nz-space"),t.YNc(2,qh,2,5,"button",65),t.YNc(3,zi,2,7,"button",66),t.qZA()())}function ea(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"tr",44),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.selectProject(s.id,s.team_member_default_view?s.team_member_default_view:"TASK_LIST"))}),t.TgZ(1,"td",45)(2,"div",46)(3,"nz-rate",47),t.NdJ("click",function(A){const o=t.CHM(n).$implicit,p=t.oxw();return A.stopPropagation(),t.KtG(p.toggleFavorite(o.id))}),t.qZA(),t.TgZ(4,"span",48),t._UZ(5,"nz-badge",49),t._uU(6),t.YNc(7,Ic,5,4,"ng-container",5),t.qZA()()(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t.ynx(11,50),t.YNc(12,ws,3,5,"nz-tag",51),t.YNc(13,Fn,2,0,"ng-container",52),t.BQk(),t.qZA(),t.TgZ(14,"td"),t._UZ(15,"span",53),t.ALo(16,"safeString"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._UZ(19,"nz-progress",54),t.qZA(),t.TgZ(20,"td")(21,"span",55),t.ALo(22,"date"),t._uU(23),t.qZA()(),t.TgZ(24,"td"),t.YNc(25,lo,2,0,"ng-container",56),t.YNc(26,Cs,1,2,"ng-template",null,57,t.W1O),t.qZA(),t.TgZ(28,"td",58),t.YNc(29,Vh,4,0,"div",59),t.qZA()()}if(2&r){const n=i.$implicit,e=t.MAs(27),A=t.oxw();t.xp6(3),t.Q6J("nzTooltipTitle",n.favorite?"Remove from favorites":"Add to favorites")("nzCount",1)("ngModel",n.favorite?1:0),t.xp6(2),t.Q6J("nzColor",n.color_code)("nzSize","default"),t.xp6(1),t.hij(" ",n.name," "),t.xp6(1),t.Q6J("ngIf",n.start_date||n.end_date),t.xp6(2),t.Oqu(n.client_name||"-"),t.xp6(2),t.Q6J("ngSwitch",!!n.category_name),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(2),t.Udp("color",n.status_color),t.Q6J("nzType",t.lcZ(16,25,n.status_icon)),t.xp6(2),t.hij(" ",n.status," "),t.xp6(2),t.Q6J("nzPercent",n.progress)("nzStrokeColor",n.color_code)("nzTooltipTitle",A.getTaskProgressTitle(n)),t.xp6(2),t.Q6J("nzTooltipTitle",t.xi3(22,27,n.updated_at,"medium"))("nzTooltipMouseEnterDelay",1),t.xp6(2),t.Oqu(n.updated_at_string),t.xp6(2),t.Q6J("ngIf",!(null!=n.names&&n.names.length))("ngIfElse",e),t.xp6(3),t.Q6J("nzAlign","center"),t.xp6(1),t.Q6J("ngIf",A.isOwnerOrAdmin())}}function Aa(r,i){1&r&&(t.ynx(0),t._uU(1,"The team currently has no active projects."),t.BQk())}function Sc(r,i){1&r&&(t.ynx(0),t._uU(1,"You're yet to mark any projects as favorites."),t.BQk())}function zc(r,i){1&r&&(t.ynx(0),t._uU(1,"The selected team has no archived projects."),t.BQk())}function Lc(r,i){if(1&r&&(t.TgZ(0,"div",69)(1,"div",70),t._UZ(2,"img",71),t.qZA(),t.TgZ(3,"div",72),t.YNc(4,Aa,2,0,"ng-container",52),t.YNc(5,Sc,2,0,"ng-container",52),t.YNc(6,zc,2,0,"ng-container",52),t.qZA()()),2&r){const n=t.oxw();t.xp6(3),t.Q6J("ngSwitch",n.filterIndex),t.xp6(1),t.Q6J("ngSwitchCase",0),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2)}}function uo(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",74),t.NdJ("nzCheckedChange",function(A){const o=t.CHM(n).$implicit;return t.KtG(o.selected=A)})("nzCheckedChange",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.onCategoryFilterChange())}),t._uU(1),t.qZA()}if(2&r){const n=i.$implicit;t.Q6J("nzChecked",n.selected),t.xp6(1),t.Oqu(n.name)}}function Ec(r,i){if(1&r&&(t.ynx(0),t.YNc(1,uo,2,2,"li",73),t.BQk()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.categories)}}function na(r,i){1&r&&(t.TgZ(0,"li",75),t._uU(1,"No categories found"),t.qZA())}function ra(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",74),t.NdJ("nzCheckedChange",function(A){const o=t.CHM(n).$implicit;return t.KtG(o.selected=A)})("nzCheckedChange",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.onStatusFilterChange())}),t._uU(1),t.qZA()}if(2&r){const n=i.$implicit;t.Q6J("nzChecked",n.selected),t.xp6(1),t.Oqu(n.name)}}function Mc(r,i){if(1&r&&(t.ynx(0),t.YNc(1,ra,2,2,"li",73),t.BQk()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.statuses)}}function au(r,i){1&r&&(t.TgZ(0,"li",75),t._uU(1,"No categories found"),t.qZA())}const Wh=function(){return{rows:7}};let Xh=(()=>{var r;class i{get filterIndex(){return+(localStorage.getItem(this.FILTER_INDEX_KEY)||0)}set filterIndex(e){localStorage.setItem(this.FILTER_INDEX_KEY,e.toString())}constructor(e,A,s,o,p,f,w,b,y,k,v,M){this.app=e,this.api=A,this.fb=s,this.auth=o,this.router=p,this.route=f,this.utilsService=w,this.categoriesApi=b,this.templatesApi=y,this.cdr=k,this.list=v,this.statusesApi=M,this.FILTER_INDEX_KEY="worklenz.projects.filter_index",this.DISPLAY_MODE_KEY="worklenz.projects.display_as",this.projectsModel={},this.categories=[],this.statuses=[],this.expandSet=new Set,this.total=0,this.pageSize=Ze.L8,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.sortField=null,this.sortOrder=null,this.categoriesFilterString=null,this.statusesFilterString=null,this.loading=!0,this.loadingCategories=!1,this.loadingStatuses=!1,this.showCategoriesFilter=!1,this.showStatusesFilter=!1,this.filteredByCategory=!1,this.filteredByStatus=!1,this.filters=["All","Favorites","Archived"],this.app.setTitle("Projects"),this.pageSize=+(this.route.snapshot.queryParamMap.get("size")||Ze.L8),this.pageIndex=+(this.route.snapshot.queryParamMap.get("index")||1)}ngOnInit(){var e=this;return(0,Ft.Z)(function*(){e.searchForm=e.fb.group({search:[]}),e.searchForm.valueChanges.subscribe(()=>{e.searchProjects()}),e.getCategories(),e.getStatuses()})()}getFilterIndexText(){return this.filters[this.filterIndex]}refresh(){this.getCategories(),this.getProjects()}import(){var e=this;return(0,Ft.Z)(function*(){yield e.templatesApi.createTemplates()})()}getCategories(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingCategories=!0;const A=yield e.categoriesApi.get();A.done&&(e.categories=A.body),e.loadingCategories=!1}catch{e.loadingCategories=!1}e.cdr.markForCheck()})()}getStatuses(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingStatuses=!0;const A=yield e.statusesApi.get();A.done&&(e.statuses=A.body),e.loadingStatuses=!1}catch{e.loadingStatuses=!1}e.cdr.markForCheck()})()}getProjects(e=!1){var A=this;return(0,Ft.Z)(function*(){try{e||(A.loading=!0);const s=yield A.api.getByConfig({index:A.pageIndex,size:A.pageSize,field:A.sortField,order:A.sortOrder,search:A.searchForm.value.search,filter:A.filterIndex.toString(),categories:A.categoriesFilterString,statuses:A.statusesFilterString});s.done&&A.handleProjectsResponse(s),A.loading=!1}catch(s){A.loading=!1,(0,le.tu)(s)}A.cdr.markForCheck()})()}handleProjectsResponse(e){this.projectsModel=e.body,this.total=this.projectsModel.total||0,this.utilsService.handleLastIndex(this.total,this.projectsModel.data?.length||0,this.pageIndex,A=>{this.pageIndex=A,this.getProjects()})}searchProjects(){var e=this;return(0,Ft.Z)(function*(){yield e.getProjects()})()}isOwnerOrAdmin(){return this.auth.isOwnerOrAdmin()}openProjectForm(e){this.projectsForm?.open(e,!!e)}selectProject(e,A){if(!e)return;let s="tasks-list";switch(A){case"TASK_LIST":default:s="tasks-list";break;case"BOARD":s="board"}this.router.navigate([`/opom/projects/${e}`],{queryParams:{tab:`${s}`,pinned_tab:`${s}`}})}getTaskProgressTitle(e){return e.all_tasks_count?e.all_tasks_count==e.completed_tasks_count?"All tasks completed.":`${e.completed_tasks_count||0}/${e.all_tasks_count||0} tasks completed.`:"No tasks available."}toggleFavorite(e){var A=this;return(0,Ft.Z)(function*(){if(e)try{const s=yield A.api.toggleFavorite(e);1==A.filterIndex&&s.done&&A.getProjects(!0)}catch(s){(0,le.tu)(s)}})()}toggleArchive(e){var A=this;return(0,Ft.Z)(function*(){if(e&&e.id&&!e.loading)try{e.loading=!0,A.isOwnerOrAdmin()?(yield A.api.toggleArchiveAll(e.id)).done&&(yield A.getProjects(!0)):(yield A.api.toggleArchive(e.id)).done&&(yield A.getProjects(!0)),e.loading=!1}catch(s){e.loading=!1,(0,le.tu)(s)}})()}onFilterChange(e){this.loading||(this.filterIndex=e,this.getProjects())}trackBy(e,A){return A.id}onProjectCreate(e){e?.id&&(this.list.setCurrentGroup(this.list.GROUP_BY_OPTIONS[0]),this.selectProject(e.id,"TASK_LIST"))}onQueryParamsChange(e){const{pageSize:A,pageIndex:s,sort:o}=e;this.pageIndex=s,this.pageSize=A;const p=o.find(f=>null!==f.value);this.sortField=p?.key??null,this.sortOrder=p?.value??null,this.getProjects()}filterByCategory(e){if(!e)return;const A=this.categories.find(s=>s.id===e);A&&(A.selected=!0,this.onCategoryFilterChange())}filterByStatus(e){if(!e)return;const A=this.statuses.find(s=>s.id===e);A&&(A.selected=!0,this.onStatusFilterChange())}onCategoryFilterChange(){const e=this.categories.filter(s=>s.selected);this.filteredByCategory=!!e.length;const A=e.map(s=>s.id).join("+");this.categoriesFilterString=A||null,this.getProjects()}onStatusFilterChange(){const e=this.statuses.filter(s=>s.selected);this.filteredByStatus=!!e.length;const A=e.map(s=>s.id).join("+");this.statusesFilterString=A||null,this.getProjects()}onProjectUpdated(){this.getProjects(),this.getCategories()}openTemplateSelector(){this.projectTemplateDrawer.open(),this.cdr.markForCheck()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(iu.z),t.Y36(Xo.U),t.Y36(jt.qu),t.Y36(TA.e),t.Y36(be.F0),t.Y36(be.gz),t.Y36(En.F),t.Y36(Rh.s),t.Y36(Kh.I),t.Y36(t.sBO),t.Y36(Mn.b),t.Y36(Gh.k))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-projects"]],viewQuery:function(e,A){if(1&e&&(t.Gf(cr.g,5),t.Gf(ru,5),t.Gf(kc,7,t.Rgc),t.Gf(xc.p,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.projectsForm=s.first),t.iGM(s=t.CRH())&&(A.folderForm=s.first),t.iGM(s=t.CRH())&&(A.displayModeSegments=s.first),t.iGM(s=t.CRH())&&(A.projectTemplateDrawer=s.first)}},decls:51,vars:52,consts:[[1,"container"],[1,"px-0",3,"nzGhost"],["nz-button","","nz-tooltip","",3,"nzShape","nzTooltipTitle","nzType","click",4,"nzSpaceItem"],[3,"ngModel","nzOptions","ngModelChange","nzValueChange",4,"nzSpaceItem"],["nz-form","",3,"formGroup","nzLayout","ngSubmit",4,"nzSpaceItem"],[4,"ngIf"],[3,"nzActive","nzLoading","nzParagraph"],[1,"custom-table",3,"nzData","nzFrontPagination","nzLoading","nzPageIndex","nzPageSizeOptions","nzPageSize","nzTotal","nzShowSizeChanger","nzSize","nzNoResult","nzQueryParams"],["table",""],["scope","col",3,"nzSortFn","nzColumnKey"],["scope","col",3,"nzSortFn","nzColumnKey","nzFilterFn","nzCustomFilter"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","",3,"nzType","nzTheme"],["scope","col",2,"width","110px",3,"nzSortFn","nzColumnKey","nzFilterFn","nzCustomFilter"],["scope","col",1,"pe-5","b-none"],["scope","col",3,"nzSortFn","nzColumnKey","nzAlign"],["colspan","2","scope","col",3,"nzAlign"],["class","actions-row cursor-pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"onCreate","onDelete","onUpdate"],[3,"showBothTabs","importProject"],["noDataTemplate",""],["categoriesDropdown","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item","","nzDisabled","",4,"ngIf"],["statusesDropdown","nzDropdownMenu"],["nz-button","","nz-tooltip","",3,"nzShape","nzTooltipTitle","nzType","click"],["nz-icon","",3,"nzSpin","nzTheme","nzType"],[3,"ngModel","nzOptions","ngModelChange","nzValueChange"],["nz-form","",3,"formGroup","nzLayout","ngSubmit"],[3,"nzSuffix"],["nz-input","","placeholder","Search by name","type","text",3,"formControlName"],["suffixIconSearch",""],["nz-icon","","nzType","search"],[4,"nzSpaceItem"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","import","nzTheme","outline",1,"me-2"],["nz-button","",3,"nzType","click",4,"ngIf"],["nz-button","","nz-dropdown","",3,"nzType","nzDropdownMenu","nzTrigger","nzPlacement",4,"ngIf"],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nz-dropdown","",3,"nzType","nzDropdownMenu","nzTrigger","nzPlacement"],["nz-icon","","nzType","down","nzTheme","outline"],[1,"actions-row","cursor-pointer",3,"click"],[1,""],[1,"align-items-center","d-flex","w-100"],["nz-tooltip","",1,"me-2",3,"nzTooltipTitle","nzCount","ngModel","click"],[1,"w-100","project-name-col"],[3,"nzColor","nzSize"],[3,"ngSwitch"],["class","rounded-pill category-tag","nz-tooltip","",3,"nzTooltipTitle","nzColor","click",4,"ngSwitchCase"],[4,"ngSwitchCase"],["nz-icon","",3,"nzType"],["nz-tooltip","",3,"nzPercent","nzStrokeColor","nzTooltipTitle"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipMouseEnterDelay"],[4,"ngIf","ngIfElse"],["avatars",""],[3,"nzAlign"],["class","actions",4,"ngIf"],["nz-typography","","nz-tooltip","",1,"ms-1",3,"nzType","nzTooltipTitle"],["titleContent",""],["nz-tooltip","",1,"rounded-pill","category-tag",3,"nzTooltipTitle","nzColor","click"],[3,"names"],[1,"actions"],["nz-button","","nz-tooltip","",3,"nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","click",4,"nzSpaceItem"],["nz-button","","nz-tooltip","",3,"nzSize","nzTooltipPlacement","nzTooltipTitle","nzLoading","nzType","click",4,"nzSpaceItem"],["nz-button","","nz-tooltip","",3,"nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","click"],["nz-button","","nz-tooltip","",3,"nzSize","nzTooltipPlacement","nzTooltipTitle","nzLoading","nzType","click"],[1,"pt-5","pb-5"],[1,"no-data-img-holder","mx-auto","mb-4"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text",3,"ngSwitch"],["class","m-0 d-flex align-items-baseline","nz-checkbox","","nz-menu-item","",3,"nzChecked","nzCheckedChange",4,"ngFor","ngForOf"],["nz-checkbox","","nz-menu-item","",1,"m-0","d-flex","align-items-baseline",3,"nzChecked","nzCheckedChange"],["nz-menu-item","","nzDisabled",""]],template:function(e,A){if(1&e&&(t.TgZ(0,"div",0)(1,"nz-page-header",1)(2,"nz-page-header-title"),t._uU(3),t.qZA(),t.TgZ(4,"nz-page-header-extra")(5,"nz-space"),t.YNc(6,su,2,6,"button",2),t.YNc(7,Qc,1,2,"nz-segmented",3),t.YNc(8,oo,5,4,"form",4),t.YNc(9,Yh,8,0,"ng-container",5),t.qZA()()(),t.TgZ(10,"nz-card")(11,"nz-skeleton",6)(12,"nz-table",7,8),t.NdJ("nzQueryParams",function(o){return A.onQueryParamsChange(o)}),t.TgZ(14,"thead")(15,"tr")(16,"th",9),t._uU(17,"Name"),t.qZA(),t.TgZ(18,"th",9),t._uU(19,"Client"),t.qZA(),t.TgZ(20,"th",10),t._uU(21," Category "),t.TgZ(22,"nz-filter-trigger",11),t.NdJ("nzVisibleChange",function(o){return A.showCategoriesFilter=o}),t._UZ(23,"span",12),t.qZA()(),t.TgZ(24,"th",13),t._uU(25," Status "),t.TgZ(26,"nz-filter-trigger",11),t.NdJ("nzVisibleChange",function(o){return A.showStatusesFilter=o}),t._UZ(27,"span",12),t.qZA()(),t.TgZ(28,"th",14),t._uU(29,"Tasks Progress"),t.qZA(),t.TgZ(30,"th",15),t._uU(31,"Last Updated"),t.qZA(),t.TgZ(32,"th",16),t._uU(33,"Members"),t.qZA()()(),t.TgZ(34,"tbody"),t.YNc(35,ea,30,30,"tr",17),t.qZA()()()()(),t.TgZ(36,"worklenz-project-form-modal",18),t.NdJ("onCreate",function(o){return A.onProjectCreate(o)})("onDelete",function(){return A.getProjects()})("onUpdate",function(){return A.onProjectUpdated()}),t.qZA(),t._UZ(37,"worklenz-projects-folder-form-drawer"),t.TgZ(38,"worklenz-project-template-import-drawer",19),t.NdJ("importProject",function(){return A.getProjects(!1)}),t.qZA(),t.YNc(39,Lc,7,4,"ng-template",null,20,t.W1O),t.TgZ(41,"nz-dropdown-menu",null,21)(43,"ul",22),t.YNc(44,Ec,2,1,"ng-container",5),t.YNc(45,na,2,0,"li",23),t.qZA()(),t.TgZ(46,"nz-dropdown-menu",null,24)(48,"ul",22),t.YNc(49,Mc,2,1,"ng-container",5),t.YNc(50,au,2,0,"li",23),t.qZA()()),2&e){const s=t.MAs(13),o=t.MAs(40),p=t.MAs(42),f=t.MAs(47);t.xp6(1),t.Q6J("nzGhost",!1),t.xp6(2),t.AsE("",A.total||0," Project",A.total>1?"s":"",""),t.xp6(6),t.Q6J("ngIf",A.isOwnerOrAdmin()),t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",A.loading)("nzParagraph",t.DdM(50,Wh)),t.xp6(1),t.Q6J("nzData",A.projectsModel.data||t.DdM(51,vs))("nzFrontPagination",!1)("nzLoading",A.loading)("nzPageIndex",A.pageIndex)("nzPageSizeOptions",A.paginationSizes)("nzPageSize",A.pageSize)("nzTotal",A.total)("nzShowSizeChanger",!0)("nzSize","small")("nzNoResult",o),t.xp6(4),t.Q6J("nzSortFn",!0)("nzColumnKey","name"),t.xp6(2),t.Q6J("nzSortFn",!0)("nzColumnKey","client_name"),t.xp6(2),t.Q6J("nzSortFn",!0)("nzColumnKey","category_id")("nzFilterFn",!0)("nzCustomFilter",!0),t.xp6(2),t.Q6J("nzVisible",A.showCategoriesFilter)("nzActive",A.filteredByCategory)("nzDropdownMenu",p),t.xp6(1),t.Q6J("nzType","filter")("nzTheme","fill"),t.xp6(1),t.Q6J("nzSortFn",!0)("nzColumnKey","status_id")("nzFilterFn",!0)("nzCustomFilter",!0),t.xp6(2),t.Q6J("nzVisible",A.showStatusesFilter)("nzActive",A.filteredByStatus)("nzDropdownMenu",f),t.xp6(1),t.Q6J("nzType","filter")("nzTheme","fill"),t.xp6(3),t.Q6J("nzSortFn",!0)("nzColumnKey","updated_at")("nzAlign","left"),t.xp6(2),t.Q6J("nzAlign","left"),t.xp6(3),t.Q6J("ngForOf",s.data)("ngForTrackBy",A.trackBy),t.xp6(3),t.Q6J("showBothTabs",!0),t.xp6(6),t.Q6J("ngIf",A.categories.length),t.xp6(1),t.Q6J("ngIf",!A.categories.length),t.xp6(4),t.Q6J("ngIf",A.statuses.length),t.xp6(1),t.Q6J("ngIf",!A.statuses.length)}},dependencies:[Ot.sg,Ot.O5,Ot.RF,Ot.n9,jt._Y,jt.Fj,jt.JJ,jt.JL,jt.sg,jt.u,ri.Lr,ZA.Zp,ZA.gB,ZA.ke,Fr.$O,Fr.u9,Fr.Jp,xA.ix,xA.fY,aA.w,pn.dQ,Ce.N8,Ce.qD,Ce.Uo,Ce._C,Ce.Om,Ce.p0,Ce.$Z,Ce.Ql,Ce.UX,qe.Ls,$e.ZU,mn.j,jt.On,Nn.Ie,_s.M,tA.SY,ln.ng,wn.bd,Qn.NU,Qn.$1,ur.x7,$o.wY,wA.wO,wA.r9,Xe.cm,Xe.RR,Xe.wA,Tc.sn,ii.o,cr.g,xc.p,ru,Ot.uU,si.m,oi],styles:[".actions-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 8px!important}.project-name-col[_ngcontent-%COMP%]{display:flex;align-items:center}.no-data-img-holder[_ngcontent-%COMP%]{width:100px}.category-tag[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),i})();var cu=ot(5227),Te=ot(40581),Bs=ot(62816);function bs(r,i){(0,Bs.Z)(2,arguments);var n=(0,Te.Z)(r),e=(0,Te.Z)(i),A=n.getTime()-e.getTime();return A<0?-1:A>0?1:A}var Ur=ot(80275),Nc=ot(78970),uu=ot(13061),$h=ot(46719),Oc=ot(48292),du=ot(45351);function pu(r,i,n){var e,A;(0,Bs.Z)(2,arguments);var s=(0,cu.j)(),o=null!==(e=null!==(A=n?.locale)&&void 0!==A?A:s.locale)&&void 0!==e?e:$h.Z;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var p=bs(r,i);if(isNaN(p))throw new RangeError("Invalid time value");var w,b,f=(0,Oc.Z)(function tp(r){return(0,Oc.Z)({},r)}(n),{addSuffix:!!n?.addSuffix,comparison:p});p>0?(w=(0,Te.Z)(i),b=(0,Te.Z)(r)):(w=(0,Te.Z)(r),b=(0,Te.Z)(i));var M,y=(0,uu.Z)(b,w),k=((0,du.Z)(b)-(0,du.Z)(w))/1e3,v=Math.round((y-k)/60);if(v<2)return null!=n&&n.includeSeconds?y<5?o.formatDistance("lessThanXSeconds",5,f):y<10?o.formatDistance("lessThanXSeconds",10,f):y<20?o.formatDistance("lessThanXSeconds",20,f):y<40?o.formatDistance("halfAMinute",0,f):o.formatDistance(y<60?"lessThanXMinutes":"xMinutes",1,f):0===v?o.formatDistance("lessThanXMinutes",1,f):o.formatDistance("xMinutes",v,f);if(v<45)return o.formatDistance("xMinutes",v,f);if(v<90)return o.formatDistance("aboutXHours",1,f);if(v<1440){var L=Math.round(v/60);return o.formatDistance("aboutXHours",L,f)}if(v<2520)return o.formatDistance("xDays",1,f);if(v<43200){var Z=Math.round(v/1440);return o.formatDistance("xDays",Z,f)}if(v<86400)return M=Math.round(v/43200),o.formatDistance("aboutXMonths",M,f);if(M=function lu(r,i){(0,Bs.Z)(2,arguments);var o,n=(0,Te.Z)(r),e=(0,Te.Z)(i),A=bs(n,e),s=Math.abs((0,Ur.Z)(n,e));if(s<1)o=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-A*s);var p=bs(n,e)===-A;(0,Nc.Z)((0,Te.Z)(r))&&1===s&&1===bs(r,e)&&(p=!1),o=A*(s-Number(p))}return 0===o?0:o}(b,w),M<12){var z=Math.round(v/43200);return o.formatDistance("xMonths",z,f)}var j=M%12,W=Math.floor(M/12);return j<3?o.formatDistance("aboutXYears",W,f):j<9?o.formatDistance("overXYears",W,f):o.formatDistance("almostXYears",W+1,f)}var cA=ot(71002),Re=Uint8Array,jA=Uint16Array,Wn=Uint32Array,Li=new Re([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dr=new Re([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ho=new Re([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gu=function(r,i){for(var n=new jA(31),e=0;e<31;++e)n[e]=i+=1<<r[e-1];var A=new Wn(n[30]);for(e=1;e<30;++e)for(var s=n[e];s<n[e+1];++s)A[s]=s-n[e]<<5|e;return[n,A]},po=gu(Li,2),Ei=po[0],sa=po[1];Ei[28]=258,sa[258]=28;for(var mu=gu(dr,0),_u=mu[0],ys=mu[1],ai=new jA(32768),eA=0;eA<32768;++eA){var ci=(43690&eA)>>>1|(21845&eA)<<1;ai[eA]=((65280&(ci=(61680&(ci=(52428&ci)>>>2|(13107&ci)<<2))>>>4|(3855&ci)<<4))>>>8|(255&ci)<<8)>>>1}var fA=function(r,i,n){for(var e=r.length,A=0,s=new jA(i);A<e;++A)++s[r[A]-1];var p,o=new jA(i);for(A=0;A<i;++A)o[A]=o[A-1]+s[A-1]<<1;if(n){p=new jA(1<<i);var f=15-i;for(A=0;A<e;++A)if(r[A])for(var w=A<<4|r[A],b=i-r[A],y=o[r[A]-1]++<<b,k=y|(1<<b)-1;y<=k;++y)p[ai[y]>>>f]=w}else for(p=new jA(e),A=0;A<e;++A)p[A]=ai[o[r[A]-1]++]>>>15-r[A];return p},Ir=new Re(288);for(eA=0;eA<144;++eA)Ir[eA]=8;for(eA=144;eA<256;++eA)Ir[eA]=9;for(eA=256;eA<280;++eA)Ir[eA]=7;for(eA=280;eA<288;++eA)Ir[eA]=8;var xs=new Re(32);for(eA=0;eA<32;++eA)xs[eA]=5;var wu=fA(Ir,9,0),vu=fA(Ir,9,1),Cu=fA(xs,5,0),Bu=fA(xs,5,1),oa=function(r){for(var i=r[0],n=1;n<r.length;++n)r[n]>i&&(i=r[n]);return i},On=function(r,i,n){var e=i/8>>0;return(r[e]|r[e+1]<<8)>>>(7&i)&n},Mi=function(r,i){var n=i/8>>0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>>(7&i)},fo=function(r){return(r/8>>0)+(7&r&&1)},li=function(r,i,n){(null==i||i<0)&&(i=0),(null==n||n>r.length)&&(n=r.length);var e=new(r instanceof jA?jA:r instanceof Wn?Wn:Re)(n-i);return e.set(r.subarray(i,n)),e},hr=function(r,i,n){var e=i/8>>0;r[e]|=n<<=7&i,r[e+1]|=n>>>8},Ni=function(r,i,n){var e=i/8>>0;r[e]|=n<<=7&i,r[e+1]|=n>>>8,r[e+2]|=n>>>16},Ts=function(r,i){for(var n=[],e=0;e<r.length;++e)r[e]&&n.push({s:e,f:r[e]});var A=n.length,s=n.slice();if(!A)return[new Re(0),0];if(1==A){var o=new Re(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(gt,It){return gt.f-It.f}),n.push({s:-1,f:25001});var p=n[0],f=n[1],w=0,b=1,y=2;for(n[0]={s:-1,f:p.f+f.f,l:p,r:f};b!=A-1;)p=n[n[w].f<n[y].f?w++:y++],f=n[w!=b&&n[w].f<n[y].f?w++:y++],n[b++]={s:-1,f:p.f+f.f,l:p,r:f};var k=s[0].s;for(e=1;e<A;++e)s[e].s>k&&(k=s[e].s);var v=new jA(k+1),M=pr(n[b-1],v,0);if(M>i){e=0;var L=0,Z=M-i,z=1<<Z;for(s.sort(function(It,ut){return v[ut.s]-v[It.s]||It.f-ut.f});e<A;++e){var j=s[e].s;if(!(v[j]>i))break;L+=z-(1<<M-v[j]),v[j]=i}for(L>>>=Z;L>0;){var W=s[e].s;v[W]<i?L-=1<<i-v[W]++-1:++e}for(;e>=0&&L;--e){var it=s[e].s;v[it]==i&&(--v[it],++L)}M=i}return[new Re(v),M]},pr=function(r,i,n){return-1==r.s?Math.max(pr(r.l,i,n+1),pr(r.r,i,n+1)):i[r.s]=n},Dc=function(r){for(var i=r.length;i&&!r[--i];);for(var n=new jA(++i),e=0,A=r[0],s=1,o=function(f){n[e++]=f},p=1;p<=i;++p)if(r[p]==A&&p!=i)++s;else{if(!A&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(A),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(A);s=1,A=r[p]}return[n.subarray(0,e),i]},ks=function(r,i){for(var n=0,e=0;e<i.length;++e)n+=r[e]*i[e];return n},go=function(r,i,n){var e=n.length,A=fo(i+2);r[A]=255&e,r[A+1]=e>>>8,r[A+2]=255^r[A],r[A+3]=255^r[A+1];for(var s=0;s<e;++s)r[A+s+4]=n[s];return 8*(A+4+e)},Oi=function(r,i,n,e,A,s,o,p,f,w,b){hr(i,b++,n),++A[256];for(var y=Ts(A,15),k=y[0],v=y[1],M=Ts(s,15),L=M[0],Z=M[1],z=Dc(k),j=z[0],W=z[1],it=Dc(L),gt=it[0],It=it[1],ut=new jA(19),Y=0;Y<j.length;++Y)ut[31&j[Y]]++;for(Y=0;Y<gt.length;++Y)ut[31&gt[Y]]++;for(var Tt=Ts(ut,7),kt=Tt[0],D=Tt[1],P=19;P>4&&!kt[ho[P-1]];--P);var _t,xt,pt,Ut,$=w+5<<3,q=ks(A,Ir)+ks(s,xs)+o,Ct=ks(A,k)+ks(s,L)+o+14+3*P+ks(ut,kt)+(2*ut[16]+3*ut[17]+7*ut[18]);if($<=q&&$<=Ct)return go(i,b,r.subarray(f,f+w));if(hr(i,b,1+(Ct<q)),b+=2,Ct<q){_t=fA(k,v,0),xt=k,pt=fA(L,Z,0),Ut=L;var Qt=fA(kt,D,0);for(hr(i,b,W-257),hr(i,b+5,It-1),hr(i,b+10,P-4),b+=14,Y=0;Y<P;++Y)hr(i,b+3*Y,kt[ho[Y]]);b+=3*P;for(var Wt=[j,gt],I=0;I<2;++I){var K=Wt[I];for(Y=0;Y<K.length;++Y)hr(i,b,Qt[G=31&K[Y]]),b+=kt[G],G>15&&(hr(i,b,K[Y]>>>5&127),b+=K[Y]>>>12)}}else _t=wu,xt=Ir,pt=Cu,Ut=xs;for(Y=0;Y<p;++Y)if(e[Y]>255){var G;Ni(i,b,_t[257+(G=e[Y]>>>18&31)]),b+=xt[G+257],G>7&&(hr(i,b,e[Y]>>>23&31),b+=Li[G]);var At=31&e[Y];Ni(i,b,pt[At]),b+=Ut[At],At>3&&(Ni(i,b,e[Y]>>>5&8191),b+=dr[At])}else Ni(i,b,_t[e[Y]]),b+=xt[e[Y]];return Ni(i,b,_t[256]),b+xt[256]},bu=new Wn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yu=new Re(0),Un=function(r,i,n,e,A){return function(r,i,n,e,A,s){var o=r.length,p=new Re(e+o+5*(1+Math.floor(o/7e3))+A),f=p.subarray(e,p.length-A),w=0;if(!i||o<8)for(var b=0;b<=o;b+=65535){var y=b+65535;y<o?w=go(f,w,r.subarray(b,y)):(f[b]=s,w=go(f,w,r.subarray(b,o)))}else{for(var k=bu[i-1],v=k>>>13,M=8191&k,L=(1<<n)-1,Z=new jA(32768),z=new jA(L+1),j=Math.ceil(n/3),W=2*j,it=function(ve){return(r[ve]^r[ve+1]<<j^r[ve+2]<<W)&L},gt=new Wn(25e3),It=new jA(288),ut=new jA(32),Y=0,Tt=0,kt=(b=0,0),D=0,P=0;b<o;++b){var $=it(b),q=32767&b,Ct=z[$];if(Z[q]=Ct,z[$]=q,D<=b){var _t=o-b;if((Y>7e3||kt>24576)&&_t>423){w=Oi(r,f,0,gt,It,ut,Tt,kt,P,b-P,w),kt=Y=Tt=0,P=b;for(var xt=0;xt<286;++xt)It[xt]=0;for(xt=0;xt<30;++xt)ut[xt]=0}var pt=2,Ut=0,Qt=M,Wt=q-Ct&32767;if(_t>2&&$==it(b-Wt))for(var I=Math.min(v,_t)-1,K=Math.min(32767,b),G=Math.min(258,_t);Wt<=K&&--Qt&&q!=Ct;){if(r[b+pt]==r[b+pt-Wt]){for(var At=0;At<G&&r[b+At]==r[b+At-Wt];++At);if(At>pt){if(pt=At,Ut=Wt,At>I)break;var at=Math.min(Wt,At-2),ft=0;for(xt=0;xt<at;++xt){var mt=b-Wt+xt+32768&32767,Zt=mt-Z[mt]+32768&32767;Zt>ft&&(ft=Zt,Ct=mt)}}}Wt+=(q=Ct)-(Ct=Z[q])+32768&32767}if(Ut){gt[kt++]=268435456|sa[pt]<<18|ys[Ut];var Ht=31&sa[pt],Ae=31&ys[Ut];Tt+=Li[Ht]+dr[Ae],++It[257+Ht],++ut[Ae],D=b+pt,++Y}else gt[kt++]=r[b],++It[r[b]]}}w=Oi(r,f,s,gt,It,ut,Tt,kt,P,b-P,w),s||(w=go(f,w,yu))}return li(p,0,e+fo(w)+A)}(r,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):12+i.mem,n,e,!A)};function Bo(r,i){void 0===i&&(i={});var n=function(){var r=1,i=0;return{p:function(n){for(var e=r,A=i,s=n.length,o=0;o!=s;){for(var p=Math.min(o+5552,s);o<p;++o)A+=e+=n[o];e%=65521,A%=65521}r=e,i=A},d:function(){return(r>>>8<<16|(255&i)<<8|i>>>8)+2*((255&r)<<23)}}}();n.p(r);var e=Un(r,i,2,4);return function(r,i){var n=i.level,e=0==n?0:n<6?1:9==n?3:2;r[0]=120,r[1]=e<<6|(e?32-2*e:1)}(e,i),function(r,i,n){for(;n;++i)r[i]=n,n>>>=8}(e,e.length-4,n.d()),e}function ui(r,i){return function(r,i,n){var e=r.length,A=!i||n,s=!n||n.i;n||(n={}),i||(i=new Re(3*e));var o=function(at){var ft=i.length;if(at>ft){var mt=new Re(Math.max(2*ft,at));mt.set(i),i=mt}},p=n.f||0,f=n.p||0,w=n.b||0,b=n.l,y=n.d,k=n.m,v=n.n,M=8*e;do{if(!b){n.f=p=On(r,f,1);var L=On(r,f+1,3);if(f+=3,!L){var z=r[(Z=fo(f)+4)-4]|r[Z-3]<<8,j=Z+z;if(j>e){if(s)throw"unexpected EOF";break}A&&o(w+z),i.set(r.subarray(Z,j),w),n.b=w+=z,n.p=f=8*j;continue}if(1==L)b=vu,y=Bu,k=9,v=5;else{if(2!=L)throw"invalid block type";var W=On(r,f,31)+257,it=On(r,f+10,15)+4,gt=W+On(r,f+5,31)+1;f+=14;for(var It=new Re(gt),ut=new Re(19),Y=0;Y<it;++Y)ut[ho[Y]]=On(r,f+3*Y,7);f+=3*it;var Tt=oa(ut),kt=(1<<Tt)-1;if(!s&&f+gt*(Tt+7)>M)break;var D=fA(ut,Tt,1);for(Y=0;Y<gt;){var Z,P=D[On(r,f,kt)];if(f+=15&P,(Z=P>>>4)<16)It[Y++]=Z;else{var $=0,q=0;for(16==Z?(q=3+On(r,f,3),f+=2,$=It[Y-1]):17==Z?(q=3+On(r,f,7),f+=3):18==Z&&(q=11+On(r,f,127),f+=7);q--;)It[Y++]=$}}var Ct=It.subarray(0,W),_t=It.subarray(W);k=oa(Ct),v=oa(_t),b=fA(Ct,k,1),y=fA(_t,v,1)}if(f>M)throw"unexpected EOF"}A&&o(w+131072);for(var xt=(1<<k)-1,pt=(1<<v)-1,Ut=k+v+18;s||f+Ut<M;){var Qt=($=b[Mi(r,f)&xt])>>>4;if((f+=15&$)>M)throw"unexpected EOF";if(!$)throw"invalid length/literal";if(Qt<256)i[w++]=Qt;else{if(256==Qt){b=null;break}var Wt=Qt-254;Qt>264&&(Wt=On(r,f,(1<<(I=Li[Y=Qt-257]))-1)+Ei[Y],f+=I);var K=y[Mi(r,f)&pt],G=K>>>4;if(!K)throw"invalid distance";if(f+=15&K,_t=_u[G],G>3){var I=dr[G];_t+=Mi(r,f)&(1<<I)-1,f+=I}if(f>M)throw"unexpected EOF";A&&o(w+131072);for(var At=w+Wt;w<At;w+=4)i[w]=i[w-_t],i[w+1]=i[w+1-_t],i[w+2]=i[w+2-_t],i[w+3]=i[w+3-_t];w=At}}n.l=b,n.p=f,n.b=w,b&&(p=1,n.m=k,n.d=y,n.n=v)}while(!p);return w==i.length?i:li(i,0,w)}((function(r){if(8!=(15&r[0])||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(32&r[1])throw"invalid zlib data: preset dictionaries not supported"}(r),r.subarray(2,-4)),i)}var fe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function fa(){fe.console&&"function"==typeof fe.console.log&&fe.console.log.apply(fe.console,arguments)}var rA={log:fa,warn:function(r){fe.console&&("function"==typeof fe.console.warn?fe.console.warn.apply(fe.console,arguments):fa.call(null,arguments))},error:function(r){fe.console&&("function"==typeof fe.console.error?fe.console.error.apply(fe.console,arguments):fa(r))}};function ga(r,i,n){var e=new XMLHttpRequest;e.open("GET",r),e.responseType="blob",e.onload=function(){Cn(e.response,i,n)},e.onerror=function(){rA.error("could not download file")},e.send()}function xo(r){var i=new XMLHttpRequest;i.open("HEAD",r,!1);try{i.send()}catch{}return i.status>=200&&i.status<=299}function To(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(i)}}var Qs,vn,Cn=fe.saveAs||("object"!==(typeof window>"u"?"undefined":(0,cA.Z)(window))||window!==fe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,i,n){var e=fe.URL||fe.webkitURL,A=document.createElement("a");A.download=i=i||r.name||"download",A.rel="noopener","string"==typeof r?(A.href=r,A.origin!==location.origin?xo(A.href)?ga(r,i,n):To(A,A.target="_blank"):To(A)):(A.href=e.createObjectURL(r),setTimeout(function(){e.revokeObjectURL(A.href)},4e4),setTimeout(function(){To(A)},0))}:"msSaveOrOpenBlob"in navigator?function(r,i,n){if(i=i||r.name||"download","string"==typeof r)if(xo(r))ga(r,i,n);else{var e=document.createElement("a");e.href=r,e.target="_blank",setTimeout(function(){To(e)})}else navigator.msSaveOrOpenBlob((A=r,void 0===(s=n)?s={autoBom:!1}:"object"!==(0,cA.Z)(s)&&(rA.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob([String.fromCharCode(65279),A],{type:A.type}):A),i);var A,s}:function(r,i,n,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof r)return ga(r,i,n);var A="application/octet-stream"===r.type,s=/constructor/i.test(fe.HTMLElement)||fe.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||A&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,cA.Z)(FileReader))){var p=new FileReader;p.onloadend=function(){var b=p.result;b=o?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=b:location=b,e=null},p.readAsDataURL(r)}else{var f=fe.URL||fe.webkitURL,w=f.createObjectURL(r);e?e.location=w:location.href=w,e=null,setTimeout(function(){f.revokeObjectURL(w)},4e4)}});function Lr(r){var i;r=r||"",this.ok=!1,"#"==r.charAt(0)&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(p){return[parseInt(p[1]),parseInt(p[2]),parseInt(p[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}}],e=0;e<n.length;e++){var s=n[e].process,o=n[e].re.exec(r);o&&(i=s(o),this.r=i[0],this.g=i[1],this.b=i[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var p=this.r.toString(16),f=this.g.toString(16),w=this.b.toString(16);return 1==p.length&&(p="0"+p),1==f.length&&(f="0"+f),1==w.length&&(w="0"+w),"#"+p+f+w}}function MA(r,i){var n=r[0],e=r[1],A=r[2],s=r[3];n=en(n,e,A,s,i[0],7,-680876936),s=en(s,n,e,A,i[1],12,-389564586),A=en(A,s,n,e,i[2],17,606105819),e=en(e,A,s,n,i[3],22,-1044525330),n=en(n,e,A,s,i[4],7,-176418897),s=en(s,n,e,A,i[5],12,1200080426),A=en(A,s,n,e,i[6],17,-1473231341),e=en(e,A,s,n,i[7],22,-45705983),n=en(n,e,A,s,i[8],7,1770035416),s=en(s,n,e,A,i[9],12,-1958414417),A=en(A,s,n,e,i[10],17,-42063),e=en(e,A,s,n,i[11],22,-1990404162),n=en(n,e,A,s,i[12],7,1804603682),s=en(s,n,e,A,i[13],12,-40341101),A=en(A,s,n,e,i[14],17,-1502002290),n=An(n,e=en(e,A,s,n,i[15],22,1236535329),A,s,i[1],5,-165796510),s=An(s,n,e,A,i[6],9,-1069501632),A=An(A,s,n,e,i[11],14,643717713),e=An(e,A,s,n,i[0],20,-373897302),n=An(n,e,A,s,i[5],5,-701558691),s=An(s,n,e,A,i[10],9,38016083),A=An(A,s,n,e,i[15],14,-660478335),e=An(e,A,s,n,i[4],20,-405537848),n=An(n,e,A,s,i[9],5,568446438),s=An(s,n,e,A,i[14],9,-1019803690),A=An(A,s,n,e,i[3],14,-187363961),e=An(e,A,s,n,i[8],20,1163531501),n=An(n,e,A,s,i[13],5,-1444681467),s=An(s,n,e,A,i[2],9,-51403784),A=An(A,s,n,e,i[7],14,1735328473),n=qA(n,e=An(e,A,s,n,i[12],20,-1926607734),A,s,i[5],4,-378558),s=qA(s,n,e,A,i[8],11,-2022574463),A=qA(A,s,n,e,i[11],16,1839030562),e=qA(e,A,s,n,i[14],23,-35309556),n=qA(n,e,A,s,i[1],4,-1530992060),s=qA(s,n,e,A,i[4],11,1272893353),A=qA(A,s,n,e,i[7],16,-155497632),e=qA(e,A,s,n,i[10],23,-1094730640),n=qA(n,e,A,s,i[13],4,681279174),s=qA(s,n,e,A,i[0],11,-358537222),A=qA(A,s,n,e,i[3],16,-722521979),e=qA(e,A,s,n,i[6],23,76029189),n=qA(n,e,A,s,i[9],4,-640364487),s=qA(s,n,e,A,i[12],11,-421815835),A=qA(A,s,n,e,i[15],16,530742520),n=nn(n,e=qA(e,A,s,n,i[2],23,-995338651),A,s,i[0],6,-198630844),s=nn(s,n,e,A,i[7],10,1126891415),A=nn(A,s,n,e,i[14],15,-1416354905),e=nn(e,A,s,n,i[5],21,-57434055),n=nn(n,e,A,s,i[12],6,1700485571),s=nn(s,n,e,A,i[3],10,-1894986606),A=nn(A,s,n,e,i[10],15,-1051523),e=nn(e,A,s,n,i[1],21,-2054922799),n=nn(n,e,A,s,i[8],6,1873313359),s=nn(s,n,e,A,i[15],10,-30611744),A=nn(A,s,n,e,i[6],15,-1560198380),e=nn(e,A,s,n,i[13],21,1309151649),n=nn(n,e,A,s,i[4],6,-145523070),s=nn(s,n,e,A,i[11],10,-1120210379),A=nn(A,s,n,e,i[2],15,718787259),e=nn(e,A,s,n,i[9],21,-343485551),r[0]=di(n,r[0]),r[1]=di(e,r[1]),r[2]=di(A,r[2]),r[3]=di(s,r[3])}function tr(r,i,n,e,A,s){return i=di(di(i,r),di(e,s)),di(i<<A|i>>>32-A,n)}function en(r,i,n,e,A,s,o){return tr(i&n|~i&e,r,i,A,s,o)}function An(r,i,n,e,A,s,o){return tr(i&e|n&~e,r,i,A,s,o)}function qA(r,i,n,e,A,s,o){return tr(i^n^e,r,i,A,s,o)}function nn(r,i,n,e,A,s,o){return tr(n^(i|~e),r,i,A,s,o)}function Ou(r){var i,n=r.length,e=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=r.length;i+=64)MA(e,ko(r.substring(i-64,i)));r=r.substring(i-64);var A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<r.length;i++)A[i>>2]|=r.charCodeAt(i)<<(i%4<<3);if(A[i>>2]|=128<<(i%4<<3),i>55)for(MA(e,A),i=0;i<16;i++)A[i]=0;return A[14]=8*n,MA(e,A),e}function ko(r){var i,n=[];for(i=0;i<64;i+=4)n[i>>2]=r.charCodeAt(i)+(r.charCodeAt(i+1)<<8)+(r.charCodeAt(i+2)<<16)+(r.charCodeAt(i+3)<<24);return n}Qs=fe.atob.bind(fe),vn=fe.btoa.bind(fe);var gr="0123456789abcdef".split("");function cp(r){for(var i="",n=0;n<4;n++)i+=gr[r>>8*n+4&15]+gr[r>>8*n&15];return i}function lp(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Fs(r){return Ou(r).map(lp).join("")}var Pu="5d41402abc4b2a76b9719d911017c592"!=function(r){for(var i=0;i<r.length;i++)r[i]=cp(r[i]);return r.join("")}(Ou("hello"));function di(r,i){if(Pu){var n=(65535&r)+(65535&i);return(r>>16)+(i>>16)+(n>>16)<<16|65535&n}return r+i&4294967295}function Jc(r,i){var n,e,A;if(r!==n){for(var o=(A=r,new Array(1+(256/r.length>>0)+1).join(A)),p=[],f=0;f<256;f++)p[f]=f;var w=0;for(f=0;f<256;f++){var b=p[f];w=(w+b+o.charCodeAt(f))%256,p[f]=p[w],p[w]=b}n=r,e=p}else p=e;var y=i.length,k=0,v=0,M="";for(f=0;f<y;f++)v=(v+(b=p[k=(k+1)%256]))%256,p[k]=p[v],p[v]=b,o=p[(p[k]+p[v])%256],M+=String.fromCharCode(i.charCodeAt(f)^o);return M}var Pn={print:4,modify:8,copy:16,"annot-forms":32};function Hi(r,i,n,e){this.v=1,this.r=2;var A=192;r.forEach(function(p){if(void 0!==Pn.perm)throw new Error("Invalid permission: "+p);A+=Pn[p]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(i+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^A)),this.encryptionKey=Fs(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(e)).substr(0,5),this.U=Jc(this.encryptionKey,this.padding)}function Us(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var i="",n=r.length,e=0;e<n;e++){var A=r.charCodeAt(e);i+=A<33||35===A||37===A||40===A||41===A||47===A||60===A||62===A||91===A||93===A||123===A||125===A||A>126?"#"+("0"+A.toString(16)).slice(-2):r[e]}return i}function Du(r){if("object"!==(0,cA.Z)(r))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(n,e,A){if(A=A||!1,"string"!=typeof n||"function"!=typeof e||"boolean"!=typeof A)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(n)||(i[n]={});var s=Math.random().toString(35);return i[n][s]=[e,!!A],s},this.unsubscribe=function(n){for(var e in i)if(i[e][n])return delete i[e][n],0===Object.keys(i[e]).length&&delete i[e],!0;return!1},this.publish=function(n){if(i.hasOwnProperty(n)){var e=Array.prototype.slice.call(arguments,1),A=[];for(var s in i[n]){var o=i[n][s];try{o[0].apply(r,e)}catch(p){fe.console&&rA.error("jsPDF PubSub Error",p.message,p)}o[1]&&A.push(s)}A.length&&A.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function Zi(r){if(!(this instanceof Zi))return new Zi(r);var i="opacity,stroke-opacity".split(",");for(var n in r)r.hasOwnProperty(n)&&i.indexOf(n)>=0&&(this[n]=r[n]);this.id="",this.objectNumber=-1}function Hu(r,i){this.gState=r,this.matrix=i,this.id="",this.objectNumber=-1}function hi(r,i,n,e,A){if(!(this instanceof hi))return new hi(r,i,n,e,A);this.type="axial"===r?2:3,this.coords=i,this.colors=n,Hu.call(this,e,A)}function ji(r,i,n,e,A){if(!(this instanceof ji))return new ji(r,i,n,e,A);this.boundingBox=r,this.xStep=i,this.yStep=n,this.stream="",this.cloneIndex=0,Hu.call(this,e,A)}function pe(r){var i,n="string"==typeof arguments[0]?arguments[0]:"p",e=arguments[1],A=arguments[2],s=arguments[3],o=[],p=1,f=16,w="S",b=null;"object"===(0,cA.Z)(r=r||{})&&(n=r.orientation,e=r.unit||e,A=r.format||A,s=r.compress||r.compressPdf||s,null!==(b=r.encryption||null)&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),p="number"==typeof r.userUnit?Math.abs(r.userUnit):1,void 0!==r.precision&&(i=r.precision),void 0!==r.floatPrecision&&(f=r.floatPrecision),w=r.defaultPathOperation||"S"),o=r.filters||(!0===s?["FlateEncode"]:o),e=e||"mm",n=(""+(n||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,k={},v={internal:{},__private__:{}};v.__private__.PubSub=Du;var M="1.3",L=v.__private__.getPdfVersion=function(){return M};v.__private__.setPdfVersion=function(g){M=g};var Z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return Z};var z=v.__private__.getPageFormat=function(g){return Z[g]};A=A||"a4";var W="compat";function it(){this.saveGraphicsState(),J(new _e(te,0,0,-te,0,Js()*te).toString()+" cm"),this.setFontSize(this.getFontSize()/te),w="n",W="advanced"}function gt(){this.restoreGraphicsState(),w="S",W="compat"}var It=v.__private__.combineFontStyleAndFontWeight=function(g,T){if("bold"==g&&"normal"==T||"bold"==g&&400==T||"normal"==g&&"italic"==T||"bold"==g&&"italic"==T)throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(g=400==T||"normal"===T?"italic"===g?"italic":"normal":700!=T&&"bold"!==T||"normal"!==g?(700==T?"bold":T)+""+g:"bold"),g};v.advancedAPI=function(g){var T="compat"===W;return T&&it.call(this),"function"!=typeof g||(g(this),T&&gt.call(this)),this},v.compatAPI=function(g){var T="advanced"===W;return T&&gt.call(this),"function"!=typeof g||(g(this),T&&it.call(this)),this},v.isAdvancedAPI=function(){return"advanced"===W};var ut,Y=function(g){if("advanced"!==W)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Tt=v.roundToPrecision=v.__private__.roundToPrecision=function(g,T){var R=i||T;if(isNaN(g)||isNaN(R))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(R).replace(/0+$/,"")};ut=v.hpf=v.__private__.hpf="number"==typeof f?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Tt(g,f)}:"smart"===f?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Tt(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Tt(g,16)};var kt=v.f2=v.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return Tt(g,2)},D=v.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return Tt(g,3)},P=v.scale=v.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===W?g*te:"advanced"===W?g:void 0},q=function(g){return P(function(g){return"compat"===W?Js()-g:"advanced"===W?g:void 0}(g))};v.__private__.setPrecision=v.setPrecision=function(g){"number"==typeof parseInt(g,10)&&(i=parseInt(g,10))};var Ct,_t="00000000000000000000000000000000",xt=v.__private__.getFileId=function(){return _t},pt=v.__private__.setFileId=function(g){return _t=void 0!==g&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():_t.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==b&&(Tn=new Hi(b.userPermissions,b.userPassword,b.ownerPassword,_t)),_t};v.setFileId=function(g){return pt(g),this},v.getFileId=function(){return xt()};var Ut=v.__private__.convertDateToPDFDate=function(g){var T=g.getTimezoneOffset(),R=T<0?"+":"-",V=Math.floor(Math.abs(T/60)),ct=Math.abs(T%60),bt=[R,G(V),"'",G(ct),"'"].join("");return["D:",g.getFullYear(),G(g.getMonth()+1),G(g.getDate()),G(g.getHours()),G(g.getMinutes()),G(g.getSeconds()),bt].join("")},Qt=v.__private__.convertPDFDateToDate=function(g){var T=parseInt(g.substr(2,4),10),R=parseInt(g.substr(6,2),10)-1,V=parseInt(g.substr(8,2),10),ct=parseInt(g.substr(10,2),10),bt=parseInt(g.substr(12,2),10),Nt=parseInt(g.substr(14,2),10);return new Date(T,R,V,ct,bt,Nt,0)},Wt=v.__private__.setCreationDate=function(g){var T;if(void 0===g&&(g=new Date),g instanceof Date)T=Ut(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=g}return Ct=T},I=v.__private__.getCreationDate=function(g){var T=Ct;return"jsDate"===g&&(T=Qt(Ct)),T};v.setCreationDate=function(g){return Wt(g),this},v.getCreationDate=function(g){return I(g)};var K,G=v.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},At=v.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},at=0,ft=[],mt=[],wt=0,Zt=[],Ht=[],Ae=!1,ie=mt;v.__private__.setCustomOutputDestination=function(g){Ae=!0,ie=g};var yt=function(g){Ae||(ie=g)};v.__private__.resetCustomOutputDestination=function(){Ae=!1,ie=mt};var J=v.__private__.out=function(g){return g=g.toString(),wt+=g.length+1,ie.push(g),ie},Ie=v.__private__.write=function(g){return J(1===arguments.length?g.toString():Array.prototype.join.call(arguments," "))},ce=v.__private__.getArrayBuffer=function(g){for(var T=g.length,R=new ArrayBuffer(T),V=new Uint8Array(R);T--;)V[T]=g.charCodeAt(T);return R},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Pt};var Rt=r.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(g){return Rt="advanced"===W?g/te:g,this};var $t,Yt=v.__private__.getFontSize=v.getFontSize=function(){return"compat"===W?Rt:Rt*te},de=r.R2L||!1;v.__private__.setR2L=v.setR2L=function(g){return de=g,this},v.__private__.getR2L=v.getR2L=function(){return de};var Qe,Ee=v.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))$t=g;else if(isNaN(g)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');$t=g}else $t=parseInt(g,10)};v.__private__.getZoomMode=function(){return $t};var Ne,Je=v.__private__.setPageMode=function(g){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Qe=g};v.__private__.getPageMode=function(){return Qe};var hA=v.__private__.setLayoutMode=function(g){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Ne=g};v.__private__.getLayoutMode=function(){return Ne},v.__private__.setDisplayMode=v.setDisplayMode=function(g,T,R){return Ee(g),hA(T),Je(R),this};var xe={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(g){if(-1===Object.keys(xe).indexOf(g))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xe[g]},v.__private__.getDocumentProperties=function(){return xe},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(g){for(var T in xe)xe.hasOwnProperty(T)&&g[T]&&(xe[T]=g[T]);return this},v.__private__.setDocumentProperty=function(g,T){if(-1===Object.keys(xe).indexOf(g))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xe[g]=T};var Pe,te,xn,We,jr,mA={},kA={},yi=[],sA={},Zo={},OA={},Rr={},ss=null,PA=0,Fe=[],oA=new Du(v),jo=r.hotfixes||[],fn={},xi={},Ti=[],_e=function g(T,R,V,ct,bt,Nt){if(!(this instanceof g))return new g(T,R,V,ct,bt,Nt);isNaN(T)&&(T=1),isNaN(R)&&(R=0),isNaN(V)&&(V=0),isNaN(ct)&&(ct=1),isNaN(bt)&&(bt=0),isNaN(Nt)&&(Nt=0),this._matrix=[T,R,V,ct,bt,Nt]};Object.defineProperty(_e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(_e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(_e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(_e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(_e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(_e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(_e.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(_e.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(_e.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(_e.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(_e.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(_e.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(_e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_e.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),_e.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ut).join(g)},_e.prototype.multiply=function(g){return new _e(g.sx*this.sx+g.shy*this.shx,g.sx*this.shy+g.shy*this.sy,g.shx*this.sx+g.sy*this.shx,g.shx*this.shy+g.sy*this.sy,g.tx*this.sx+g.ty*this.shx+this.tx,g.tx*this.shy+g.ty*this.sy+this.ty)},_e.prototype.decompose=function(){var g=this.sx,T=this.shy,R=this.shx,V=this.sy,ct=this.tx,bt=this.ty,Nt=Math.sqrt(g*g+T*T),ne=(g/=Nt)*R+(T/=Nt)*V;R-=g*ne,V-=T*ne;var he=Math.sqrt(R*R+V*V);return ne/=he,g*(V/=he)<T*(R/=he)&&(g=-g,T=-T,ne=-ne,Nt=-Nt),{scale:new _e(Nt,0,0,he,0,0),translate:new _e(1,0,0,1,ct,bt),rotate:new _e(g,T,-T,g,0,0),skew:new _e(1,0,ne,1,0,0)}},_e.prototype.toString=function(g){return this.join(" ")},_e.prototype.inversed=function(){var g=this.sx,T=this.shy,R=this.shx,V=this.sy,ct=this.tx,bt=this.ty,Nt=1/(g*V-T*R),ne=V*Nt,he=-T*Nt,Se=-R*Nt,Me=g*Nt;return new _e(ne,he,Se,Me,-ne*ct-Se*bt,-he*ct-Me*bt)},_e.prototype.applyToPoint=function(g){return new cc(g.x*this.sx+g.y*this.shx+this.tx,g.x*this.shy+g.y*this.sy+this.ty)},_e.prototype.applyToRectangle=function(g){var T=this.applyToPoint(g),R=this.applyToPoint(new cc(g.x+g.w,g.y+g.h));return new Nl(T.x,T.y,R.x-T.x,R.y-T.y)},_e.prototype.clone=function(){return new _e(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},v.Matrix=_e;var Kr=v.matrixMult=function(g,T){return T.multiply(g)},ki=new _e(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=ki;var Kn=function(g,T){if(!Zo[g]){var R=(T instanceof hi?"Sh":"P")+(Object.keys(sA).length+1).toString(10);T.id=R,Zo[g]=R,sA[R]=T,oA.publish("addPattern",T)}};v.ShadingPattern=hi,v.TilingPattern=ji,v.addShadingPattern=function(g,T){return Y("addShadingPattern()"),Kn(g,T),this},v.beginTilingPattern=function(g){Y("beginTilingPattern()"),wh(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},v.endTilingPattern=function(g,T){Y("endTilingPattern()"),T.stream=Ht[K].join("\n"),Kn(g,T),oA.publish("endTilingPattern",T),Ti.pop().restore()};var g,an=v.__private__.newObject=function(){var g=WA();return rr(g,!0),g},WA=v.__private__.newObjectDeferred=function(){return at++,ft[at]=function(){return wt},at},rr=function(g,T){return T="boolean"==typeof T&&T,ft[g]=wt,T&&J(g+" 0 obj"),g},Va=v.__private__.newAdditionalObject=function(){var g={objId:WA(),content:""};return Zt.push(g),g},os=WA(),Gr=WA(),Jr=v.__private__.decodeColorString=function(g){var T=g.split(" ");if(2!==T.length||"g"!==T[1]&&"G"!==T[1])5===T.length&&("k"===T[4]||"K"===T[4])&&(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var R=parseFloat(T[0]);T=[R,R,R,"r"]}for(var V="#",ct=0;ct<3;ct++)V+=("0"+Math.floor(255*parseFloat(T[ct])).toString(16)).slice(-2);return V},Yr=v.__private__.encodeColorString=function(g){var T;"string"==typeof g&&(g={ch1:g});var R=g.ch1,V=g.ch2,ct=g.ch3,bt=g.ch4,Nt="draw"===g.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof R&&"#"!==R.charAt(0)){var ne=new Lr(R);if(ne.ok)R=ne.toHex();else if(!/^\d*\.?\d*$/.test(R))throw new Error('Invalid color "'+R+'" passed to jsPDF.encodeColorString.')}if("string"==typeof R&&/^#[0-9A-Fa-f]{3}$/.test(R)&&(R="#"+R[1]+R[1]+R[2]+R[2]+R[3]+R[3]),"string"==typeof R&&/^#[0-9A-Fa-f]{6}$/.test(R)){var he=parseInt(R.substr(1),16);R=he>>16&255,V=he>>8&255,ct=255&he}if(void 0===V||void 0===bt&&R===V&&V===ct)T="string"==typeof R?R+" "+Nt[0]:2===g.precision?kt(R/255)+" "+Nt[0]:D(R/255)+" "+Nt[0];else if(void 0===bt||"object"===(0,cA.Z)(bt)){if(bt&&!isNaN(bt.a)&&0===bt.a)return["1.","1.","1.",Nt[1]].join(" ");T="string"==typeof R?[R,V,ct,Nt[1]].join(" "):2===g.precision?[kt(R/255),kt(V/255),kt(ct/255),Nt[1]].join(" "):[D(R/255),D(V/255),D(ct/255),Nt[1]].join(" ")}else T="string"==typeof R?[R,V,ct,bt,Nt[2]].join(" "):2===g.precision?[kt(R),kt(V),kt(ct),kt(bt),Nt[2]].join(" "):[D(R),D(V),D(ct),D(bt),Nt[2]].join(" ");return T},Qi=v.__private__.getFilters=function(){return o},br=v.__private__.putStream=function(g){var T=(g=g||{}).data||"",R=g.filters||Qi(),V=g.alreadyAppliedFilters||[],ct=g.addLength1||!1,bt=T.length,Nt=g.objectId,ne=function(kn){return kn};if(null!==b&&void 0===Nt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==b&&(ne=Tn.encryptor(Nt,0));var he={};!0===R&&(R=["FlateEncode"]);var Se=g.additionalKeyValues||[],Me=(he=void 0!==pe.API.processDataByFilters?pe.API.processDataByFilters(T,R):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(V)?V.join(" "):V.toString());if(0!==he.data.length&&(Se.push({key:"Length",value:he.data.length}),!0===ct&&Se.push({key:"Length1",value:bt})),0!=Me.length)if(Me.split("/").length-1==1)Se.push({key:"Filter",value:Me});else{Se.push({key:"Filter",value:"["+Me+"]"});for(var Ge=0;Ge<Se.length;Ge+=1)if("DecodeParms"===Se[Ge].key){for(var zA=[],DA=0;DA<he.reverseChain.split("/").length-1;DA+=1)zA.push("null");zA.push(Se[Ge].value),Se[Ge].value="["+zA.join(" ")+"]"}}J("<<");for(var XA=0;XA<Se.length;XA++)J("/"+Se[XA].key+" "+Se[XA].value);J(">>"),0!==he.data.length&&(J("stream"),J(ne(he.data)),J("endstream"))},Fi=v.__private__.putPage=function(g){var T=g.number,R=g.data,V=g.objId,ct=g.contentsObjId;rr(V,!0),J("<</Type /Page"),J("/Parent "+g.rootDictionaryObjId+" 0 R"),J("/Resources "+g.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(ut(g.mediaBox.bottomLeftX))+" "+parseFloat(ut(g.mediaBox.bottomLeftY))+" "+ut(g.mediaBox.topRightX)+" "+ut(g.mediaBox.topRightY)+"]"),null!==g.cropBox&&J("/CropBox ["+ut(g.cropBox.bottomLeftX)+" "+ut(g.cropBox.bottomLeftY)+" "+ut(g.cropBox.topRightX)+" "+ut(g.cropBox.topRightY)+"]"),null!==g.bleedBox&&J("/BleedBox ["+ut(g.bleedBox.bottomLeftX)+" "+ut(g.bleedBox.bottomLeftY)+" "+ut(g.bleedBox.topRightX)+" "+ut(g.bleedBox.topRightY)+"]"),null!==g.trimBox&&J("/TrimBox ["+ut(g.trimBox.bottomLeftX)+" "+ut(g.trimBox.bottomLeftY)+" "+ut(g.trimBox.topRightX)+" "+ut(g.trimBox.topRightY)+"]"),null!==g.artBox&&J("/ArtBox ["+ut(g.artBox.bottomLeftX)+" "+ut(g.artBox.bottomLeftY)+" "+ut(g.artBox.topRightX)+" "+ut(g.artBox.topRightY)+"]"),"number"==typeof g.userUnit&&1!==g.userUnit&&J("/UserUnit "+g.userUnit),oA.publish("putPage",{objId:V,pageContext:Fe[T],pageNumber:T,page:R}),J("/Contents "+ct+" 0 R"),J(">>"),J("endobj");var bt=R.join("\n");return"advanced"===W&&(bt+="\nQ"),rr(ct,!0),br({data:bt,filters:Qi(),objectId:ct}),J("endobj"),V},Ro=v.__private__.putPages=function(){var g,T,R=[];for(g=1;g<=PA;g++)Fe[g].objId=WA(),Fe[g].contentsObjId=WA();for(g=1;g<=PA;g++)R.push(Fi({number:g,data:Ht[g],objId:Fe[g].objId,contentsObjId:Fe[g].contentsObjId,mediaBox:Fe[g].mediaBox,cropBox:Fe[g].cropBox,bleedBox:Fe[g].bleedBox,trimBox:Fe[g].trimBox,artBox:Fe[g].artBox,userUnit:Fe[g].userUnit,rootDictionaryObjId:os,resourceDictionaryObjId:Gr}));rr(os,!0),J("<</Type /Pages");var V="/Kids [";for(T=0;T<PA;T++)V+=R[T]+" 0 R ";J(V+"]"),J("/Count "+PA),J(">>"),J("endobj"),oA.publish("postPutPages")},Wa=function(g){oA.publish("putFont",{font:g,out:J,newObject:an,putStream:br}),!0!==g.isAlreadyPutted&&(g.objectNumber=an(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Us(g.postScriptName)),J("/Subtype /Type1"),"string"==typeof g.encoding&&J("/Encoding /"+g.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},$a=function(g){g.objectNumber=an();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[ut(g.x),ut(g.y),ut(g.x+g.width),ut(g.y+g.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var R=g.pages[1].join("\n");br({data:R,additionalKeyValues:T,objectId:g.objectNumber}),J("endobj")},Bg=function(g,T){T||(T=21);var R=an(),V=function(g,T){var R,V=[],ct=1/(T-1);for(R=0;R<1;R+=ct)V.push(R);V.push(1),0!=g[0].offset&&g.unshift({offset:0,color:g[0].color}),1!=g[g.length-1].offset&&g.push({offset:1,color:g[g.length-1].color});for(var ne="",he=0,Se=0;Se<V.length;Se++){for(R=V[Se];R>g[he+1].offset;)he++;var Me=g[he].offset,Ge=(R-Me)/(g[he+1].offset-Me),zA=g[he].color,DA=g[he+1].color;ne+=At(Math.round((1-Ge)*zA[0]+Ge*DA[0]).toString(16))+At(Math.round((1-Ge)*zA[1]+Ge*DA[1]).toString(16))+At(Math.round((1-Ge)*zA[2]+Ge*DA[2]).toString(16))}return ne.trim()}(g.colors,T),ct=[];ct.push({key:"FunctionType",value:"0"}),ct.push({key:"Domain",value:"[0.0 1.0]"}),ct.push({key:"Size",value:"["+T+"]"}),ct.push({key:"BitsPerSample",value:"8"}),ct.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ct.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:V,additionalKeyValues:ct,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:R}),J("endobj"),g.objectNumber=an(),J("<< /ShadingType "+g.type),J("/ColorSpace /DeviceRGB");var bt="/Coords ["+ut(parseFloat(g.coords[0]))+" "+ut(parseFloat(g.coords[1]))+" ";bt+=2===g.type?ut(parseFloat(g.coords[2]))+" "+ut(parseFloat(g.coords[3])):ut(parseFloat(g.coords[2]))+" "+ut(parseFloat(g.coords[3]))+" "+ut(parseFloat(g.coords[4]))+" "+ut(parseFloat(g.coords[5])),J(bt+="]"),g.matrix&&J("/Matrix ["+g.matrix.toString()+"]"),J("/Function "+R+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},bg=function(g,T){var R=WA(),V=an();T.push({resourcesOid:R,objectOid:V}),g.objectNumber=V;var ct=[];ct.push({key:"Type",value:"/Pattern"}),ct.push({key:"PatternType",value:"1"}),ct.push({key:"PaintType",value:"1"}),ct.push({key:"TilingType",value:"1"}),ct.push({key:"BBox",value:"["+g.boundingBox.map(ut).join(" ")+"]"}),ct.push({key:"XStep",value:ut(g.xStep)}),ct.push({key:"YStep",value:ut(g.yStep)}),ct.push({key:"Resources",value:R+" 0 R"}),g.matrix&&ct.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),br({data:g.stream,additionalKeyValues:ct,objectId:g.objectNumber}),J("endobj")},Ah=function(g){for(var T in g.objectNumber=an(),J("<<"),g)switch(T){case"opacity":J("/ca "+kt(g[T]));break;case"stroke-opacity":J("/CA "+kt(g[T]))}J(">>"),J("endobj")},KA=function(g){rr(g.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var g in J("/Font <<"),mA)mA.hasOwnProperty(g)&&(!1===y||!0===y&&k.hasOwnProperty(g))&&J("/"+g+" "+mA[g].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(sA).length>0){for(var g in J("/Shading <<"),sA)sA.hasOwnProperty(g)&&sA[g]instanceof hi&&sA[g].objectNumber>=0&&J("/"+g+" "+sA[g].objectNumber+" 0 R");oA.publish("putShadingPatternDict"),J(">>")}}(),function(g){if(Object.keys(sA).length>0){for(var T in J("/Pattern <<"),sA)sA.hasOwnProperty(T)&&sA[T]instanceof v.TilingPattern&&sA[T].objectNumber>=0&&sA[T].objectNumber<g&&J("/"+T+" "+sA[T].objectNumber+" 0 R");oA.publish("putTilingPatternDict"),J(">>")}}(g.objectOid),function(){if(Object.keys(OA).length>0){var g;for(g in J("/ExtGState <<"),OA)OA.hasOwnProperty(g)&&OA[g].objectNumber>=0&&J("/"+g+" "+OA[g].objectNumber+" 0 R");oA.publish("putGStateDict"),J(">>")}}(),function(){for(var g in J("/XObject <<"),fn)fn.hasOwnProperty(g)&&fn[g].objectNumber>=0&&J("/"+g+" "+fn[g].objectNumber+" 0 R");oA.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},sh=function(g){kA[g.fontName]=kA[g.fontName]||{},kA[g.fontName][g.fontStyle]=g.id},Ql=function(g,T,R,V,ct){var bt={id:"F"+(Object.keys(mA).length+1).toString(10),postScriptName:g,fontName:T,fontStyle:R,encoding:V,isStandardFont:ct||!1,metadata:{}};return oA.publish("addFont",{font:bt,instance:this}),mA[bt.id]=bt,sh(bt),bt.id},Gn=v.__private__.pdfEscape=v.pdfEscape=function(g,T){return function(g,T){var R,V,ct,bt,Nt,ne,he,Se,Me;if(ct=(T=T||{}).sourceEncoding||"Unicode",Nt=T.outputEncoding,(T.autoencode||Nt)&&mA[Pe].metadata&&mA[Pe].metadata[ct]&&mA[Pe].metadata[ct].encoding&&(bt=mA[Pe].metadata[ct].encoding,!Nt&&mA[Pe].encoding&&(Nt=mA[Pe].encoding),!Nt&&bt.codePages&&(Nt=bt.codePages[0]),"string"==typeof Nt&&(Nt=bt[Nt]),Nt)){for(he=!1,ne=[],R=0,V=g.length;R<V;R++)(Se=Nt[g.charCodeAt(R)])?ne.push(String.fromCharCode(Se)):ne.push(g[R]),ne[R].charCodeAt(0)>>8&&(he=!0);g=ne.join("")}for(R=g.length;void 0===he&&0!==R;)g.charCodeAt(R-1)>>8&&(he=!0),R--;if(!he)return g;for(ne=T.noBOM?[]:[254,255],R=0,V=g.length;R<V;R++){if((Me=(Se=g.charCodeAt(R))>>8)>>8)throw new Error("Character at position "+R+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ne.push(Me),ne.push(Se-(Me<<8))}return String.fromCharCode.apply(void 0,ne)}(g,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fl=v.__private__.beginPage=function(g){Ht[++PA]=[],Fe[PA]={objId:0,contentsObjId:0,userUnit:Number(p),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},ah(PA),yt(Ht[K])},oh=function(g,T){var R,V,ct;switch(n=T||n,"string"==typeof g&&(R=z(g.toLowerCase()),Array.isArray(R)&&(V=R[0],ct=R[1])),Array.isArray(g)&&(V=g[0]*te,ct=g[1]*te),isNaN(V)&&(V=A[0],ct=A[1]),(V>14400||ct>14400)&&(rA.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),V=Math.min(14400,V),ct=Math.min(14400,ct)),A=[V,ct],n.substr(0,1)){case"l":ct>V&&(A=[ct,V]);break;case"p":V>ct&&(A=[ct,V])}Fl(A),ph(zl),J(Vr),0!==El&&J(El+" J"),0!==Ml&&J(Ml+" j"),oA.publish("addPage",{pageNumber:PA})},Fg=function(g){g>0&&g<=PA&&(Ht.splice(g,1),Fe.splice(g,1),PA--,K>PA&&(K=PA),this.setPage(K))},ah=function(g){g>0&&g<=PA&&(K=g)},Ug=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Ht.length-1},ch=function(g,T,R){var V,ct=void 0;return R=R||{},T=void 0!==T?T:mA[Pe].fontStyle,V=(g=void 0!==g?g:mA[Pe].fontName).toLowerCase(),void 0!==kA[V]&&void 0!==kA[V][T]?ct=kA[V][T]:void 0!==kA[g]&&void 0!==kA[g][T]?ct=kA[g][T]:!1===R.disableWarning&&rA.warn("Unable to look up font label for font '"+g+"', '"+T+"'. Refer to getFontList() for available fonts."),ct||R.noFallback||null==(ct=kA.times[T])&&(ct=kA.times.normal),ct},Ig=v.__private__.putInfo=function(){var g=an(),T=function(V){return V};for(var R in null!==b&&(T=Tn.encryptor(g,0)),J("<<"),J("/Producer ("+Gn(T("jsPDF "+pe.version))+")"),xe)xe.hasOwnProperty(R)&&xe[R]&&J("/"+R.substr(0,1).toUpperCase()+R.substr(1)+" ("+Gn(T(xe[R]))+")");J("/CreationDate ("+Gn(T(Ct))+")"),J(">>"),J("endobj")},Ul=v.__private__.putCatalog=function(g){var T=(g=g||{}).rootDictionaryObjId||os;switch(an(),J("<<"),J("/Type /Catalog"),J("/Pages "+T+" 0 R"),$t||($t="fullwidth"),$t){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var R=""+$t;"%"===R.substr(R.length-1)&&($t=parseInt($t)/100),"number"==typeof $t&&J("/OpenAction [3 0 R /XYZ null null "+kt($t)+"]")}switch(Ne||(Ne="continuous"),Ne){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Qe&&J("/PageMode /"+Qe),oA.publish("putCatalog"),J(">>"),J("endobj")},Sg=v.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(at+1)),J("/Root "+at+" 0 R"),J("/Info "+(at-1)+" 0 R"),null!==b&&J("/Encrypt "+Tn.oid+" 0 R"),J("/ID [ <"+_t+"> <"+_t+"> ]"),J(">>")},zg=v.__private__.putHeader=function(){J("%PDF-"+M),J("%\xba\xdf\xac\xe0")},Lg=v.__private__.putXRef=function(){var g="0000000000";J("xref"),J("0 "+(at+1)),J("0000000000 65535 f ");for(var T=1;T<=at;T++)J("function"==typeof ft[T]?(g+ft[T]()).slice(-10)+" 00000 n ":void 0!==ft[T]?(g+ft[T]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},as=v.__private__.buildDocument=function(){at=0,wt=0,mt=[],ft=[],Zt=[],os=WA(),Gr=WA(),yt(mt),oA.publish("buildDocument"),zg(),Ro(),function(){oA.publish("putAdditionalObjects");for(var g=0;g<Zt.length;g++){var T=Zt[g];rr(T.objId,!0),J(T.content),J("endobj")}oA.publish("postPutAdditionalObjects")}(),function(){var g=[];(function(){for(var g in mA)mA.hasOwnProperty(g)&&(!1===y||!0===y&&k.hasOwnProperty(g))&&Wa(mA[g])})(),function(){var g;for(g in OA)OA.hasOwnProperty(g)&&Ah(OA[g])}(),function(){for(var g in fn)fn.hasOwnProperty(g)&&$a(fn[g])}(),function(g){var T;for(T in sA)sA.hasOwnProperty(T)&&(sA[T]instanceof hi?Bg(sA[T]):sA[T]instanceof ji&&bg(sA[T],g))}(g),oA.publish("putResources"),g.forEach(KA),KA({resourcesOid:Gr,objectOid:Number.MAX_SAFE_INTEGER}),oA.publish("postPutResources")}(),null!==b&&(Tn.oid=an(),J("<<"),J("/Filter /Standard"),J("/V "+Tn.v),J("/R "+Tn.r),J("/U <"+Tn.toHexString(Tn.U)+">"),J("/O <"+Tn.toHexString(Tn.O)+">"),J("/P "+Tn.P),J(">>"),J("endobj")),Ig(),Ul();var g=wt;return Lg(),Sg(),J("startxref"),J(""+g),J("%%EOF"),yt(Ht[K]),mt.join("\n")},rc=v.__private__.getBlob=function(g){return new Blob([ce(g)],{type:"application/pdf"})},ic=v.output=v.__private__.output=((g=function(g,T){switch("string"==typeof(T=T||{})?T={filename:T}:T.filename=T.filename||"generated.pdf",g){case void 0:return as();case"save":v.save(T.filename);break;case"arraybuffer":return ce(as());case"blob":return rc(as());case"bloburi":case"bloburl":if(void 0!==fe.URL&&"function"==typeof fe.URL.createObjectURL)return fe.URL&&fe.URL.createObjectURL(rc(as()))||void 0;rA.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var R="",V=as();try{R=vn(V)}catch{R=vn(unescape(encodeURIComponent(V)))}return"data:application/pdf;filename="+T.filename+";base64,"+R;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(fe)){var ct="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(ct=T.pdfObjectUrl,bt="");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ct+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",ne=fe.open();return null!==ne&&ne.document.write(Nt),ne}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(fe)){var he='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',Se=fe.open();if(null!==Se){Se.document.write(he);var Me=this;Se.document.documentElement.querySelector("#pdfViewer").onload=function(){Se.document.title=T.filename,Se.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Me.output("bloburl"))}}return Se}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(fe))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',zA=fe.open();if(null!==zA&&(zA.document.write(Ge),zA.document.title=T.filename),zA||typeof safari>"u")return zA;break;case"datauri":case"dataurl":return fe.document.location.href=this.output("datauristring",T);default:return null}}).foo=function(){try{return g.apply(this,arguments)}catch(V){var T=V.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var R="Error in function "+T.split("\n")[0].split("<")[0]+": "+V.message;if(!fe.console)throw new Error(R);fe.console.error(R,V),fe.alert&&alert(R)}},g.foo.bar=g,g.foo),lh=function(g){return!0===Array.isArray(jo)&&jo.indexOf(g)>-1};switch(e){case"pt":te=1;break;case"mm":te=72/25.4;break;case"cm":te=72/2.54;break;case"in":te=72;break;case"px":te=1==lh("px_scaling")?.75:96/72;break;case"pc":case"em":te=12;break;case"ex":te=6;break;default:if("number"!=typeof e)throw new Error("Invalid unit: "+e);te=e}var Tn=null;Wt(),pt();var uh=v.__private__.getPageInfo=v.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Fe[g].objId,pageNumber:g,pageContext:Fe[g]}},ke=v.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in Fe)if(Fe[T].objId===g)break;return uh(T)},Mg=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Fe[K].objId,pageNumber:K,pageContext:Fe[K]}};v.addPage=function(){return oh.apply(this,arguments),this},v.setPage=function(){return ah.apply(this,arguments),yt.call(this,Ht[K]),this},v.insertPage=function(g){return this.addPage(),this.movePage(K,g),this},v.movePage=function(g,T){var R,V;if(g>T){R=Ht[g],V=Fe[g];for(var ct=g;ct>T;ct--)Ht[ct]=Ht[ct-1],Fe[ct]=Fe[ct-1];Ht[T]=R,Fe[T]=V,this.setPage(T)}else if(g<T){R=Ht[g],V=Fe[g];for(var bt=g;bt<T;bt++)Ht[bt]=Ht[bt+1],Fe[bt]=Fe[bt+1];Ht[T]=R,Fe[T]=V,this.setPage(T)}return this},v.deletePage=function(){return Fg.apply(this,arguments),this},v.__private__.text=v.text=function(g,T,R,V,ct){var bt,Nt,ne,he,Se,Me,Ge,zA,DA,XA=(V=V||{}).scope||this;if("number"==typeof g&&"number"==typeof T&&("string"==typeof R||Array.isArray(R))){var kn=R;R=T,T=g,g=kn}if(arguments[3]instanceof _e?(Y("The transform parameter of text() with a Matrix value"),DA=ct):(ne=arguments[4],he=arguments[5],"object"===(0,cA.Z)(Ge=arguments[3])&&null!==Ge||("string"==typeof ne&&(he=ne,ne=null),"string"==typeof Ge&&(he=Ge,Ge=null),"number"==typeof Ge&&(ne=Ge,Ge=null),V={flags:Ge,angle:ne,align:he})),isNaN(T)||isNaN(R)||null==g)throw new Error("Invalid arguments passed to jsPDF.text");if(0===g.length)return XA;var Wr,un="",ir="number"==typeof V.lineHeightFactor?V.lineHeightFactor:Go,ls=XA.internal.scaleFactor;function vh(CA){return CA=CA.split("\t").join(Array(V.TabLen||9).join(" ")),Gn(CA,Ge)}function Hl(CA){for(var BA,GA=CA.concat(),cn=[],ps=GA.length;ps--;)"string"==typeof(BA=GA.shift())?cn.push(BA):Array.isArray(CA)&&(1===BA.length||void 0===BA[1]&&void 0===BA[2])?cn.push(BA[0]):cn.push([BA[0],BA[1],BA[2]]);return cn}function Zl(CA,BA){var GA;if("string"==typeof CA)GA=BA(CA)[0];else if(Array.isArray(CA)){for(var cn,ps,Xs=CA.concat(),wc=[],Bh=Xs.length;Bh--;)"string"==typeof(cn=Xs.shift())?wc.push(BA(cn)[0]):Array.isArray(cn)&&"string"==typeof cn[0]&&(ps=BA(cn[0],cn[1],cn[2]),wc.push([ps[0],ps[1],ps[2]]));GA=wc}return GA}var uc=!1,jl=!0;if("string"==typeof g)uc=!0;else if(Array.isArray(g)){var Rl=g.concat();Nt=[];for(var dc,Jn=Rl.length;Jn--;)("string"!=typeof(dc=Rl.shift())||Array.isArray(dc)&&"string"!=typeof dc[0])&&(jl=!1);uc=jl}if(!1===uc)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');"string"==typeof g&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var hc=Rt/XA.internal.scaleFactor,pc=hc*(ir-1);switch(V.baseline){case"bottom":R-=pc;break;case"top":R+=hc-pc;break;case"hanging":R+=hc-2*pc;break;case"middle":R+=hc/2-pc}if((Me=V.maxWidth||0)>0&&("string"==typeof g?g=XA.splitTextToSize(g,Me):"[object Array]"===Object.prototype.toString.call(g)&&(g=g.reduce(function(CA,BA){return CA.concat(XA.splitTextToSize(BA,Me))},[]))),oA.publish("preProcessText",bt={text:g,x:T,y:R,options:V,mutex:{pdfEscape:Gn,activeFontKey:Pe,fonts:mA,activeFontSize:Rt}}),g=bt.text,ne=(V=bt.options).angle,DA instanceof _e||!ne||"number"!=typeof ne)ne&&ne instanceof _e&&(DA=ne);else{ne*=Math.PI/180,0===V.rotationDirection&&(ne=-ne),"advanced"===W&&(ne=-ne);var fc=Math.cos(ne),Kl=Math.sin(ne);DA=new _e(fc,Kl,-Kl,fc,0,0)}"advanced"!==W||DA||(DA=ki),void 0!==(Se=V.charSpace||ac)&&(un+=ut(P(Se))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(zA=V.horizontalScale)&&(un+=ut(100*zA)+" Tz\n");var Yn=-1,Gg=void 0!==V.renderingMode?V.renderingMode:V.stroke,Gl=XA.internal.getCurrentPageInfo().pageContext;switch(Gg){case 0:case!1:case"fill":Yn=0;break;case 1:case!0:case"stroke":Yn=1;break;case 2:case"fillThenStroke":Yn=2;break;case 3:case"invisible":Yn=3;break;case 4:case"fillAndAddForClipping":Yn=4;break;case 5:case"strokeAndAddPathForClipping":Yn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yn=6;break;case 7:case"addToPathForClipping":Yn=7}-1!==Yn?un+=Yn+" Tr\n":-1!==(void 0!==Gl.usedRenderingMode?Gl.usedRenderingMode:-1)&&(un+="0 Tr\n"),-1!==Yn&&(Gl.usedRenderingMode=Yn),he=V.align||"left";var Xr,Jl=Rt*ir,Jg=XA.internal.pageSize.getWidth(),Yg=mA[Pe];Se=V.charSpace||ac,Me=V.maxWidth||0,Ge=Object.assign({autoencode:!0,noBOM:!0},V.flags);var Ys=[];if("[object Array]"===Object.prototype.toString.call(g)){var yr;Nt=Hl(g),"left"!==he&&(Xr=Nt.map(function(CA){return XA.getStringUnitWidth(CA,{font:Yg,charSpace:Se,fontSize:Rt,doKerning:!1})*Rt/ls}));var $r,qs=0;if("right"===he){T-=Xr[0],g=[],Jn=Nt.length;for(var Ii=0;Ii<Jn;Ii++)0===Ii?($r=cs(T),yr=Ks(R)):($r=P(qs-Xr[Ii]),yr=-Jl),g.push([Nt[Ii],$r,yr]),qs=Xr[Ii]}else if("center"===he){T-=Xr[0]/2,g=[],Jn=Nt.length;for(var us=0;us<Jn;us++)0===us?($r=cs(T),yr=Ks(R)):($r=P((qs-Xr[us])/2),yr=-Jl),g.push([Nt[us],$r,yr]),qs=Xr[us]}else if("left"===he){g=[],Jn=Nt.length;for(var gc=0;gc<Jn;gc++)g.push(Nt[gc])}else{if("justify"!==he)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');g=[],Jn=Nt.length,Me=0!==Me?Me:Jg;for(var ti=0;ti<Jn;ti++)yr=0===ti?Ks(R):-Jl,$r=0===ti?cs(T):0,Ys.push(ti<Jn-1?ut(P((Me-Xr[ti])/(Nt[ti].split(" ").length-1))):0),g.push([Nt[ti],$r,yr])}}!0===("boolean"==typeof V.R2L?V.R2L:de)&&(g=Zl(g,function(CA,BA,GA){return[CA.split("").reverse().join(""),BA,GA]})),oA.publish("postProcessText",bt={text:g,x:T,y:R,options:V,mutex:{pdfEscape:Gn,activeFontKey:Pe,fonts:mA,activeFontSize:Rt}}),g=bt.text,Wr=bt.mutex.isHex||!1;var Yl=mA[Pe].encoding;"WinAnsiEncoding"!==Yl&&"StandardEncoding"!==Yl||(g=Zl(g,function(CA,BA,GA){return[vh(CA),BA,GA]})),Nt=Hl(g),g=[];for(var Vs,ei,ds,Vo=Array.isArray(Nt[0])?1:0,Ws="",ql=function(CA,BA,GA){var cn="";return GA instanceof _e?(GA="number"==typeof V.angle?Kr(GA,new _e(1,0,0,1,CA,BA)):Kr(new _e(1,0,0,1,CA,BA),GA),"advanced"===W&&(GA=Kr(new _e(1,0,0,-1,0,0),GA)),cn=GA.join(" ")+" Tm\n"):cn=ut(CA)+" "+ut(BA)+" Td\n",cn},xr=0;xr<Nt.length;xr++){switch(Ws="",Vo){case 1:ds=(Wr?"<":"(")+Nt[xr][0]+(Wr?">":")"),Vs=parseFloat(Nt[xr][1]),ei=parseFloat(Nt[xr][2]);break;case 0:ds=(Wr?"<":"(")+Nt[xr]+(Wr?">":")"),Vs=cs(T),ei=Ks(R)}void 0!==Ys&&void 0!==Ys[xr]&&(Ws=Ys[xr]+" Tw\n"),0===xr?g.push(Ws+ql(Vs,ei,DA)+ds):0===Vo?g.push(Ws+ds):1===Vo&&g.push(Ws+ql(Vs,ei,DA)+ds)}g=g.join(0===Vo?" Tj\nT* ":" Tj\n"),g+=" Tj\n";var hs="BT\n/";return hs+=Pe+" "+Rt+" Tf\n",hs+=ut(Rt*ir)+" TL\n",hs+=Jo+"\n",hs+=un,hs+=g,J(hs+="ET"),k[Pe]=!0,XA};var Ng=v.__private__.clip=v.clip=function(g){return J("evenodd"===g?"W*":"W"),this};v.clipEvenOdd=function(){return Ng("evenodd")},v.__private__.discardPath=v.discardPath=function(){return J("n"),this};var Ui=v.__private__.isValidStyle=function(g){var T=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)&&(T=!0),T};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(g){return Ui(g)&&(w=g),this};var dh=v.__private__.getStyle=v.getStyle=function(g){var T=w;switch(g){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=g}return T},hh=v.close=function(){return J("h"),this};v.stroke=function(){return J("S"),this},v.fill=function(g){return sc("f",g),this},v.fillEvenOdd=function(g){return sc("f*",g),this},v.fillStroke=function(g){return sc("B",g),this},v.fillStrokeEvenOdd=function(g){return sc("B*",g),this};var sc=function(g,T){"object"===(0,cA.Z)(T)?Pg(T,g):J(g)},Il=function(g){null===g||"advanced"===W&&void 0===g||(g=dh(g),J(g))};function Og(g,T,R,V,ct){var bt=new ji(T||this.boundingBox,R||this.xStep,V||this.yStep,this.gState,ct||this.matrix);bt.stream=this.stream;var Nt=g+"$$"+this.cloneIndex+++"$$";return Kn(Nt,bt),bt}var Pg=function(g,T){var R=Zo[g.key],V=sA[R];if(V instanceof hi)J("q"),J(Dg(T)),V.gState&&v.setGState(V.gState),J(g.matrix.toString()+" cm"),J("/"+R+" sh"),J("Q");else if(V instanceof ji){var ct=new _e(1,0,0,-1,0,Js());g.matrix&&(ct=ct.multiply(g.matrix||ki),R=Og.call(V,g.key,g.boundingBox,g.xStep,g.yStep,ct).id),J("q"),J("/Pattern cs"),J("/"+R+" scn"),V.gState&&v.setGState(V.gState),J(T),J("Q")}},Dg=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Sl=v.moveTo=function(g,T){return J(ut(P(g))+" "+ut(q(T))+" m"),this},Ko=v.lineTo=function(g,T){return J(ut(P(g))+" "+ut(q(T))+" l"),this},Rs=v.curveTo=function(g,T,R,V,ct,bt){return J([ut(P(g)),ut(q(T)),ut(P(R)),ut(q(V)),ut(P(ct)),ut(q(bt)),"c"].join(" ")),this};v.__private__.line=v.line=function(g,T,R,V,ct){if(isNaN(g)||isNaN(T)||isNaN(R)||isNaN(V)||!Ui(ct))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===W?this.lines([[R-g,V-T]],g,T,[1,1],ct||"S"):this.lines([[R-g,V-T]],g,T,[1,1]).stroke()},v.__private__.lines=v.lines=function(g,T,R,V,ct,bt){var Nt,ne,he,Se,Me,kn,un,Wr;if("number"==typeof g&&(Wr=R,R=T,T=g,g=Wr),V=V||[1,1],bt=bt||!1,isNaN(T)||isNaN(R)||!Array.isArray(g)||!Array.isArray(V)||!Ui(ct)||"boolean"!=typeof bt)throw new Error("Invalid arguments passed to jsPDF.lines");for(Sl(T,R),Nt=V[0],ne=V[1],Se=g.length,kn=T,un=R,he=0;he<Se;he++)2===(Me=g[he]).length?Ko(kn=Me[0]*Nt+kn,un=Me[1]*ne+un):Rs(Me[0]*Nt+kn,Me[1]*ne+un,Me[2]*Nt+kn,Me[3]*ne+un,kn=Me[4]*Nt+kn,un=Me[5]*ne+un);return bt&&hh(),Il(ct),this},v.path=function(g){for(var T=0;T<g.length;T++){var R=g[T],V=R.c;switch(R.op){case"m":Sl(V[0],V[1]);break;case"l":Ko(V[0],V[1]);break;case"c":Rs.apply(this,V);break;case"h":hh()}}return this},v.__private__.rect=v.rect=function(g,T,R,V,ct){if(isNaN(g)||isNaN(T)||isNaN(R)||isNaN(V)||!Ui(ct))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===W&&(V=-V),J([ut(P(g)),ut(q(T)),ut(P(R)),ut(P(V)),"re"].join(" ")),Il(ct),this},v.__private__.triangle=v.triangle=function(g,T,R,V,ct,bt,Nt){if(isNaN(g)||isNaN(T)||isNaN(R)||isNaN(V)||isNaN(ct)||isNaN(bt)||!Ui(Nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[R-g,V-T],[ct-R,bt-V],[g-ct,T-bt]],g,T,[1,1],Nt,!0),this},v.__private__.roundedRect=v.roundedRect=function(g,T,R,V,ct,bt,Nt){if(isNaN(g)||isNaN(T)||isNaN(R)||isNaN(V)||isNaN(ct)||isNaN(bt)||!Ui(Nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ne=4/3*(Math.SQRT2-1);return ct=Math.min(ct,.5*R),bt=Math.min(bt,.5*V),this.lines([[R-2*ct,0],[ct*ne,0,ct,bt-bt*ne,ct,bt],[0,V-2*bt],[0,bt*ne,-ct*ne,bt,-ct,bt],[2*ct-R,0],[-ct*ne,0,-ct,-bt*ne,-ct,-bt],[0,2*bt-V],[0,-bt*ne,ct*ne,-bt,ct,-bt]],g+ct,T,[1,1],Nt,!0),this},v.__private__.ellipse=v.ellipse=function(g,T,R,V,ct){if(isNaN(g)||isNaN(T)||isNaN(R)||isNaN(V)||!Ui(ct))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*R,Nt=4/3*(Math.SQRT2-1)*V;return Sl(g+R,T),Rs(g+R,T-Nt,g+bt,T-V,g,T-V),Rs(g-bt,T-V,g-R,T-Nt,g-R,T),Rs(g-R,T+Nt,g-bt,T+V,g,T+V),Rs(g+bt,T+V,g+R,T+Nt,g+R,T),Il(ct),this},v.__private__.circle=v.circle=function(g,T,R,V){if(isNaN(g)||isNaN(T)||isNaN(R)||!Ui(V))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,T,R,R,V)},v.setFont=function(g,T,R){return R&&(T=It(T,R)),Pe=ch(g,T,{disableWarning:!1}),this};var Hg=v.__private__.getFont=v.getFont=function(){return mA[ch.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var g,T,R={};for(g in kA)if(kA.hasOwnProperty(g))for(T in R[g]=[],kA[g])kA[g].hasOwnProperty(T)&&R[g].push(T);return R},v.addFont=function(g,T,R,V,ct){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==bt.indexOf(arguments[3])?ct=arguments[3]:arguments[3]&&-1==bt.indexOf(arguments[3])&&(R=It(R,V)),Ql.call(this,g,T,R,ct=ct||"Identity-H")};var Go,zl=r.lineWidth||.200025,oc=v.__private__.getLineWidth=v.getLineWidth=function(){return zl},ph=v.__private__.setLineWidth=v.setLineWidth=function(g){return zl=g,J(ut(P(g))+" w"),this};v.__private__.setLineDash=pe.API.setLineDash=pe.API.setLineDashPattern=function(g,T){if(g=g||[],T=T||0,isNaN(T)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(R){return ut(P(R))}).join(" "),T=ut(P(T)),J("["+g+"] "+T+" d"),this};var fh=v.__private__.getLineHeight=v.getLineHeight=function(){return Rt*Go};v.__private__.getLineHeight=v.getLineHeight=function(){return Rt*Go};var gh=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(g){return"number"==typeof(g=g||1.15)&&(Go=g),this},mh=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Go};gh(r.lineHeight);var cs=v.__private__.getHorizontalCoordinate=function(g){return P(g)},Ks=v.__private__.getVerticalCoordinate=function(g){return"advanced"===W?g:Fe[K].mediaBox.topRightY-Fe[K].mediaBox.bottomLeftY-P(g)},Zg=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(g){return ut(cs(g))},Gs=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(g){return ut(Ks(g))},Vr=r.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Jr(Vr)},v.__private__.setStrokeColor=v.setDrawColor=function(g,T,R,V){return Vr=Yr({ch1:g,ch2:T,ch3:R,ch4:V,pdfColorType:"draw",precision:2}),J(Vr),this};var Ll=r.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Jr(Ll)},v.__private__.setFillColor=v.setFillColor=function(g,T,R,V){return Ll=Yr({ch1:g,ch2:T,ch3:R,ch4:V,pdfColorType:"fill",precision:2}),J(Ll),this};var Jo=r.textColor||"0 g",jg=v.__private__.getTextColor=v.getTextColor=function(){return Jr(Jo)};v.__private__.setTextColor=v.setTextColor=function(g,T,R,V){return Jo=Yr({ch1:g,ch2:T,ch3:R,ch4:V,pdfColorType:"text",precision:3}),this};var ac=r.charSpace,Rg=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(ac||0)};v.__private__.setCharSpace=v.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ac=g,this};var El=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(g){var T=v.CapJoinStyles[g];if(void 0===T)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return El=T,J(T+" J"),this};var Ml=0;v.__private__.setLineJoin=v.setLineJoin=function(g){var T=v.CapJoinStyles[g];if(void 0===T)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ml=T,J(T+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(ut(P(g))+" M"),this},v.GState=Zi,v.setGState=function(g){(g="string"==typeof g?OA[Rr[g]]:_h(null,g)).equals(ss)||(J("/"+g.id+" gs"),ss=g)};var _h=function(g,T){if(!g||!Rr[g]){var R=!1;for(var V in OA)if(OA.hasOwnProperty(V)&&OA[V].equals(T)){R=!0;break}if(R)T=OA[V];else{var ct="GS"+(Object.keys(OA).length+1).toString(10);OA[ct]=T,T.id=ct}return g&&(Rr[g]=T.id),oA.publish("addGState",T),T}};v.addGState=function(g,T){return _h(g,T),this},v.saveGraphicsState=function(){return J("q"),yi.push({key:Pe,size:Rt,color:Jo}),this},v.restoreGraphicsState=function(){J("Q");var g=yi.pop();return Pe=g.key,Rt=g.size,Jo=g.color,ss=null,this},v.setCurrentTransformationMatrix=function(g){return J(g.toString()+" cm"),this},v.comment=function(g){return J("#"+g),this};var cc=function(g,T){var R=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return R},set:function(bt){isNaN(bt)||(R=parseFloat(bt))}});var V=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return V},set:function(bt){isNaN(bt)||(V=parseFloat(bt))}});var ct="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ct},set:function(bt){ct=bt.toString()}}),this},Nl=function(g,T,R,V){cc.call(this,g,T),this.type="rect";var ct=R||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ct},set:function(Nt){isNaN(Nt)||(ct=parseFloat(Nt))}});var bt=V||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(Nt){isNaN(Nt)||(bt=parseFloat(Nt))}}),this},Ol=function(){this.page=PA,this.currentPage=K,this.pages=Ht.slice(0),this.pagesContext=Fe.slice(0),this.x=xn,this.y=We,this.matrix=jr,this.width=Yo(K),this.height=Js(K),this.outputDestination=ie,this.id="",this.objectNumber=-1};Ol.prototype.restore=function(){PA=this.page,Fe=this.pagesContext,Ht=this.pages,xn=this.x,We=this.y,jr=this.matrix,Pl(K=this.currentPage,this.width),Dl(K,this.height),ie=this.outputDestination};var wh=function(g,T,R,V,ct){Ti.push(new Ol),PA=K=0,Ht=[],xn=g,We=T,jr=ct,Fl([R,V])};for(var lc in v.beginFormObject=function(g,T,R,V,ct){return wh(g,T,R,V,ct),this},v.endFormObject=function(g){return function(g){if(xi[g])Ti.pop().restore();else{var T=new Ol,R="Xo"+(Object.keys(fn).length+1).toString(10);T.id=R,xi[g]=R,fn[R]=T,oA.publish("addFormObject",T),Ti.pop().restore()}}(g),this},v.doFormObject=function(g,T){var R=fn[xi[g]];return J("q"),J(T.toString()+" cm"),J("/"+R.id+" Do"),J("Q"),this},v.getFormObject=function(g){var T=fn[xi[g]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},v.save=function(g,T){return g=g||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,!1===T.returnPromise?(Cn(rc(as()),g),"function"==typeof Cn.unload&&fe.setTimeout&&setTimeout(Cn.unload,911),this):new Promise(function(R,V){try{var ct=Cn(rc(as()),g);"function"==typeof Cn.unload&&fe.setTimeout&&setTimeout(Cn.unload,911),R(ct)}catch(bt){V(bt.message)}})},pe.API)pe.API.hasOwnProperty(lc)&&("events"===lc&&pe.API.events.length?function(g,T){var V,ct;for(ct=T.length-1;-1!==ct;ct--)g.subscribe.apply(g,[T[ct][0]].concat("function"==typeof(V=T[ct][1])?[V]:V))}(oA,pe.API.events):v[lc]=pe.API[lc]);var Yo=v.getPageWidth=function(g){return(Fe[g=g||K].mediaBox.topRightX-Fe[g].mediaBox.bottomLeftX)/te},Pl=v.setPageWidth=function(g,T){Fe[g].mediaBox.topRightX=T*te+Fe[g].mediaBox.bottomLeftX},Js=v.getPageHeight=function(g){return(Fe[g=g||K].mediaBox.topRightY-Fe[g].mediaBox.bottomLeftY)/te},Dl=v.setPageHeight=function(g,T){Fe[g].mediaBox.topRightY=T*te+Fe[g].mediaBox.bottomLeftY};return v.internal={pdfEscape:Gn,getStyle:dh,getFont:Hg,getFontSize:Yt,getCharSpace:Rg,getTextColor:jg,getLineHeight:fh,getLineHeightFactor:mh,getLineWidth:oc,write:Ie,getHorizontalCoordinate:cs,getVerticalCoordinate:Ks,getCoordinateString:Zg,getVerticalCoordinateString:Gs,collections:{},newObject:an,newAdditionalObject:Va,newObjectDeferred:WA,newObjectDeferredBegin:rr,getFilters:Qi,putStream:br,events:oA,scaleFactor:te,pageSize:{getWidth:function(){return Yo(K)},setWidth:function(g){Pl(K,g)},getHeight:function(){return Js(K)},setHeight:function(g){Dl(K,g)}},encryptionOptions:b,encryption:Tn,getEncryptor:function(g){return null!==b?Tn.encryptor(g,0):function(T){return T}},output:ic,getNumberOfPages:Ug,pages:Ht,out:J,f2:kt,f3:D,getPageInfo:uh,getPageInfoByObjId:ke,getCurrentPageInfo:Mg,getPDFVersion:L,Point:cc,Rectangle:Nl,Matrix:_e,hasHotfix:lh},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Yo(K)},set:function(g){Pl(K,g)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Js(K)},set:function(g){Dl(K,g)},enumerable:!0,configurable:!0}),function(g){for(var T=0,R=Pt.length;T<R;T++){var V=Ql.call(this,g[T][0],g[T][1],g[T][2],Pt[T][3],!0);!1===y&&(k[V]=!0);var ct=g[T][0].split("-");sh({id:V,fontName:ct[0],fontStyle:ct[1]||""})}oA.publish("addFonts",{fonts:mA,dictionary:kA})}.call(v,Pt),Pe="F1",oh(A,n),oA.publish("initialized"),v}Hi.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Hi.prototype.toHexString=function(r){return r.split("").map(function(i){return("0"+(255&i.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hi.prototype.hexToBytes=function(r){for(var i=[],n=0;n<r.length;n+=2)i.push(String.fromCharCode(parseInt(r.substr(n,2),16)));return i.join("")},Hi.prototype.processOwnerPassword=function(r,i){return Jc(Fs(i).substr(0,5),r)},Hi.prototype.encryptor=function(r,i){var n=Fs(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&i,i>>8&255)).substr(0,10);return function(e){return Jc(n,e)}},Zi.prototype.equals=function(r){var i,n="id,objectNumber,equals";if(!r||(0,cA.Z)(r)!==(0,cA.Z)(this))return!1;var e=0;for(i in this)if(!(n.indexOf(i)>=0)){if(this.hasOwnProperty(i)&&!r.hasOwnProperty(i)||this[i]!==r[i])return!1;e++}for(i in r)r.hasOwnProperty(i)&&n.indexOf(i)<0&&e--;return 0===e},pe.API={events:[]},pe.version="2.5.1";var yA=pe.API,ma=1,pi=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ri=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ye=function(r){return r.toFixed(2)},fi=function(r){return r.toFixed(5)};yA.__acroform__={};var rn=function(r,i){r.prototype=Object.create(i.prototype),r.prototype.constructor=r},Zu=function(r){return r*ma},mr=function(r){var i=new Ku,n=se.internal.getHeight(r)||0,e=se.internal.getWidth(r)||0;return i.BBox=[0,0,Number(ye(e)),Number(ye(n))],i},Yc=yA.__acroform__.setBit=function(r,i){if(r=r||0,i=i||0,isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<i},up=yA.__acroform__.clearBit=function(r,i){if(r=r||0,i=i||0,isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<i)},ju=yA.__acroform__.getBit=function(r,i){if(isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<i?1:0},FA=yA.__acroform__.getBitForPdf=function(r,i){if(isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ju(r,i-1)},UA=yA.__acroform__.setBitForPdf=function(r,i){if(isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Yc(r,i-1)},IA=yA.__acroform__.clearBitForPdf=function(r,i){if(isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return up(r,i-1)},dp=yA.__acroform__.calculateCoordinates=function(r,i){var n=i.internal.getHorizontalCoordinate,e=i.internal.getVerticalCoordinate,A=r[0],s=r[1],o=r[2],p=r[3],f={};return f.lowerLeft_X=n(A)||0,f.lowerLeft_Y=e(s+p)||0,f.upperRight_X=n(A+o)||0,f.upperRight_Y=e(s)||0,[Number(ye(f.lowerLeft_X)),Number(ye(f.lowerLeft_Y)),Number(ye(f.upperRight_X)),Number(ye(f.upperRight_Y))]},hp=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var i=[],e=Ki(r,r._V||r.DV),A=r.scope.internal.getFont(r.fontName,r.fontStyle).id;i.push("/Tx BMC"),i.push("q"),i.push("BT"),i.push(r.scope.__private__.encodeColorString(r.color)),i.push("/"+A+" "+ye(e.fontSize)+" Tf"),i.push("1 0 0 1 0 0 Tm"),i.push(e.text),i.push("ET"),i.push("Q"),i.push("EMC");var s=mr(r);return s.scope=r.scope,s.stream=i.join("\n"),s}},Ki=function(r,i){var n=0===r.fontSize?r.maxFontSize:r.fontSize,e={text:"",fontSize:""},A=(i=")"==(i="("==i.substr(0,1)?i.substr(1):i).substr(i.length-1)?i.substr(0,i.length-1):i).split(" ");A=A.map(r.multiline?function(D){return D.split("\n")}:function(D){return[D]});var s=n,o=se.internal.getHeight(r)||0;o=o<0?-o:o;var D,p=se.internal.getWidth(r)||0;p=p<0?-p:p,s++;t:for(;s>0;){i="",s--;var w,b,y=_a("3",r,s).height,k=r.multiline?o-s:(o-y)/2,v=k+=2,M=0,L=0,Z=0;if(s<=0){i="(...) Tj\n",i+="% Width of Text: "+_a(i,r,s=12).width+", FieldWidth:"+p+"\n";break}for(var z="",j=0,W=0;W<A.length;W++)if(A.hasOwnProperty(W)){var it=!1;if(1!==A[W].length&&Z!==A[W].length-1){if((y+2)*(j+2)+2>o)continue t;z+=A[W][Z],it=!0,L=W,W--}else{z=" "==(z+=A[W][Z]+" ").substr(z.length-1)?z.substr(0,z.length-1):z;var gt=parseInt(W),It=(D=gt)+1<A.length&&_a(z+" "+A[D+1][0],r,s).width<=p-4,ut=W>=A.length-1;if(It&&!ut){z+=" ",Z=0;continue}if(It||ut){if(ut)L=gt;else if(r.multiline&&(y+2)*(j+2)+2>o)continue t}else{if(!r.multiline||(y+2)*(j+2)+2>o)continue t;L=gt}}for(var Y="",Tt=M;Tt<=L;Tt++){var kt=A[Tt];if(r.multiline){if(Tt===L){Y+=kt[Z]+" ",Z=(Z+1)%kt.length;continue}if(Tt===M){Y+=kt[kt.length-1]+" ";continue}}Y+=kt[0]+" "}switch(Y=" "==Y.substr(Y.length-1)?Y.substr(0,Y.length-1):Y,b=_a(Y,r,s).width,r.textAlign){case"right":w=p-b-2;break;case"center":w=(p-b)/2;break;default:w=2}i+=ye(w)+" "+ye(v)+" Td\n",i+="("+pi(Y)+") Tj\n",i+=-ye(w)+" 0 Td\n",v=-(s+2),b=0,M=it?L:L+1,j++,z=""}break}return e.text=i,e.fontSize=s,e},_a=function(r,i,n){var e=i.scope.internal.getFont(i.fontName,i.fontStyle),A=i.scope.getStringUnitWidth(r,{font:e,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:i.scope.getStringUnitWidth("3",{font:e,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:A}},pp={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},wa=function(r,i){var n={type:"reference",object:r};void 0===i.internal.getPageInfo(r.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&i.internal.getPageInfo(r.page).pageContext.annotations.push(n)},Ru=yA.__acroform__.arrayToPdfArray=function(r,i,n){var e=function(o){return o};if(Array.isArray(r)){for(var A="[",s=0;s<r.length;s++)switch(0!==s&&(A+=" "),(0,cA.Z)(r[s])){case"boolean":case"number":case"object":A+=r[s].toString();break;case"string":"/"!==r[s].substr(0,1)?(void 0!==i&&n&&(e=n.internal.getEncryptor(i)),A+="("+pi(e(r[s].toString()))+")"):A+=r[s].toString()}return A+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qc=function(r,i,n){var e=function(A){return A};return void 0!==i&&n&&(e=n.internal.getEncryptor(i)),(r=r||"").toString(),"("+pi(e(r))+")"},In=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};In.prototype.toString=function(){return this.objId+" 0 R"},In.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},In.prototype.getKeyValueListForStream=function(){var r=[],i=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var n in i)if(!1===Object.getOwnPropertyDescriptor(this,i[n]).configurable){var e=i[n],A=this[e];A&&(Array.isArray(A)?r.push({key:e,value:Ru(A,this.objId,this.scope)}):A instanceof In?(A.scope=this.scope,r.push({key:e,value:A.objId+" 0 R"})):"function"!=typeof A&&r.push({key:e,value:A}))}return r};var Ku=function(){In.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,i=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return i},set:function(n){i=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){r=n.trim()},get:function(){return r||null}})};rn(Ku,In);var Gu=function(){In.call(this);var r,i=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return i.length>0?i:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return i}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var n=function(e){return e};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+pi(n(r))+")"}},set:function(n){r=n}})};rn(Gu,In);var er=function r(){In.call(this);var i=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return i},set:function(z){if(isNaN(z))throw new Error('Invalid value "'+z+'" for attribute F supplied.');i=z}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!FA(i,3)},set:function(z){this.F=z?UA(i,3):IA(i,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(z){if(isNaN(z))throw new Error('Invalid value "'+z+'" for attribute Ff supplied.');n=z}});var e=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==e.length)return e},set:function(z){e=void 0!==z?z:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[0])?0:e[0]},set:function(z){e[0]=z}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[1])?0:e[1]},set:function(z){e[1]=z}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[2])?0:e[2]},set:function(z){e[2]=z}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[3])?0:e[3]},set:function(z){e[3]=z}});var A="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return A},set:function(z){switch(z){case"/Btn":case"/Tx":case"/Ch":case"/Sig":A=z;break;default:throw new Error('Invalid value "'+z+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ba)return;s="FieldObject"+r.FieldNum++}var z=function(j){return j};return this.scope&&(z=this.scope.internal.getEncryptor(this.objId)),"("+pi(z(s))+")"},set:function(z){s=z.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(z){s=z}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(z){o=z}});var p="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return p},set:function(z){p=z}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(z){f=z}});var w=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===w?50/ma:w},set:function(z){w=z}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(z){b=z}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Ba||this instanceof Gi))return qc(y,this.objId,this.scope)},set:function(z){z=z.toString(),y=z}});var k=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof VA?k:qc(k,this.objId,this.scope)},set:function(z){z=z.toString(),k=this instanceof VA?z:"("===z.substr(0,1)?Ri(z.substr(1,z.length-2)):Ri(z)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof VA?Ri(k.substr(1,k.length-1)):k},set:function(z){z=z.toString(),k=this instanceof VA?"/"+z:z}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(z){this.V=z}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof VA?v:qc(v,this.objId,this.scope)},set:function(z){z=z.toString(),v=this instanceof VA?z:"("===z.substr(0,1)?Ri(z.substr(1,z.length-2)):Ri(z)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof VA?Ri(v.substr(1,v.length-1)):v},set:function(z){z=z.toString(),v=this instanceof VA?"/"+z:z}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(z){L=z=!!z}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(z){M=z}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,1)},set:function(z){this.Ff=z?UA(this.Ff,1):IA(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,2)},set:function(z){this.Ff=z?UA(this.Ff,2):IA(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,3)},set:function(z){this.Ff=z?UA(this.Ff,3):IA(this.Ff,3)}});var Z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==Z)return Z},set:function(z){if(-1===[0,1,2].indexOf(z))throw new Error('Invalid value "'+z+'" for attribute Q supplied.');Z=z}}),Object.defineProperty(this,"textAlign",{get:function(){var z;switch(Z){case 0:default:z="left";break;case 1:z="center";break;case 2:z="right"}return z},configurable:!0,enumerable:!0,set:function(z){switch(z){case"right":case 2:Z=2;break;case"center":case 1:Z=1;break;default:Z=0}}})};rn(er,In);var Is=function(){er.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(n){r=n}});var i=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ru(i,this.objId,this.scope)},set:function(n){var e,A;A=[],"string"==typeof(e=n)&&(A=function(s,o,p){p||(p=1);for(var f,w=[];f=o.exec(s);)w.push(f[p]);return w}(e,/\((.*?)\)/g)),i=A}}),this.getOptions=function(){return i},this.setOptions=function(n){i=n,this.sort&&i.sort()},this.addOption=function(n){n=(n=n||"").toString(),i.push(n),this.sort&&i.sort()},this.removeOption=function(n,e){for(e=e||!1,n=(n=n||"").toString();-1!==i.indexOf(n)&&(i.splice(i.indexOf(n),1),!1!==e););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,18)},set:function(n){this.Ff=n?UA(this.Ff,18):IA(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,19)},set:function(n){!0===this.combo&&(this.Ff=n?UA(this.Ff,19):IA(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,20)},set:function(n){n?(this.Ff=UA(this.Ff,20),i.sort()):this.Ff=IA(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,22)},set:function(n){this.Ff=n?UA(this.Ff,22):IA(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,23)},set:function(n){this.Ff=n?UA(this.Ff,23):IA(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,27)},set:function(n){this.Ff=n?UA(this.Ff,27):IA(this.Ff,27)}}),this.hasAppearanceStream=!1};rn(Is,er);var Er=function(){Is.call(this),this.fontName="helvetica",this.combo=!1};rn(Er,Is);var Ss=function(){Er.call(this),this.combo=!0};rn(Ss,Er);var va=function(){Ss.call(this),this.edit=!0};rn(va,Ss);var VA=function(){er.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,15)},set:function(n){this.Ff=n?UA(this.Ff,15):IA(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,16)},set:function(n){this.Ff=n?UA(this.Ff,16):IA(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,17)},set:function(n){this.Ff=n?UA(this.Ff,17):IA(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,26)},set:function(n){this.Ff=n?UA(this.Ff,26):IA(this.Ff,26)}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(i).length){var e,A=[];for(e in A.push("<<"),i)A.push("/"+e+" ("+pi(n(i[e]))+")");return A.push(">>"),A.join("\n")}},set:function(n){"object"===(0,cA.Z)(n)&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){"string"==typeof n&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}})};rn(VA,er);var Ca=function(){VA.call(this),this.pushButton=!0};rn(Ca,VA);var Mr=function(){VA.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(i){r=void 0!==i?i:[]}})};rn(Mr,VA);var Ba=function(){var r,i;er.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){r=A}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(A){i=A}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var A=function(p){return p};this.scope&&(A=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),e)o.push("/"+s+" ("+pi(A(e[s]))+")");return o.push(">>"),o.join("\n")},set:function(A){"object"===(0,cA.Z)(A)&&(e=A)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(A){"string"==typeof A&&(e.CA=A)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(A){n=A}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(A){n="/"+A}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=se.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};rn(Ba,er),Mr.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var i in this.Kids)if(this.Kids.hasOwnProperty(i)){var n=this.Kids[i];n.appearanceStreamContent=r.createAppearanceStream(n.optionName),n.caption=r.getCA()}},Mr.prototype.createOption=function(r){var i=new Ba;return i.Parent=this,i.optionName=r,this.Kids.push(i),mp.call(this.scope,i),i};var ba=function(){VA.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=se.CheckBox.createAppearanceStream()};rn(ba,VA);var Gi=function(){er.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,13)},set:function(i){this.Ff=i?UA(this.Ff,13):IA(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,21)},set:function(i){this.Ff=i?UA(this.Ff,21):IA(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,23)},set:function(i){this.Ff=i?UA(this.Ff,23):IA(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,24)},set:function(i){this.Ff=i?UA(this.Ff,24):IA(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,25)},set:function(i){this.Ff=i?UA(this.Ff,25):IA(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,26)},set:function(i){this.Ff=i?UA(this.Ff,26):IA(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(i){Number.isInteger(i)&&(r=i)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};rn(Gi,er);var ya=function(){Gi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!FA(this.Ff,14)},set:function(r){this.Ff=r?UA(this.Ff,14):IA(this.Ff,14)}}),this.password=!0};rn(ya,Gi);var se={CheckBox:{createAppearanceStream:function(){return{N:{On:se.CheckBox.YesNormal},D:{On:se.CheckBox.YesPushDown,Off:se.CheckBox.OffPushDown}}},YesPushDown:function(r){var i=mr(r);i.scope=r.scope;var n=[],e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,A=r.scope.__private__.encodeColorString(r.color),s=Ki(r,r.caption);return n.push("0.749023 g"),n.push("0 0 "+ye(se.internal.getWidth(r))+" "+ye(se.internal.getHeight(r))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+e+" "+ye(s.fontSize)+" Tf "+A),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),i.stream=n.join("\n"),i},YesNormal:function(r){var i=mr(r);i.scope=r.scope;var n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color),A=[],s=se.internal.getHeight(r),o=se.internal.getWidth(r),p=Ki(r,r.caption);return A.push("1 g"),A.push("0 0 "+ye(o)+" "+ye(s)+" re"),A.push("f"),A.push("q"),A.push("0 0 1 rg"),A.push("0 0 "+ye(o-1)+" "+ye(s-1)+" re"),A.push("W"),A.push("n"),A.push("0 g"),A.push("BT"),A.push("/"+n+" "+ye(p.fontSize)+" Tf "+e),A.push(p.text),A.push("ET"),A.push("Q"),i.stream=A.join("\n"),i},OffPushDown:function(r){var i=mr(r);i.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ye(se.internal.getWidth(r))+" "+ye(se.internal.getHeight(r))+" re"),n.push("f"),i.stream=n.join("\n"),i}},RadioButton:{Circle:{createAppearanceStream:function(r){var i={D:{Off:se.RadioButton.Circle.OffPushDown},N:{}};return i.N[r]=se.RadioButton.Circle.YesNormal,i.D[r]=se.RadioButton.Circle.YesPushDown,i},getCA:function(){return"l"},YesNormal:function(r){var i=mr(r);i.scope=r.scope;var n=[],e=se.internal.getWidth(r)<=se.internal.getHeight(r)?se.internal.getWidth(r)/4:se.internal.getHeight(r)/4;e=Number((.9*e).toFixed(5));var s=Number((e*se.internal.Bezier_C).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+fi(se.internal.getWidth(r)/2)+" "+fi(se.internal.getHeight(r)/2)+" cm"),n.push(e+" 0 m"),n.push(e+" "+s+" "+s+" "+e+" 0 "+e+" c"),n.push("-"+s+" "+e+" -"+e+" "+s+" -"+e+" 0 c"),n.push("-"+e+" -"+s+" -"+s+" -"+e+" 0 -"+e+" c"),n.push(s+" -"+e+" "+e+" -"+s+" "+e+" 0 c"),n.push("f"),n.push("Q"),i.stream=n.join("\n"),i},YesPushDown:function(r){var i=mr(r);i.scope=r.scope;var n=[],e=se.internal.getWidth(r)<=se.internal.getHeight(r)?se.internal.getWidth(r)/4:se.internal.getHeight(r)/4;e=Number((.9*e).toFixed(5));var A=Number((2*e).toFixed(5)),s=Number((A*se.internal.Bezier_C).toFixed(5)),o=Number((e*se.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fi(se.internal.getWidth(r)/2)+" "+fi(se.internal.getHeight(r)/2)+" cm"),n.push(A+" 0 m"),n.push(A+" "+s+" "+s+" "+A+" 0 "+A+" c"),n.push("-"+s+" "+A+" -"+A+" "+s+" -"+A+" 0 c"),n.push("-"+A+" -"+s+" -"+s+" -"+A+" 0 -"+A+" c"),n.push(s+" -"+A+" "+A+" -"+s+" "+A+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+fi(se.internal.getWidth(r)/2)+" "+fi(se.internal.getHeight(r)/2)+" cm"),n.push(e+" 0 m"),n.push(e+" "+o+" "+o+" "+e+" 0 "+e+" c"),n.push("-"+o+" "+e+" -"+e+" "+o+" -"+e+" 0 c"),n.push("-"+e+" -"+o+" -"+o+" -"+e+" 0 -"+e+" c"),n.push(o+" -"+e+" "+e+" -"+o+" "+e+" 0 c"),n.push("f"),n.push("Q"),i.stream=n.join("\n"),i},OffPushDown:function(r){var i=mr(r);i.scope=r.scope;var n=[],e=se.internal.getWidth(r)<=se.internal.getHeight(r)?se.internal.getWidth(r)/4:se.internal.getHeight(r)/4;e=Number((.9*e).toFixed(5));var A=Number((2*e).toFixed(5)),s=Number((A*se.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fi(se.internal.getWidth(r)/2)+" "+fi(se.internal.getHeight(r)/2)+" cm"),n.push(A+" 0 m"),n.push(A+" "+s+" "+s+" "+A+" 0 "+A+" c"),n.push("-"+s+" "+A+" -"+A+" "+s+" -"+A+" 0 c"),n.push("-"+A+" -"+s+" -"+s+" -"+A+" 0 -"+A+" c"),n.push(s+" -"+A+" "+A+" -"+s+" "+A+" 0 c"),n.push("f"),n.push("Q"),i.stream=n.join("\n"),i}},Cross:{createAppearanceStream:function(r){var i={D:{Off:se.RadioButton.Cross.OffPushDown},N:{}};return i.N[r]=se.RadioButton.Cross.YesNormal,i.D[r]=se.RadioButton.Cross.YesPushDown,i},getCA:function(){return"8"},YesNormal:function(r){var i=mr(r);i.scope=r.scope;var n=[],e=se.internal.calculateCross(r);return n.push("q"),n.push("1 1 "+ye(se.internal.getWidth(r)-2)+" "+ye(se.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(ye(e.x1.x)+" "+ye(e.x1.y)+" m"),n.push(ye(e.x2.x)+" "+ye(e.x2.y)+" l"),n.push(ye(e.x4.x)+" "+ye(e.x4.y)+" m"),n.push(ye(e.x3.x)+" "+ye(e.x3.y)+" l"),n.push("s"),n.push("Q"),i.stream=n.join("\n"),i},YesPushDown:function(r){var i=mr(r);i.scope=r.scope;var n=se.internal.calculateCross(r),e=[];return e.push("0.749023 g"),e.push("0 0 "+ye(se.internal.getWidth(r))+" "+ye(se.internal.getHeight(r))+" re"),e.push("f"),e.push("q"),e.push("1 1 "+ye(se.internal.getWidth(r)-2)+" "+ye(se.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(ye(n.x1.x)+" "+ye(n.x1.y)+" m"),e.push(ye(n.x2.x)+" "+ye(n.x2.y)+" l"),e.push(ye(n.x4.x)+" "+ye(n.x4.y)+" m"),e.push(ye(n.x3.x)+" "+ye(n.x3.y)+" l"),e.push("s"),e.push("Q"),i.stream=e.join("\n"),i},OffPushDown:function(r){var i=mr(r);i.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ye(se.internal.getWidth(r))+" "+ye(se.internal.getHeight(r))+" re"),n.push("f"),i.stream=n.join("\n"),i}}},createDefaultAppearanceStream:function(r){var i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color);return"/"+i+" "+r.fontSize+" Tf "+n}};se.internal={Bezier_C:.551915024494,calculateCross:function(r){var i=se.internal.getWidth(r),n=se.internal.getHeight(r),e=Math.min(i,n);return{x1:{x:(i-e)/2,y:(n-e)/2+e},x2:{x:(i-e)/2+e,y:(n-e)/2},x3:{x:(i-e)/2,y:(n-e)/2},x4:{x:(i-e)/2+e,y:(n-e)/2+e}}}},se.internal.getWidth=function(r){var i=0;return"object"===(0,cA.Z)(r)&&(i=Zu(r.Rect[2])),i},se.internal.getHeight=function(r){var i=0;return"object"===(0,cA.Z)(r)&&(i=Zu(r.Rect[3])),i};var r,i,mp=yA.addField=function(r){if(function(r,i){if(i.scope=r,void 0!==r.internal&&(void 0===r.internal.acroformPlugin||!1===r.internal.acroformPlugin.isInitialized)){if(er.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(pp)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ma=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Gu,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){var n;(n=r).internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0}),r.internal.events.subscribe("buildDocument",function(){!function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var A in e)if(e.hasOwnProperty(A)){var s=e[A];s.objId=void 0,s.hasAnnotation&&wa(s,n)}}(r)}),r.internal.events.subscribe("putCatalog",function(){!function(n){if(void 0===n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(r)}),r.internal.events.subscribe("postPutPages",function(n){!function(e,A){var s=!e;for(var o in e||(A.internal.newObjectDeferredBegin(A.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),A.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||A.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(o)){var p=e[o],f=[],w=p.Rect;if(p.Rect&&(p.Rect=dp(p.Rect,A)),A.internal.newObjectDeferredBegin(p.objId,!0),p.DA=se.createDefaultAppearanceStream(p),"object"===(0,cA.Z)(p)&&"function"==typeof p.getKeyValueListForStream&&(f=p.getKeyValueListForStream()),p.Rect=w,p.hasAppearanceStream&&!p.appearanceStreamContent){var b=hp(p);f.push({key:"AP",value:"<</N "+b+">>"}),A.internal.acroformPlugin.xForms.push(b)}if(p.appearanceStreamContent){var y="";for(var k in p.appearanceStreamContent)if(p.appearanceStreamContent.hasOwnProperty(k)){var v=p.appearanceStreamContent[k];if(y+="/"+k+" ",y+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var o in v)if(v.hasOwnProperty(o)){var M=v[o];"function"==typeof M&&(M=M.call(A,p)),y+="/"+o+" "+M+" ",A.internal.acroformPlugin.xForms.indexOf(M)>=0||A.internal.acroformPlugin.xForms.push(M)}}else"function"==typeof(M=v)&&(M=M.call(A,p)),y+="/"+o+" "+M,A.internal.acroformPlugin.xForms.indexOf(M)>=0||A.internal.acroformPlugin.xForms.push(M);y+=">>"}f.push({key:"AP",value:"<<\n"+y+">>"})}A.internal.putStream({additionalKeyValues:f,objectId:p.objId}),A.internal.out("endobj")}s&&function(r,i){for(var n in r)if(r.hasOwnProperty(n)){var e=n,A=r[n];i.internal.newObjectDeferredBegin(A.objId,!0),"object"===(0,cA.Z)(A)&&"function"==typeof A.putStream&&A.putStream(),delete r[e]}}(A.internal.acroformPlugin.xForms,A)}(n,r)}),r.internal.acroformPlugin.isInitialized=!0}}(this,r),!(r instanceof er))throw new Error("Invalid argument passed to jsPDF.addField.");var i;return(i=r).scope.internal.acroformPlugin.printedOut&&(i.scope.internal.acroformPlugin.printedOut=!1,i.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),i.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(i),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};function Ju(r){return r.reduce(function(i,n,e){return i[n]=e,i},{})}yA.AcroFormChoiceField=Is,yA.AcroFormListBox=Er,yA.AcroFormComboBox=Ss,yA.AcroFormEditBox=va,yA.AcroFormButton=VA,yA.AcroFormPushButton=Ca,yA.AcroFormRadioButton=Mr,yA.AcroFormCheckBox=ba,yA.AcroFormTextField=Gi,yA.AcroFormPasswordField=ya,yA.AcroFormAppearance=se,yA.AcroForm={ChoiceField:Is,ListBox:Er,ComboBox:Ss,EditBox:va,Button:VA,PushButton:Ca,RadioButton:Mr,CheckBox:ba,TextField:Gi,PasswordField:ya,Appearance:se},pe.AcroForm={ChoiceField:Is,ListBox:Er,ComboBox:Ss,EditBox:va,Button:VA,PushButton:Ca,RadioButton:Mr,CheckBox:ba,TextField:Gi,PasswordField:ya,Appearance:se},function(r){r.__addimage__={};var i="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},e=r.__addimage__.getImageFileTypeByImageData=function(D,P){var $,q,Ct,_t,xt,pt=i;if("RGBA"===(P=P||i)||void 0!==D.data&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(It(D))for(xt in n)for(Ct=n[xt],$=0;$<Ct.length;$+=1){for(_t=!0,q=0;q<Ct[$].length;q+=1)if(void 0!==Ct[$][q]&&Ct[$][q]!==D[q]){_t=!1;break}if(!0===_t){pt=xt;break}}else for(xt in n)for(Ct=n[xt],$=0;$<Ct.length;$+=1){for(_t=!0,q=0;q<Ct[$].length;q+=1)if(void 0!==Ct[$][q]&&Ct[$][q]!==D.charCodeAt(q)){_t=!1;break}if(!0===_t){pt=xt;break}}return pt===i&&P!==i&&(pt=P),pt},A=function D(P){for(var $=this.internal.write,q=this.internal.putStream,Ct=(0,this.internal.getFilters)();-1!==Ct.indexOf("FlateEncode");)Ct.splice(Ct.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var _t=[];if(_t.push({key:"Type",value:"/XObject"}),_t.push({key:"Subtype",value:"/Image"}),_t.push({key:"Width",value:P.width}),_t.push({key:"Height",value:P.height}),P.colorSpace===Z.INDEXED?_t.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&void 0!==P.sMask?P.objectId+2:P.objectId+1)+" 0 R]"}):(_t.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===Z.DEVICE_CMYK&&_t.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_t.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&void 0!==P.decodeParameters&&_t.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var xt="",pt=0,Ut=P.transparency.length;pt<Ut;pt++)xt+=P.transparency[pt]+" "+P.transparency[pt]+" ";_t.push({key:"Mask",value:"["+xt+"]"})}if(void 0!==P.sMask&&_t.push({key:"SMask",value:P.objectId+1+" 0 R"}),q({data:P.data,additionalKeyValues:_t,alreadyAppliedFilters:void 0!==P.filter?["/"+P.filter]:void 0,objectId:P.objectId}),$("endobj"),"sMask"in P&&void 0!==P.sMask){var I={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:"/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,data:P.sMask};"filter"in P&&(I.filter=P.filter),D.call(this,I)}if(P.colorSpace===Z.INDEXED){var K=this.internal.newObject();q({data:Y(new Uint8Array(P.palette)),objectId:K}),$("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var P in D)A.call(this,D[P])},o=function(){var D,P=this.internal.collections.addImage_images,$=this.internal.write;for(var q in P)$("/I"+(D=P[q]).index,D.objectId,"0","R")},p=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var D=this.internal.collections.addImage_images;return p.call(this),D},w=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(D){return"function"==typeof r["process"+D.toUpperCase()]},y=function(D){return"object"===(0,cA.Z)(D)&&1===D.nodeType},k=function(D,P){if("IMG"===D.nodeName&&D.hasAttribute("src")){var $=""+D.getAttribute("src");if(0===$.indexOf("data:image/"))return Qs(unescape($).split("base64,").pop());var q=r.loadFile($,!0);if(void 0!==q)return q}if("CANVAS"===D.nodeName){if(0===D.width||0===D.height)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var Ct;switch(P){case"PNG":Ct="image/png";break;case"WEBP":Ct="image/webp";break;default:Ct="image/jpeg"}return Qs(D.toDataURL(Ct,1).split("base64,").pop())}},v=function(D){var P=this.internal.collections.addImage_images;if(P)for(var $ in P)if(D===P[$].alias)return P[$]},M=function(D,P,$){return D||P||(D=-96,P=-96),D<0&&(D=-1*$.width*72/D/this.internal.scaleFactor),P<0&&(P=-1*$.height*72/P/this.internal.scaleFactor),0===D&&(D=P*$.width/$.height),0===P&&(P=D*$.height/$.width),[D,P]},L=function(D,P,$,q,Ct,_t){var xt=M.call(this,$,q,Ct),pt=this.internal.getCoordinateString,Ut=this.internal.getVerticalCoordinateString,Qt=f.call(this);if($=xt[0],q=xt[1],Qt[Ct.index]=Ct,_t){_t*=Math.PI/180;var Wt=Math.cos(_t),I=Math.sin(_t),K=function(At){return At.toFixed(4)},G=[K(Wt),K(I),K(-1*I),K(Wt),0,0,"cm"]}this.internal.write("q"),_t?(this.internal.write([1,"0","0",1,pt(D),Ut(P+q),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([pt($),"0","0",pt(q),"0","0","cm"].join(" "))):this.internal.write([pt($),"0","0",pt(q),pt(D),Ut(P+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ct.index+" Do"),this.internal.write("Q")},Z=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var z=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=r.__addimage__.sHashCode=function(D){var P,$,q=0;if("string"==typeof D)for($=D.length,P=0;P<$;P++)q=(q<<5)-q+D.charCodeAt(P),q|=0;else if(It(D))for($=D.byteLength/2,P=0;P<$;P++)q=(q<<5)-q+D[P],q|=0;return q},W=r.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var P=!0;return 0===D.length&&(P=!1),D.length%4!=0&&(P=!1),!1===/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))&&(P=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))&&(P=!1),P},it=r.__addimage__.extractImageFromDataUrl=function(D){var P=(D=D||"").split("base64,"),$=null;if(2===P.length){var q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(q)&&($={mimeType:q[1],charset:q[2],data:P[1]})}return $},gt=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(D){return gt()&&D instanceof ArrayBuffer};var It=r.__addimage__.isArrayBufferView=function(D){return gt()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},ut=r.__addimage__.binaryStringToUint8Array=function(D){for(var P=D.length,$=new Uint8Array(P),q=0;q<P;q++)$[q]=D.charCodeAt(q);return $},Y=r.__addimage__.arrayBufferToBinaryString=function(D){for(var P="",$=It(D)?D:new Uint8Array(D),q=0;q<$.length;q+=8192)P+=String.fromCharCode.apply(null,$.subarray(q,q+8192));return P};r.addImage=function(){var D,P,$,q,Ct,_t,xt,pt,Ut;if("number"==typeof arguments[1]?(P=i,$=arguments[1],q=arguments[2],Ct=arguments[3],_t=arguments[4],xt=arguments[5],pt=arguments[6],Ut=arguments[7]):(P=arguments[1],$=arguments[2],q=arguments[3],Ct=arguments[4],_t=arguments[5],xt=arguments[6],pt=arguments[7],Ut=arguments[8]),"object"===(0,cA.Z)(D=arguments[0])&&!y(D)&&"imageData"in D){var Qt=D;D=Qt.imageData,P=Qt.format||P||i,$=Qt.x||$||0,q=Qt.y||q||0,Ct=Qt.w||Qt.width||Ct,_t=Qt.h||Qt.height||_t,xt=Qt.alias||xt,pt=Qt.compression||pt,Ut=Qt.rotation||Qt.angle||Ut}var Wt=this.internal.getFilters();if(void 0===pt&&-1!==Wt.indexOf("FlateEncode")&&(pt="SLOW"),isNaN($)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");p.call(this);var I=Tt.call(this,D,P,xt,pt);return L.call(this,$,q,Ct,_t,I,Ut),this};var Tt=function(D,P,$,q){var Ct,_t,xt,Ut;if("string"==typeof D&&e(D)===i){D=unescape(D);var pt=kt(D,!1);(""!==pt||void 0!==(pt=r.loadFile(D,!0)))&&(D=pt)}if(y(D)&&(D=k(D,P)),P=e(D,P),!b(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if((null==(xt=$)||0===xt.length)&&($="string"==typeof(Ut=D)||It(Ut)?j(Ut):It(Ut.data)?j(Ut.data):null),(Ct=v.call(this,$))||(gt()&&(D instanceof Uint8Array||"RGBA"===P||(_t=D,D=ut(D))),Ct=this["process"+P.toUpperCase()](D,w.call(this),$,function(Ut){return Ut&&"string"==typeof Ut&&(Ut=Ut.toUpperCase()),Ut in r.image_compression?Ut:z.NONE}(q),_t)),!Ct)throw new Error("An unknown error occurred whilst processing the image.");return Ct},kt=r.__addimage__.convertBase64ToBinaryString=function(D,P){var $;P="boolean"!=typeof P||P;var q,Ct="";if("string"==typeof D){q=null!==($=it(D))?$.data:D;try{Ct=Qs(q)}catch(_t){if(P)throw W(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ct};r.getImageProperties=function(D){var P,$,q="";if(y(D)&&(D=k(D)),"string"==typeof D&&e(D)===i&&(""===(q=kt(D,!1))&&(q=r.loadFile(D)||""),D=q),$=e(D),!b($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!gt()||D instanceof Uint8Array||(D=ut(D)),!(P=this["process"+$.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=$,P}}(pe.API),
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
r=pe.API,i=function(n){if(void 0!==n&&""!=n)return!0},pe.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(n){for(var e,A,s,o=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),w=n.pageContext.annotations,b=!1,y=0;y<w.length&&!b;y++)switch((e=w[y]).type){case"link":(i(e.options.url)||i(e.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(0!=b){this.internal.write("/Annots [");for(var k=0;k<w.length;k++){e=w[k];var v=this.internal.pdfEscape,M=this.internal.getEncryptor(n.objId);switch(e.type){case"reference":this.internal.write(" "+e.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),Z=this.internal.newAdditionalObject(),z=this.internal.getEncryptor(L.objId),j=e.title||"Note";s="<</Type /Annot /Subtype /Text "+(A="/Rect ["+o(e.bounds.x)+" "+p(e.bounds.y+e.bounds.h)+" "+o(e.bounds.x+e.bounds.w)+" "+p(e.bounds.y)+"] ")+"/Contents ("+v(z(e.contents))+")",s+=" /Popup "+Z.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+v(z(j))+") >>",L.content=s;var W=L.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(A="/Rect ["+o(e.bounds.x+30)+" "+p(e.bounds.y+e.bounds.h)+" "+o(e.bounds.x+e.bounds.w+30)+" "+p(e.bounds.y)+"] ")+" /Parent "+W,e.open&&(s+=" /Open true"),Z.content=s+=" >>",this.internal.write(L.objId,"0 R",Z.objId,"0 R");break;case"freetext":A="/Rect ["+o(e.bounds.x)+" "+p(e.bounds.y)+" "+o(e.bounds.x+e.bounds.w)+" "+p(e.bounds.y+e.bounds.h)+"] ";var it=e.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+A+"/Contents ("+v(M(e.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+it+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(e.options.name){var gt=this.annotations._nameMap[e.options.name];e.options.pageNumber=gt.page,e.options.top=gt.y}else e.options.top||(e.options.top=0);if(A="/Rect ["+e.finalBounds.x+" "+e.finalBounds.y+" "+e.finalBounds.w+" "+e.finalBounds.h+"] ",s="",e.options.url)s="<</Type /Annot /Subtype /Link "+A+"/Border [0 0 0] /A <</S /URI /URI ("+v(M(e.options.url))+") >>";else if(e.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+A+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(e.options.pageNumber).objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+e.options.top+"]";break;case"FitV":e.options.left=e.options.left||0,s+=" /FitV "+e.options.left+"]";break;default:var It=p(e.options.top);e.options.left=e.options.left||0,void 0===e.options.zoom&&(e.options.zoom=0),s+=" /XYZ "+e.options.left+" "+It+" "+e.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),r.createAnnotation=function(n){var e=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":e.pageContext.annotations.push(n)}},r.link=function(n,e,A,s,o){var p=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,w=this.internal.getVerticalCoordinateString;p.pageContext.annotations.push({finalBounds:{x:f(n),y:w(e),w:f(n+A),h:w(e+s)},options:o,type:"link"})},r.textWithLink=function(n,e,A,s){var o,p,f=this.getTextWidth(n),w=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var b=this.splitTextToSize(n,p=s.maxWidth).length;o=Math.ceil(w*b)}else p=f,o=w;return this.text(n,e,A,s),"center"===s.align&&(e-=f/2),"right"===s.align&&(e-=f),this.link(e,(A+=.2*w)-w,p,o,s),f},r.getTextWidth=function(n){var e=this.internal.getFontSize();return this.getStringUnitWidth(n)*e/this.internal.scaleFactor},
/**
       * @license
       * Copyright (c) 2017 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},A=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(L){return void 0!==i[L.charCodeAt(0)]},o=r.__arabicParser__.isArabicLetter=function(L){return"string"==typeof L&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},p=r.__arabicParser__.isArabicEndLetter=function(L){return o(L)&&s(L)&&i[L.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(L){return o(L)&&A.indexOf(L.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return o(L)&&s(L)&&i[L.charCodeAt(0)].length>=1};var w=r.__arabicParser__.arabicLetterHasFinalForm=function(L){return o(L)&&s(L)&&i[L.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(L){return o(L)&&s(L)&&i[L.charCodeAt(0)].length>=3};var b=r.__arabicParser__.arabicLetterHasMedialForm=function(L){return o(L)&&s(L)&&4==i[L.charCodeAt(0)].length},y=r.__arabicParser__.resolveLigatures=function(L){var Z=0,z=n,j="",W=0;for(Z=0;Z<L.length;Z+=1)void 0!==z[L.charCodeAt(Z)]?(W++,"number"==typeof(z=z[L.charCodeAt(Z)])&&(j+=String.fromCharCode(z),z=n,W=0),Z===L.length-1&&(z=n,j+=L.charAt(Z-(W-1)),Z-=W-1,W=0)):(z=n,j+=L.charAt(Z-W),Z-=W,W=0);return j};r.__arabicParser__.isArabicDiacritic=function(L){return void 0!==L&&void 0!==e[L.charCodeAt(0)]};var k=r.__arabicParser__.getCorrectForm=function(L,Z,z){return o(L)?!1===s(L)?-1:!w(L)||!o(Z)&&!o(z)||!o(z)&&p(Z)||p(L)&&!o(Z)||p(L)&&f(Z)||p(L)&&p(Z)?0:b(L)&&o(Z)&&!p(Z)&&o(z)&&w(z)?3:p(L)||!o(z)?1:2:-1},v=function(L){var Z=0,z=0,j=0,W="",it="",gt="",It=(L=L||"").split("\\s+"),ut=[];for(Z=0;Z<It.length;Z+=1){for(ut.push(""),z=0;z<It[Z].length;z+=1)it=It[Z][z-1],gt=It[Z][z+1],o(W=It[Z][z])?(j=k(W,it,gt),ut[Z]+=-1!==j?String.fromCharCode(i[W.charCodeAt(0)][j]):W):ut[Z]+=W;ut[Z]=y(ut[Z])}return ut.join(" ")},M=r.__arabicParser__.processArabic=r.processArabic=function(){var L,Z="string"==typeof arguments[0]?arguments[0]:arguments[0].text,z=[];if(Array.isArray(Z)){var j=0;for(z=[],j=0;j<Z.length;j+=1)Array.isArray(Z[j])?z.push([v(Z[j][0]),Z[j][1],Z[j][2]]):z.push([v(Z[j])]);L=z}else L=v(Z);return"string"==typeof arguments[0]?L:(arguments[0].text=L,arguments[0])};r.events.push(["preProcessText",M])}(pe.API),pe.API.autoPrint=function(r){var i;return"javascript"===((r=r||{}).variant=r.variant||"non-conform",r.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+i+" 0 R")})),this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(p){n=p}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(p){e=isNaN(p)||!1===Number.isInteger(p)||p<0?150:p,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var A=300;Object.defineProperty(this,"height",{get:function(){return A},set:function(p){A=isNaN(p)||!1===Number.isInteger(p)||p<0?300:p,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=A+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(p){s=p}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(p){o=p}}),Object.defineProperty(this,"parentNode",{})};i.prototype.getContext=function(n,e){var A;if("2d"!==(n=n||"2d"))return null;for(A in e)this.pdf.context2d.hasOwnProperty(A)&&(this.pdf.context2d[A]=e[A]);return this.pdf.context2d._canvas=this,this.pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}])}(pe.API),function(r){var i={left:0,top:0,bottom:0,right:0},n=!1,e=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},i),this.internal.__cell__.margins.width=this.getPageWidth(),A.call(this))},A=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var w=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return w},set:function(L){w=L}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(L){b=L}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var k=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return k},set:function(L){k=L}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(L){v=L}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(L){M=L}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return e.call(this),this.internal.__cell__.headerFunction="function"==typeof f?f:void 0,this},r.getTextDimensions=function(f,w){e.call(this);var b=(w=w||{}).fontSize||this.getFontSize(),y=w.font||this.getFont(),k=w.scaleFactor||this.internal.scaleFactor,v=0,M=0,L=0,Z=this;if(!Array.isArray(f)&&"string"!=typeof f){if("number"!=typeof f)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var z=w.maxWidth;z>0?"string"==typeof f?f=this.splitTextToSize(f,z):"[object Array]"===Object.prototype.toString.call(f)&&(f=f.reduce(function(W,it){return W.concat(Z.splitTextToSize(it,z))},[])):f=Array.isArray(f)?f:[f];for(var j=0;j<f.length;j++)v<(L=this.getStringUnitWidth(f[j],{font:y})*b)&&(v=L);return 0!==v&&(M=f.length),{w:v/=k,h:Math.max((M*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/k,0)}},r.cellAddPage=function(){e.call(this),this.addPage();var f=this.internal.__cell__.margins||i;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),e.call(this);var w=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,y=this.internal.__cell__.margins||i,k=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return void 0!==w.lineNumber&&(w.lineNumber===f.lineNumber?(f.x=(w.x||0)+(w.width||0),f.y=w.y||0):w.y+w.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,v&&k&&(this.printHeaderRow(f.lineNumber,!0),f.y+=k[0].height)):f.y=w.y+w.height||f.y),void 0!==f.text[0]&&(this.rect(f.x,f.y,f.width,f.height,!0===n?"FD":void 0),"right"===f.align?this.text(f.text,f.x+f.width-b,f.y+b,{align:"right",baseline:"top"}):"center"===f.align?this.text(f.text,f.x+f.width/2,f.y+b,{align:"center",baseline:"top",maxWidth:f.width-b-b}):this.text(f.text,f.x+b,f.y+b,{align:"left",baseline:"top",maxWidth:f.width-b-b})),this.internal.__cell__.lastCell=f,this};r.table=function(f,w,b,y,k){if(e.call(this),!b)throw new Error("No data for PDF table.");var v,M,L,Z,z=[],j=[],W=[],it={},gt={},It=[],ut=[],Y=(k=k||{}).autoSize||!1,Tt=!1!==k.printHeaders,kt=k.css&&void 0!==k.css["font-size"]?16*k.css["font-size"]:k.fontSize||12,D=k.margins||Object.assign({width:this.getPageWidth()},i),P="number"==typeof k.padding?k.padding:3,$=k.headerBackgroundColor||"#c8c8c8",q=k.headerTextColor||"#000";if(A.call(this),this.internal.__cell__.printHeaders=Tt,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=kt,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=q,this.setFontSize(kt),null==y)j=z=Object.keys(b[0]),W=z.map(function(){return"left"});else if(Array.isArray(y)&&"object"===(0,cA.Z)(y[0]))for(z=y.map(function(Qt){return Qt.name}),j=y.map(function(Qt){return Qt.prompt||Qt.name||""}),W=y.map(function(Qt){return Qt.align||"left"}),v=0;v<y.length;v+=1)gt[y[v].name]=y[v].width*(19.049976/25.4);else Array.isArray(y)&&"string"==typeof y[0]&&(j=z=y,W=z.map(function(){return"left"}));if(Y||Array.isArray(y)&&"string"==typeof y[0])for(v=0;v<z.length;v+=1){for(it[Z=z[v]]=b.map(function(Qt){return Qt[Z]}),this.setFont(void 0,"bold"),It.push(this.getTextDimensions(j[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=it[Z],this.setFont(void 0,"normal"),L=0;L<M.length;L+=1)It.push(this.getTextDimensions(M[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);gt[Z]=Math.max.apply(null,It)+P+P,It=[]}if(Tt){var Ct={};for(v=0;v<z.length;v+=1)Ct[z[v]]={},Ct[z[v]].text=j[v],Ct[z[v]].align=W[v];var _t=p.call(this,Ct,gt);ut=z.map(function(Qt){return new s(f,w,gt[Qt],_t,Ct[Qt].text,void 0,Ct[Qt].align)}),this.setTableHeaderRow(ut),this.printHeaderRow(1,!1)}var xt=y.reduce(function(Qt,Wt){return Qt[Wt.name]=Wt.align,Qt},{});for(v=0;v<b.length;v+=1){"rowStart"in k&&k.rowStart instanceof Function&&k.rowStart({row:v,data:b[v]},this);var pt=p.call(this,b[v],gt);for(L=0;L<z.length;L+=1){var Ut=b[v][z[L]];"cellStart"in k&&k.cellStart instanceof Function&&k.cellStart({row:v,col:L,data:Ut},this),o.call(this,new s(f,w,gt[z[L]],pt,Ut,v+2,xt[z[L]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=w,this};var p=function(f,w){var b=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,k=this.internal.scaleFactor;return Object.keys(f).map(function(v){var M=f[v];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,w[v]-b-b)},this).map(function(v){return this.getLineHeightFactor()*v.length*y/k+b+b},this).reduce(function(v,M){return Math.max(v,M)},0)};r.setTableHeaderRow=function(f){e.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,w){if(e.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var k=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){b=this.internal.__cell__.tableHeaderRow[v].clone(),w&&(b.y=this.internal.__cell__.margins.top||0,k.push(b)),b.lineNumber=f;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,b),this.setTextColor(M)}k.length>0&&this.setTableHeaderRow(k),this.setFont(void 0,"normal"),n=!1}}(pe.API);var Yu={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qu=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qo=Ju(qu),Vu=[100,200,300,400,500,600,700,800,900],_p=Ju(Vu);function xa(r){var s,i=r.family.replace(/"|'/g,"").toLowerCase(),n=Yu[s=(s=r.style)||"normal"]?s:"normal",e=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(r.weight),A=function(s){return"number"==typeof Qo[s=s||"normal"]?s:"normal"}(r.stretch);return{family:i,style:n,weight:e,stretch:A,src:r.src||[],ref:r.ref||{name:i,style:[A,n,e].join(" ")}}}function Wu(r,i,n,e){var A;for(A=n;A>=0&&A<i.length;A+=e)if(r[i[A]])return r[i[A]];for(A=n;A>=0&&A<i.length;A-=e)if(r[i[A]])return r[i[A]]}var wp={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ta={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Fo(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Xu(r){return r.trimLeft()}function Cp(r,i){for(var n=0;n<r.length;){if(r.charAt(n)===i)return[r.substring(0,n),r.substring(n+1)];n+=1}return null}function Bp(r){var i=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===i?null:[i[0],r.substring(i[0].length)]}var ka,$u,Uo,Vc=["times"];(function(r){var i,n,e,A,s,o,p,f,w,b=function(I){return this.isStrokeTransparent=(I=I||{}).isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=void 0!==I.transform?I.transform.clone():new f,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new o,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new o,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof I.ignoreClearRect||I.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),i=this.internal.f2,n=this.internal.getCoordinateString,e=this.internal.getVerticalCoordinateString,A=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,p=this.internal.Rectangle,f=this.internal.Matrix,w=new b}]);var y=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=I;Object.defineProperty(this,"pdf",{get:function(){return K}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(yt){G=!!yt}});var At=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return At},set:function(yt){At=!!yt}});var at=0;Object.defineProperty(this,"posX",{get:function(){return at},set:function(yt){isNaN(yt)||(at=yt)}});var ft=0;Object.defineProperty(this,"posY",{get:function(){return ft},set:function(yt){isNaN(yt)||(ft=yt)}}),Object.defineProperty(this,"margin",{get:function(){return w.margin},set:function(yt){var J;"number"==typeof yt?J=[yt,yt,yt,yt]:((J=new Array(4))[0]=yt[0],J[1]=yt.length>=2?yt[1]:J[0],J[2]=yt.length>=3?yt[2]:J[0],J[3]=yt.length>=4?yt[3]:J[1]),w.margin=J}});var mt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return mt},set:function(yt){mt=yt}});var wt=0;Object.defineProperty(this,"lastBreak",{get:function(){return wt},set:function(yt){wt=yt}});var Zt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Zt},set:function(yt){Zt=yt}}),Object.defineProperty(this,"ctx",{get:function(){return w},set:function(yt){yt instanceof b&&(w=yt)}}),Object.defineProperty(this,"path",{get:function(){return w.path},set:function(yt){w.path=yt}});var Ht=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ht},set:function(yt){Ht=yt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(yt){var J;J=k(yt),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=0===J.a,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(yt){var J=k(yt);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=0===J.a,this.ctx.strokeOpacity=J.a,0===J.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(J.r,J.g,J.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(yt){-1!==["butt","round","square"].indexOf(yt)&&(this.ctx.lineCap=yt,this.pdf.setLineCap(yt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(yt){isNaN(yt)||(this.ctx.lineWidth=yt,this.pdf.setLineWidth(yt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(yt){-1!==["bevel","round","miter"].indexOf(yt)&&(this.ctx.lineJoin=yt,this.pdf.setLineJoin(yt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(yt){isNaN(yt)||(this.ctx.miterLimit=yt,this.pdf.setMiterLimit(yt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(yt){this.ctx.textBaseline=yt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(yt){-1!==["right","end","center","left","start"].indexOf(yt)&&(this.ctx.textAlign=yt)}});var Ae=null,ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return ve},set:function(yt){Ae=null,ve=yt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(yt){var J;if(this.ctx.font=yt,null!==(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(yt))){var Ie=J[1],ce=J[3],Pt=J[4],Rt=J[6],$t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pt)[2];Pt=Math.floor("px"===$t?parseFloat(Pt)*this.pdf.internal.scaleFactor:"em"===$t?parseFloat(Pt)*this.pdf.getFontSize():parseFloat(Pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pt);var Yt=function(xe){var Pe,te,xn=[],We=xe.trim();if(""===We)return Vc;if(We in Ta)return[Ta[We]];for(;""!==We;){switch(te=null,Pe=(We=Xu(We)).charAt(0)){case'"':case"'":te=Cp(We.substring(1),Pe);break;default:te=Bp(We)}if(null===te||(xn.push(te[0]),""!==(We=Xu(te[1]))&&","!==We.charAt(0)))return Vc;We=We.replace(/^,/,"")}return xn}(Rt);if(this.fontFaces){var de=function vp(r,i,n){for(var e=(n=n||{}).defaultFontFamily||"times",A=Object.assign({},wp,n.genericFontFamilies||{}),s=null,o=null,p=0;p<i.length;++p)if(A[(s=xa(i[p])).family]&&(s.family=A[s.family]),r.hasOwnProperty(s.family)){o=r[s.family];break}if(!(o=o||r[e]))throw new Error("Could not find a font-family for the rule '"+Fo(s)+"' and default family '"+e+"'.");if(o=function(f,w){if(w[f])return w[f];var b=Qo[f],k=Wu(w,qu,b,b<=Qo.normal?-1:1);if(!k)throw new Error("Could not find a matching font-stretch value for "+f);return k}(s.stretch,o),o=function(f,w){if(w[f])return w[f];for(var b=Yu[f],y=0;y<b.length;++y)if(w[b[y]])return w[b[y]];throw new Error("Could not find a matching font-style for "+f)}(s.style,o),!(o=function(f,w){if(w[f])return w[f];if(400===f&&w[500])return w[500];if(500===f&&w[400])return w[400];var y=Wu(w,Vu,_p[f],f<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+f);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Fo(s)+"'.");return o}(function ie(yt,J){if(null===Ae){var Ie=(ce=yt.getFontList(),Pt=[],Object.keys(ce).forEach(function(Rt){ce[Rt].forEach(function($t){var Yt=null;switch($t){case"bold":Yt={family:Rt,weight:"bold"};break;case"italic":Yt={family:Rt,style:"italic"};break;case"bolditalic":Yt={family:Rt,weight:"bold",style:"italic"};break;case"":case"normal":Yt={family:Rt}}null!==Yt&&(Yt.ref={name:Rt,style:$t},Pt.push(Yt))})}),Pt);Ae=function(ce){for(var Pt={},Rt=0;Rt<ce.length;++Rt){var $t=xa(ce[Rt]),Yt=$t.family,de=$t.stretch,Qe=$t.style,Ee=$t.weight;Pt[Yt]=Pt[Yt]||{},Pt[Yt][de]=Pt[Yt][de]||{},Pt[Yt][de][Qe]=Pt[Yt][de][Qe]||{},Pt[Yt][de][Qe][Ee]=$t}return Pt}(Ie.concat(J))}var ce,Pt;return Ae}(this.pdf,this.fontFaces),Yt.map(function(xe){return{family:xe,stretch:"normal",weight:ce,style:Ie}}));this.pdf.setFont(de.ref.name,de.ref.style)}else{var Qe="";("bold"===ce||parseInt(ce,10)>=700||"bold"===Ie)&&(Qe="bold"),"italic"===Ie&&(Qe+="italic"),0===Qe.length&&(Qe="normal");for(var Ee="",Ne={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<Yt.length;Je++){if(void 0!==this.pdf.internal.getFont(Yt[Je],Qe,{noFallback:!0,disableWarning:!0})){Ee=Yt[Je];break}if("bolditalic"===Qe&&void 0!==this.pdf.internal.getFont(Yt[Je],"bold",{noFallback:!0,disableWarning:!0}))Ee=Yt[Je],Qe="bold";else if(void 0!==this.pdf.internal.getFont(Yt[Je],"normal",{noFallback:!0,disableWarning:!0})){Ee=Yt[Je],Qe="normal";break}}if(""===Ee)for(var hA=0;hA<Yt.length;hA++)if(Ne[Yt[hA]]){Ee=Ne[Yt[hA]];break}this.pdf.setFont(Ee=""===Ee?"Times":Ee,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(yt){this.ctx.globalCompositeOperation=yt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(yt){this.ctx.globalAlpha=yt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(yt){this.ctx.lineDashOffset=yt,Wt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(yt){this.ctx.lineDash=yt,Wt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(yt){this.ctx.ignoreClearRect=!!yt}})};y.prototype.setLineDash=function(I){this.lineDash=I},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){it.call(this,"fill",!1)},y.prototype.stroke=function(){it.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(I,K){if(isNaN(I)||isNaN(K))throw rA.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(I,K));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(I,K)},y.prototype.closePath=function(){var I=new o(0,0),K=0;for(K=this.path.length-1;-1!==K;K--)if("begin"===this.path[K].type&&"object"===(0,cA.Z)(this.path[K+1])&&"number"==typeof this.path[K+1].x){I=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(I.x,I.y)},y.prototype.lineTo=function(I,K){if(isNaN(I)||isNaN(K))throw rA.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(I,K));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),it.call(this,null,!0)},y.prototype.quadraticCurveTo=function(I,K,G,At){if(isNaN(G)||isNaN(At)||isNaN(I)||isNaN(K))throw rA.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var at=this.ctx.transform.applyToPoint(new o(G,At)),ft=this.ctx.transform.applyToPoint(new o(I,K));this.path.push({type:"qct",x1:ft.x,y1:ft.y,x:at.x,y:at.y}),this.ctx.lastPoint=new o(at.x,at.y)},y.prototype.bezierCurveTo=function(I,K,G,At,at,ft){if(isNaN(at)||isNaN(ft)||isNaN(I)||isNaN(K)||isNaN(G)||isNaN(At))throw rA.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var mt=this.ctx.transform.applyToPoint(new o(at,ft)),wt=this.ctx.transform.applyToPoint(new o(I,K)),Zt=this.ctx.transform.applyToPoint(new o(G,At));this.path.push({type:"bct",x1:wt.x,y1:wt.y,x2:Zt.x,y2:Zt.y,x:mt.x,y:mt.y}),this.ctx.lastPoint=new o(mt.x,mt.y)},y.prototype.arc=function(I,K,G,At,at,ft){if(isNaN(I)||isNaN(K)||isNaN(G)||isNaN(At)||isNaN(at))throw rA.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ft=!!ft,!this.ctx.transform.isIdentity){var mt=this.ctx.transform.applyToPoint(new o(I,K));I=mt.x,K=mt.y;var wt=this.ctx.transform.applyToPoint(new o(0,G)),Zt=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(wt.x-Zt.x,2)+Math.pow(wt.y-Zt.y,2))}Math.abs(at-At)>=2*Math.PI&&(At=0,at=2*Math.PI),this.path.push({type:"arc",x:I,y:K,radius:G,startAngle:At,endAngle:at,counterclockwise:ft})},y.prototype.arcTo=function(I,K,G,At,at){throw new Error("arcTo not implemented.")},y.prototype.rect=function(I,K,G,At){if(isNaN(I)||isNaN(K)||isNaN(G)||isNaN(At))throw rA.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,K),this.lineTo(I+G,K),this.lineTo(I+G,K+At),this.lineTo(I,K+At),this.lineTo(I,K),this.lineTo(I+G,K),this.lineTo(I,K)},y.prototype.fillRect=function(I,K,G,At){if(isNaN(I)||isNaN(K)||isNaN(G)||isNaN(At))throw rA.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var at={};"butt"!==this.lineCap&&(at.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(at.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,K,G,At),this.fill(),at.hasOwnProperty("lineCap")&&(this.lineCap=at.lineCap),at.hasOwnProperty("lineJoin")&&(this.lineJoin=at.lineJoin)}},y.prototype.strokeRect=function(I,K,G,At){if(isNaN(I)||isNaN(K)||isNaN(G)||isNaN(At))throw rA.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(I,K,G,At),this.stroke())},y.prototype.clearRect=function(I,K,G,At){if(isNaN(I)||isNaN(K)||isNaN(G)||isNaN(At))throw rA.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,K,G,At))},y.prototype.save=function(I){I="boolean"!=typeof I||I;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var At=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=At}},y.prototype.restore=function(I){I="boolean"!=typeof I||I;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(K),I&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var k=function(I){var K,G,At,at;if(!0===I.isCanvasGradient&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))K=0,G=0,At=0,at=0;else{var ft=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(null!==ft)K=parseInt(ft[1]),G=parseInt(ft[2]),At=parseInt(ft[3]),at=1;else if(null!==(ft=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I)))K=parseInt(ft[1]),G=parseInt(ft[2]),At=parseInt(ft[3]),at=parseFloat(ft[4]);else{if(at=1,"string"==typeof I&&"#"!==I.charAt(0)){var mt=new Lr(I);I=mt.ok?mt.toHex():"#000000"}4===I.length?(K=I.substring(1,2),K+=K,G=I.substring(2,3),G+=G,At=I.substring(3,4),At+=At):(K=I.substring(1,3),G=I.substring(3,5),At=I.substring(5,7)),K=parseInt(K,16),G=parseInt(G,16),At=parseInt(At,16)}}return{r:K,g:G,b:At,a:at,style:I}},v=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},M=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};y.prototype.fillText=function(I,K,G,At){if(isNaN(K)||isNaN(G)||"string"!=typeof I)throw rA.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(At=isNaN(At)?void 0:At,!v.call(this)){var at=pt(this.ctx.transform.rotation);P.call(this,{text:I,x:K,y:G,scale:this.ctx.transform.scaleX,angle:at,align:this.textAlign,maxWidth:At})}},y.prototype.strokeText=function(I,K,G,At){if(isNaN(K)||isNaN(G)||"string"!=typeof I)throw rA.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){At=isNaN(At)?void 0:At;var at=pt(this.ctx.transform.rotation);P.call(this,{text:I,x:K,y:G,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:at,align:this.textAlign,maxWidth:At})}},y.prototype.measureText=function(I){if("string"!=typeof I)throw rA.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,G=this.pdf.internal.scaleFactor,At=K.internal.getFontSize(),at=K.getStringUnitWidth(I)*At/K.internal.scaleFactor;return new function(mt){var wt=(mt=mt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return wt}}),this}({width:at*=Math.round(96*G/72*1e4)/1e4})},y.prototype.scale=function(I,K){if(isNaN(I)||isNaN(K))throw rA.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new f(I,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},y.prototype.rotate=function(I){if(isNaN(I))throw rA.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new f(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},y.prototype.translate=function(I,K){if(isNaN(I)||isNaN(K))throw rA.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new f(1,0,0,1,I,K);this.ctx.transform=this.ctx.transform.multiply(G)},y.prototype.transform=function(I,K,G,At,at,ft){if(isNaN(I)||isNaN(K)||isNaN(G)||isNaN(At)||isNaN(at)||isNaN(ft))throw rA.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var mt=new f(I,K,G,At,at,ft);this.ctx.transform=this.ctx.transform.multiply(mt)},y.prototype.setTransform=function(I,K,G,At,at,ft){I=isNaN(I)?1:I,K=isNaN(K)?0:K,G=isNaN(G)?0:G,At=isNaN(At)?1:At,at=isNaN(at)?0:at,ft=isNaN(ft)?0:ft,this.ctx.transform=new f(I,K,G,At,at,ft)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(I,K,G,At,at,ft,mt,wt,Zt){var Ht=this.pdf.getImageProperties(I),Ae=1,ie=1,ve=1,yt=1;void 0!==At&&void 0!==wt&&(ve=wt/At,yt=Zt/at,Ae=Ht.width/At*wt/At,ie=Ht.height/at*Zt/at),void 0===ft&&(ft=K,mt=G,K=0,G=0),void 0!==At&&void 0===wt&&(wt=At,Zt=at),void 0===At&&void 0===wt&&(wt=Ht.width,Zt=Ht.height);for(var J,Ie=this.ctx.transform.decompose(),ce=pt(Ie.rotate.shx),Pt=new f,Rt=(Pt=(Pt=(Pt=Pt.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new p(ft-K*ve,mt-G*yt,At*Ae,at*ie)),$t=Z.call(this,Rt),Yt=[],de=0;de<$t.length;de+=1)-1===Yt.indexOf($t[de])&&Yt.push($t[de]);if(W(Yt),this.autoPaging)for(var Qe=Yt[0],Ee=Yt[Yt.length-1],Ne=Qe;Ne<Ee+1;Ne++){this.pdf.setPage(Ne);var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hA=1===Ne?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],te=1===Ne?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ne-2)*Pe;if(0!==this.ctx.clip_path.length){var xn=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(J,this.posX+this.margin[3],-te+hA+this.ctx.prevPageLastElemOffset),gt.call(this,"fill",!0),this.path=xn}var We=JSON.parse(JSON.stringify(Rt));We=j([We],this.posX+this.margin[3],-te+hA+this.ctx.prevPageLastElemOffset)[0];var jr=(Ne>Qe||Ne<Ee)&&L.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,Pe,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",We.x,We.y,We.w,We.h,null,null,ce),jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,ce)};var Z=function(I,K,G){var At=[];K=K||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var at=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":At.push(Math.floor((I.y+at)/G)+1);break;case"arc":At.push(Math.floor((I.y+at-I.radius)/G)+1),At.push(Math.floor((I.y+at+I.radius)/G)+1);break;case"qct":var ft=Ut(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);At.push(Math.floor((ft.y+at)/G)+1),At.push(Math.floor((ft.y+ft.h+at)/G)+1);break;case"bct":var mt=Qt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);At.push(Math.floor((mt.y+at)/G)+1),At.push(Math.floor((mt.y+mt.h+at)/G)+1);break;case"rect":At.push(Math.floor((I.y+at)/G)+1),At.push(Math.floor((I.y+I.h+at)/G)+1)}for(var wt=0;wt<At.length;wt+=1)for(;this.pdf.internal.getNumberOfPages()<At[wt];)z.call(this);return At},z=function(){var I=this.fillStyle,K=this.strokeStyle,G=this.font,At=this.lineCap,at=this.lineWidth,ft=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=K,this.font=G,this.lineCap=At,this.lineWidth=at,this.lineJoin=ft},j=function(I,K,G){for(var At=0;At<I.length;At++)switch(I[At].type){case"bct":I[At].x2+=K,I[At].y2+=G;case"qct":I[At].x1+=K,I[At].y1+=G;default:I[At].x+=K,I[At].y+=G}return I},W=function(I){return I.sort(function(K,G){return K-G})},it=function(I,K){for(var G,At,at=this.fillStyle,ft=this.strokeStyle,mt=this.lineCap,wt=this.lineWidth,Zt=Math.abs(wt*this.ctx.transform.scaleX),Ht=this.lineJoin,Ae=JSON.parse(JSON.stringify(this.path)),ie=JSON.parse(JSON.stringify(this.path)),ve=[],yt=0;yt<ie.length;yt++)if(void 0!==ie[yt].x)for(var J=Z.call(this,ie[yt]),Ie=0;Ie<J.length;Ie+=1)-1===ve.indexOf(J[Ie])&&ve.push(J[Ie]);for(var ce=0;ce<ve.length;ce++)for(;this.pdf.internal.getNumberOfPages()<ve[ce];)z.call(this);if(W(ve),this.autoPaging)for(var Pt=ve[0],Rt=ve[ve.length-1],$t=Pt;$t<Rt+1;$t++){this.pdf.setPage($t),this.fillStyle=at,this.strokeStyle=ft,this.lineCap=mt,this.lineWidth=Zt,this.lineJoin=Ht;var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],de=1===$t?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ne=1===$t?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+($t-2)*Ee;if(0!==this.ctx.clip_path.length){var Je=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(G,this.posX+this.margin[3],-Ne+de+this.ctx.prevPageLastElemOffset),gt.call(this,I,!0),this.path=Je}if(At=JSON.parse(JSON.stringify(Ae)),this.path=j(At,this.posX+this.margin[3],-Ne+de+this.ctx.prevPageLastElemOffset),!1===K||0===$t){var hA=($t>Pt||$t<Rt)&&L.call(this);hA&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,Ee,null).clip().discardPath()),gt.call(this,I,K),hA&&this.pdf.restoreGraphicsState()}this.lineWidth=wt}else this.lineWidth=Zt,gt.call(this,I,K),this.lineWidth=wt;this.path=Ae},gt=function(I,K){if(("stroke"!==I||K||!M.call(this))&&("stroke"===I||K||!v.call(this))){for(var G,At,at=[],ft=this.path,mt=0;mt<ft.length;mt++){var wt=ft[mt];switch(wt.type){case"begin":at.push({begin:!0});break;case"close":at.push({close:!0});break;case"mt":at.push({start:wt,deltas:[],abs:[]});break;case"lt":var Zt=at.length;if(ft[mt-1]&&!isNaN(ft[mt-1].x)&&(G=[wt.x-ft[mt-1].x,wt.y-ft[mt-1].y],Zt>0))for(;Zt>=0;Zt--)if(!0!==at[Zt-1].close&&!0!==at[Zt-1].begin){at[Zt-1].deltas.push(G),at[Zt-1].abs.push(wt);break}break;case"bct":at[at.length-1].deltas.push(G=[wt.x1-ft[mt-1].x,wt.y1-ft[mt-1].y,wt.x2-ft[mt-1].x,wt.y2-ft[mt-1].y,wt.x-ft[mt-1].x,wt.y-ft[mt-1].y]);break;case"qct":at[at.length-1].deltas.push(G=[ft[mt-1].x+2/3*(wt.x1-ft[mt-1].x)-ft[mt-1].x,ft[mt-1].y+2/3*(wt.y1-ft[mt-1].y)-ft[mt-1].y,wt.x+2/3*(wt.x1-wt.x)-ft[mt-1].x,wt.y+2/3*(wt.y1-wt.y)-ft[mt-1].y,wt.x-ft[mt-1].x,wt.y-ft[mt-1].y]);break;case"arc":at.push({deltas:[],abs:[],arc:!0}),Array.isArray(at[at.length-1].abs)&&at[at.length-1].abs.push(wt)}}At=K?null:"stroke"===I?"stroke":"fill";for(var Ie=!1,ce=0;ce<at.length;ce++)if(at[ce].arc)for(var Pt=at[ce].abs,Rt=0;Rt<Pt.length;Rt++){var $t=Pt[Rt];"arc"===$t.type?Y.call(this,$t.x,$t.y,$t.radius,$t.startAngle,$t.endAngle,$t.counterclockwise,void 0,K,!Ie):$.call(this,$t.x,$t.y),Ie=!0}else!0===at[ce].close?(this.pdf.internal.out("h"),Ie=!1):!0!==at[ce].begin&&(q.call(this,at[ce].deltas,at[ce].start.x,at[ce].start.y),Ie=!0);At&&Tt.call(this,At),K&&kt.call(this)}},It=function(I){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-G;case"top":return I+K-G;case"hanging":return I+K-2*G;case"middle":return I+K/2-G;default:return I}},ut=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(K,G){this.colorStops.push([K,G])},I.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(I,K,G,At,at,ft,mt,wt,Zt){for(var Ht=_t.call(this,G,At,at,ft),Ae=0;Ae<Ht.length;Ae++){var ie=Ht[Ae];0===Ae&&(Zt?D.call(this,ie.x1+I,ie.y1+K):$.call(this,ie.x1+I,ie.y1+K)),Ct.call(this,I,K,ie.x2,ie.y2,ie.x3,ie.y3,ie.x4,ie.y4)}wt?kt.call(this):Tt.call(this,mt)},Tt=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},kt=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(I,K){this.pdf.internal.out(n(I)+" "+e(K)+" m")},P=function(I){var K;switch(I.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var G=this.pdf.getTextDimensions(I.text),At=It.call(this,I.y),at=ut.call(this,At)-G.h,ft=this.ctx.transform.applyToPoint(new o(I.x,At)),mt=this.ctx.transform.decompose(),wt=new f;wt=(wt=(wt=wt.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale);for(var Zt,Ht,Ae,ie=this.ctx.transform.applyToRectangle(new p(I.x,At,G.w,G.h)),ve=wt.applyToRectangle(new p(I.x,at,G.w,G.h)),yt=Z.call(this,ve),J=[],Ie=0;Ie<yt.length;Ie+=1)-1===J.indexOf(yt[Ie])&&J.push(yt[Ie]);if(W(J),this.autoPaging)for(var ce=J[0],Pt=J[J.length-1],Rt=ce;Rt<Pt+1;Rt++){this.pdf.setPage(Rt);var $t=1===Rt?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.margin[2],Qe=de-this.margin[0],Ee=this.pdf.internal.pageSize.width-this.margin[1],Ne=Ee-this.margin[3],Je=1===Rt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Rt-2)*Qe;if(0!==this.ctx.clip_path.length){var hA=this.path;Zt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Zt,this.posX+this.margin[3],-1*Je+$t),gt.call(this,"fill",!0),this.path=hA}var xe=j([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-Je+$t+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Ht=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ht*I.scale),this.lineWidth=(Ae=this.lineWidth)*I.scale);var Pe="text"!==this.autoPaging;if(Pe||xe.y+xe.h<=de){if(Pe||xe.y>=$t&&xe.x<=Ee){var te=Pe?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Ee-xe.x)[0],xn=j([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-Je+$t+this.ctx.prevPageLastElemOffset)[0],We=Pe&&(Rt>ce||Rt<Pt)&&L.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Qe,null).clip().discardPath()),this.pdf.text(te,xn.x,xn.y,{angle:I.angle,align:K,renderingMode:I.renderingMode}),We&&this.pdf.restoreGraphicsState()}}else xe.y<de&&(this.ctx.prevPageLastElemOffset+=de-xe.y);I.scale>=.01&&(this.pdf.setFontSize(Ht),this.lineWidth=Ae)}else I.scale>=.01&&(Ht=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ht*I.scale),this.lineWidth=(Ae=this.lineWidth)*I.scale),this.pdf.text(I.text,ft.x+this.posX,ft.y+this.posY,{angle:I.angle,align:K,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Ht),this.lineWidth=Ae)},$=function(I,K,G,At){At=At||0,this.pdf.internal.out(n(I+(G=G||0))+" "+e(K+At)+" l")},q=function(I,K,G){return this.pdf.lines(I,K,G,null,null)},Ct=function(I,K,G,At,at,ft,mt,wt){this.pdf.internal.out([i(A(G+I)),i(s(At+K)),i(A(at+I)),i(s(ft+K)),i(A(mt+I)),i(s(wt+K)),"c"].join(" "))},_t=function(I,K,G,At){for(var at=2*Math.PI,ft=Math.PI/2;K>G;)K-=at;var mt=Math.abs(G-K);mt<at&&At&&(mt=at-mt);for(var wt=[],Zt=At?-1:1,Ht=K;mt>1e-5;){var Ae=Ht+Zt*Math.min(mt,ft);wt.push(xt.call(this,I,Ht,Ae)),mt-=Math.abs(Ae-Ht),Ht=Ae}return wt},xt=function(I,K,G){var At=(G-K)/2,at=I*Math.cos(At),ft=I*Math.sin(At),mt=at,wt=-ft,Zt=mt*mt+wt*wt,Ht=Zt+mt*at+wt*ft,Ae=4/3*(Math.sqrt(2*Zt*Ht)-Ht)/(mt*ft-wt*at),ie=mt-Ae*wt,ve=wt+Ae*mt,yt=ie,J=-ve,Ie=At+K,ce=Math.cos(Ie),Pt=Math.sin(Ie);return{x1:I*Math.cos(K),y1:I*Math.sin(K),x2:ie*ce-ve*Pt,y2:ie*Pt+ve*ce,x3:yt*ce-J*Pt,y3:yt*Pt+J*ce,x4:I*Math.cos(G),y4:I*Math.sin(G)}},pt=function(I){return 180*I/Math.PI},Ut=function(I,K,G,At,at,ft){var mt=I+.5*(G-I),wt=K+.5*(At-K),Zt=at+.5*(G-at),Ht=ft+.5*(At-ft),Ae=Math.min(I,at,mt,Zt),ie=Math.max(I,at,mt,Zt),ve=Math.min(K,ft,wt,Ht),yt=Math.max(K,ft,wt,Ht);return new p(Ae,ve,ie-Ae,yt-ve)},Qt=function(I,K,G,At,at,ft,mt,wt){var Zt,Ht,Ae,ie,ve,yt,J,Ie,ce,Pt,Rt,$t,Yt,de,Qe=G-I,Ee=At-K,Ne=at-G,Je=ft-At,hA=mt-at,xe=wt-ft;for(Ht=0;Ht<41;Ht++)ce=(J=(Ae=I+(Zt=Ht/40)*Qe)+Zt*((ve=G+Zt*Ne)-Ae))+Zt*(ve+Zt*(at+Zt*hA-ve)-J),Pt=(Ie=(ie=K+Zt*Ee)+Zt*((yt=At+Zt*Je)-ie))+Zt*(yt+Zt*(ft+Zt*xe-yt)-Ie),0==Ht?(Rt=ce,$t=Pt,Yt=ce,de=Pt):(Rt=Math.min(Rt,ce),$t=Math.min($t,Pt),Yt=Math.max(Yt,ce),de=Math.max(de,Pt));return new p(Math.round(Rt),Math.round($t),Math.round(Yt-Rt),Math.round(de-$t))},Wt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var G=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(pe.API),
/**
       * @license
       * jsPDF filters PlugIn
       * Copyright (c) 2014 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=function(s){var o,p,f,w,b,y,k,v,M,L;for(/[^\x00-\xFF]/.test(s),p=[],f=0,w=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;w>f;f+=4)0!==(b=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))?(y=(b=((b=((b=((b=(b-(L=b%85))/85)-(M=b%85))/85)-(v=b%85))/85)-(k=b%85))/85)%85,p.push(y+33,k+33,v+33,M+33,L+33)):p.push(122);return function(Z,z){for(var j=z;j>0;j--)Z.pop()}(p,o.length),String.fromCharCode.apply(String,p)+"~>"},n=function(s){var o,p,f,w,b,y=String,k="length",v=255,M="charCodeAt",L="slice",Z="replace";for(s[L](-2),s=s[L](0,-2)[Z](/\s/g,"")[Z]("z","!!!!!"),f=[],w=0,b=(s+=o="uuuuu"[L](s[k]%5||5))[k];b>w;w+=5)p=52200625*(s[M](w)-33)+614125*(s[M](w+1)-33)+7225*(s[M](w+2)-33)+85*(s[M](w+3)-33)+(s[M](w+4)-33),f.push(v&p>>24,v&p>>16,v&p>>8,v&p);return function(z,j){for(var W=j;W>0;W--)z.pop()}(f,o[k]),y.fromCharCode.apply(y,f)},e=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var p="",f=0;f<s.length;f+=2)p+=String.fromCharCode("0x"+(s[f]+s[f+1]));return p},A=function(s){for(var o=new Uint8Array(s.length),p=s.length;p--;)o[p]=s.charCodeAt(p);return(o=Bo(o)).reduce(function(f,w){return f+String.fromCharCode(w)},"")};r.processDataByFilters=function(s,o){var p=0,f=s||"",w=[];for("string"==typeof(o=o||[])&&(o=[o]),p=0;p<o.length;p+=1)switch(o[p]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),w.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=i(f),w.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=e(f),w.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)}).join("")+">",w.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=A(f),w.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[p]+'" is not implemented')}return{data:f,reverseChain:w.reverse().join(" ")}}}(pe.API),
/**
       * @license
       * jsPDF fileloading PlugIn
       * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){r.loadFile=function(i,n,e){return function(A,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var p=void 0;try{p=function(f,w,b){var y=new XMLHttpRequest,k=0,v=function(M){var L=M.length,Z=[],z=String.fromCharCode;for(k=0;k<L;k+=1)Z.push(z(255&M.charCodeAt(k)));return Z.join("")};if(y.open("GET",f,!w),y.overrideMimeType("text/plain; charset=x-user-defined"),!1===w&&(y.onload=function(){b(200===y.status?v(this.responseText):void 0)}),y.send(null),w&&200===y.status)return v(y.responseText)}(A,s,o)}catch{}return p}(i,n,e)},r.loadImageFile=r.loadFile}(pe.API),function(r){function i(){return(fe.html2canvas?Promise.resolve(fe.html2canvas):Promise.resolve().then(ot.t.bind(ot,74456,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(fe.DOMPurify?Promise.resolve(fe.DOMPurify):ot.e(896).then(ot.t.bind(ot,70896,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var e=function(o){var p=(0,cA.Z)(o);return"undefined"===p?"undefined":"string"===p||o instanceof String?"string":"number"===p||o instanceof Number?"number":"function"===p||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===p?"object":"unknown"},A=function(o,p){var f=document.createElement(o);for(var w in p.className&&(f.className=p.className),p.innerHTML&&p.dompurify&&(f.innerHTML=p.dompurify.sanitize(p.innerHTML)),p.style)f.style[w]=p.style[w];return f},s=function o(p){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),w=o.convert(Promise.resolve(),f);return(w=w.setProgress(1,o,1,[o])).set(p)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,p){return o.__proto__=p||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,p){return this.then(function(){switch(p=p||function(f){switch(e(f)){case"string":return"string";case"element":return"canvas"===f.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(f){return this.set({src:A("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},p=function f(w,b){for(var y=3===w.nodeType?document.createTextNode(w.nodeValue):w.cloneNode(!1),k=w.firstChild;k;k=k.nextSibling)!0!==b&&1===k.nodeType&&"SCRIPT"===k.nodeName||y.appendChild(f(k,b));return 1===w.nodeType&&("CANVAS"===w.nodeName?(y.width=w.width,y.height=w.height,y.getContext("2d").drawImage(w,0,0)):"TEXTAREA"!==w.nodeName&&"SELECT"!==w.nodeName||(y.value=w.value),y.addEventListener("load",function(){y.scrollTop=w.scrollTop,y.scrollLeft=w.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===p.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=A("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=A("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(p),this.prop.container.firstChild.appendChild(A("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(p){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,p(this.prop.container,f)}).then(function(p){(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(p){var f=this.opt.jsPDF,w=this.opt.fontFaces,b="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=w,w)for(var k=0;k<w.length;++k){var v=w[k],M=v.src.find(function(L){return"truetype"===L.format});M&&f.addFont(M.url,v.ref.name,v.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=0==y.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),p(this.prop.container,y)}).then(function(p){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,p,f){return"img"===(f=f||"pdf").toLowerCase()||"image"===f.toLowerCase()?this.outputImg(o,p):this.outputPdf(o,p)},s.prototype.outputPdf=function(o,p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,p)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==e(o))return this;var p=Object.keys(o||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(p)})},s.prototype.get=function(o,p){return this.then(function(){var f=o in s.template.prop?this.prop[o]:this.opt[o];return p?p(f):f})},s.prototype.setMargin=function(o){return this.then(function(){switch(e(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function p(f,w){return Math.floor(f*w/72*96)}return this.then(function(){(o=o||pe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:p(o.inner.width,o.k),height:p(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,p,f,w){return null!=o&&(this.progress.val=o),null!=p&&(this.progress.state=p),null!=f&&(this.progress.n=f),null!=w&&(this.progress.stack=w),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,p,f,w){return this.setProgress(o?this.progress.val+o:null,p||null,f?this.progress.n+f:null,w?this.progress.stack.concat(w):null)},s.prototype.then=function(o,p){var f=this;return this.thenCore(o,p,function(w,b){return f.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,w),y}).then(w,b).then(function(y){return f.updateProgress(1),y})})},s.prototype.thenCore=function(o,p,f){f=f||Promise.prototype.then,o&&(o=o.bind(this)),p&&(p=p.bind(this));var w=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),b=f.call(w,o,p);return s.convert(b,this.__proto__)},s.prototype.thenExternal=function(o,p){return Promise.prototype.then.call(this,o,p)},s.prototype.thenList=function(o){var p=this;return o.forEach(function(f){p=p.thenCore(f)}),p},s.prototype.catch=function(o){o&&(o=o.bind(this));var p=Promise.prototype.catch.call(this,o);return s.convert(p,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,pe.getPageSize=function(o,p,f){if("object"===(0,cA.Z)(o)){var w=o;o=w.orientation,p=w.unit||p,f=w.format||f}p=p||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var b,y=(""+f).toLowerCase(),k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+p}var v,M=0,L=0;if(k.hasOwnProperty(y))M=k[y][1]/b,L=k[y][0]/b;else try{M=f[1],L=f[0]}catch{throw new Error("Invalid format: "+f)}if("p"===o||"portrait"===o)o="p",L>M&&(v=L,L=M,M=v);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",M>L&&(v=L,L=M,M=v)}return{width:L,height:M,unit:p,k:b,orientation:o}},r.html=function(o,p){(p=p||{}).callback=p.callback||function(){},p.html2canvas=p.html2canvas||{},p.html2canvas.canvas=p.html2canvas.canvas||this.canvas,p.jsPDF=p.jsPDF||this,p.fontFaces=p.fontFaces?p.fontFaces.map(xa):null;var f=new s(p);return p.worker?f:f.from(o).doCallback()}}(pe.API),pe.API.addJS=function(r){return Uo=r,this.internal.events.subscribe("postPutResources",function(){ka=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ka+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$u=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Uo+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==ka&&void 0!==$u&&this.internal.out("/Names <</JavaScript "+ka+" 0 R>>")}),this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i;r.events.push(["postPutResources",function(){var n=this,e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var A=n.outline.render().split(/\r\n/),s=0;s<A.length;s++){var o=A[s],p=e.exec(o);null!=p&&n.internal.newObjectDeferredBegin(p[1],!1),n.internal.write(o)}if(this.outline.createNamedDestinations){var w=this.internal.pages.length,b=[];for(s=0;s<w;s++){var y=n.internal.newObject();b.push(y);var k=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+k.objId+" 0 R /XYZ null null null]>> endobj")}var v=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<b.length;s++)n.internal.write("(page_"+(s+1)+")"+b[s]+" 0 R");n.internal.write(" ] >>","endobj"),i=n.internal.newObject(),n.internal.write("<< /Dests "+v+" 0 R"),n.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+i+" 0 R"))}]),r.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(e,A,s){var o={title:A,options:s,children:[]};return null==e&&(e=this.root),e.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(e){e.id=n.internal.newObjectDeferred();for(var A=0;A<e.children.length;A++)this.genIds_r(e.children[A])},n.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},n.outline.renderItems=function(e){for(var A=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<e.children.length;s++){var o=e.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(e)),s>0&&this.line("/Prev "+this.makeRef(e.children[s-1])),s<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var p=this.count=this.count_r({count:0},o);if(p>0&&this.line("/Count "+p),o.options&&o.options.pageNumber){var f=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+A(0)+" 0]")}this.objEnd()}for(var w=0;w<e.children.length;w++)this.renderItems(e.children[w])},n.outline.line=function(e){this.ctx.val+=e+"\r\n"},n.outline.makeRef=function(e){return e.id+" 0 R"},n.outline.makeString=function(e){return"("+n.internal.pdfEscape(e)+")"},n.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},n.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},n.outline.count_r=function(e,A){for(var s=0;s<A.children.length;s++)e.count++,this.count_r(e,A.children[s]);return e.count}}])}(pe.API),
/**
       * @license
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=[192,193,194,195,196,197,198,199];r.processJPEG=function(n,e,A,s,o,p){var f,w=this.decode.DCT_DECODE,b=null;if("string"==typeof n||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=this.__addimage__.isArrayBuffer(n=o||n)?new Uint8Array(n):n,(f=function(y){for(var k,v=256*y.charCodeAt(4)+y.charCodeAt(5),M=y.length,L={width:0,height:0,numcomponents:1},Z=4;Z<M;Z+=2){if(-1!==i.indexOf(y.charCodeAt((Z+=v)+1))){k=256*y.charCodeAt(Z+5)+y.charCodeAt(Z+6),L={width:256*y.charCodeAt(Z+7)+y.charCodeAt(Z+8),height:k,numcomponents:y.charCodeAt(Z+9)};break}v=256*y.charCodeAt(Z+2)+y.charCodeAt(Z+3)}return L}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:p=this.color_spaces.DEVICE_GRAY;break;case 4:p=this.color_spaces.DEVICE_CMYK;break;case 3:p=this.color_spaces.DEVICE_RGB}b={data:n,width:f.width,height:f.height,colorSpace:p,bitsPerComponent:8,filter:w,index:e,alias:A}}return b}}(pe.API);var zs,Qa,td,ed,Ad,bp=function(){var r,i,n;function e(s){var o,f,w,b,y,k,v,M,L,Z,z,j,W;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),M=function(){var it,gt;for(gt=[],it=0;it<4;++it)gt.push(String.fromCharCode(this.data[this.pos++]));return gt}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),w=this.readUInt16()||100,y.delay=1e3*b/w,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for("fdAT"===M&&(this.pos+=4,o-=4),s=y?.data||this.imgData,z=0;0<=o?z<o:z>o;0<=o?++z:--z)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((L=f-this.transparency.indexed.length)>0)for(j=0;0<=L?j<L:j>L;0<=L?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":k=(Z=this.read(o)).indexOf(0),v=String.fromCharCode.apply(String,Z.slice(0,k)),this.text[v]=String.fromCharCode.apply(String,Z.slice(k+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(W=this.colorType)||6===W,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}e.prototype.read=function(s){var o,p;for(p=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)p.push(this.data[this.pos++]);return p},e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,p=new Uint8Array(this.width*this.height*o),f=0,w=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function b(y,k,v,M){var L,Z,z,j,W,it,gt,It,Y,Tt,kt,D,P,$,q,Ct,_t,xt,pt,Ut,Qt=Math.ceil((w.width-y)/v),Wt=Math.ceil((w.height-k)/M),I=w.width==Qt&&w.height==Wt;for(P=o*Qt,kt=I?p:new Uint8Array(P*Wt),it=s.length,D=0,Z=0;D<Wt&&f<it;){switch(s[f++]){case 0:for(j=Ct=0;Ct<P;j=Ct+=1)kt[Z++]=s[f++];break;case 1:for(j=_t=0;_t<P;j=_t+=1)L=s[f++],W=j<o?0:kt[Z-o],kt[Z++]=(L+W)%256;break;case 2:for(j=xt=0;xt<P;j=xt+=1)L=s[f++],z=(j-j%o)/o,kt[Z++]=(($=D&&kt[(D-1)*P+z*o+j%o])+L)%256;break;case 3:for(j=pt=0;pt<P;j=pt+=1)L=s[f++],z=(j-j%o)/o,W=j<o?0:kt[Z-o],$=D&&kt[(D-1)*P+z*o+j%o],kt[Z++]=(L+Math.floor((W+$)/2))%256;break;case 4:for(j=Ut=0;Ut<P;j=Ut+=1)L=s[f++],z=(j-j%o)/o,0===D?$=q=0:($=kt[(D-1)*P+z*o+j%o],q=z&&kt[(D-1)*P+(z-1)*o+j%o]),gt=(W=j<o?0:kt[Z-o])+$-q,It=Math.abs(gt-W),Y=Math.abs(gt-$),Tt=Math.abs(gt-q),kt[Z++]=(L+(It<=Y&&It<=Tt?W:Y<=Tt?$:q))%256;break;default:throw new Error("Invalid filter algorithm: "+s[f-1])}if(!I){var K=((k+D*M)*w.width+y)*o,G=D*P;for(j=0;j<Qt;j+=1){for(var At=0;At<o;At+=1)p[K++]=kt[G++];K+=(v-1)*o}}D++}}return s=ui(s),1==w.interlaceMethod?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),p},e.prototype.decodePalette=function(){var s,o,p,f,w,b,y,k,v;for(p=this.palette,b=this.transparency.indexed||[],w=new Uint8Array((b.length||0)+p.length),f=0,s=0,o=y=0,k=p.length;y<k;o=y+=3)w[f++]=p[o],w[f++]=p[o+1],w[f++]=p[o+2],w[f++]=null!=(v=b[s++])?v:255;return w},e.prototype.copyToImageData=function(s,o){var p,f,w,b,y,k,v,M,L,Z,z;if(f=this.colors,L=null,p=this.hasAlphaChannel,this.palette.length&&(L=null!=(z=this._decodedPalette)?z:this._decodedPalette=this.decodePalette(),f=4,p=!0),M=(w=s.data||s).length,y=L||o,b=k=0,1===f)for(;b<M;)v=L?4*o[b/4]:k,Z=y[v++],w[b++]=Z,w[b++]=Z,w[b++]=Z,w[b++]=p?y[v++]:255,k=v;else for(;b<M;)v=L?4*o[b/4]:k,w[b++]=y[v++],w[b++]=y[v++],w[b++]=y[v++],w[b++]=p?y[v++]:255,k=v},e.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var A=function(){if("[object Window]"===Object.prototype.toString.call(fe)){try{i=fe.document.createElement("canvas"),n=i.getContext("2d")}catch{return!1}return!0}return!1};return A(),r=function(s){var o;if(!0===A())return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=i.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},e.prototype.decodeFrames=function(s){var o,p,f,w,b,y,k,v;if(this.animation){for(v=[],p=b=0,y=(k=this.animation.frames).length;b<y;p=++b)f=s.createImageData((o=k[p]).width,o.height),w=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(f,w),o.imageData=f,v.push(o.image=r(f));return v}},e.prototype.renderFrame=function(s,o){var p,f,w;return p=(f=this.animation.frames)[o],w=f[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===w?.disposeOp?s.clearRect(w.xOffset,w.yOffset,w.width,w.height):2===w?.disposeOp&&s.putImageData(w.imageData,w.xOffset,w.yOffset),0===p.blendOp&&s.clearRect(p.xOffset,p.yOffset,p.width,p.height),s.drawImage(p.image,p.xOffset,p.yOffset)},e.prototype.animate=function(s){var o,p,f,w,b,y,k=this;return p=0,w=(y=this.animation).numFrames,f=y.frames,b=y.numPlays,(o=function(){var v,M;if(v=p++%w,M=f[v],k.renderFrame(s,v),w>1&&p/w<b)return k.animation._timeout=setTimeout(o,M.delay)})()},e.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},e.prototype.render=function(s){var o,p;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(p=o.createImageData(this.width,this.height),this.copyToImageData(p,this.decodePixels()),o.putImageData(p,0,0))},e}();function yp(r){var i=0;if(71!==r[i++]||73!==r[i++]||70!==r[i++]||56!==r[i++]||56!=(r[i++]+1&253)||97!==r[i++])throw new Error("Invalid GIF 87a/89a header.");var n=r[i++]|r[i++]<<8,e=r[i++]|r[i++]<<8,A=r[i++],o=1<<1+(7&A);i++,i++;var p=null,f=null;A>>7&&(p=i,f=o,i+=3*o);var w=!0,b=[],y=0,k=null,v=0,M=null;for(this.width=n,this.height=e;w&&i<r.length;)switch(r[i++]){case 33:switch(r[i++]){case 255:if(11!==r[i]||78==r[i+1]&&69==r[i+2]&&84==r[i+3]&&83==r[i+4]&&67==r[i+5]&&65==r[i+6]&&80==r[i+7]&&69==r[i+8]&&50==r[i+9]&&46==r[i+10]&&48==r[i+11]&&3==r[i+12]&&1==r[i+13]&&0==r[i+16])i+=14,M=r[i++]|r[i++]<<8,i++;else for(i+=12;;){if(!((D=r[i++])>=0))throw Error("Invalid block size");if(0===D)break;i+=D}break;case 249:if(4!==r[i++]||0!==r[i+4])throw new Error("Invalid graphics extension block.");var L=r[i++];y=r[i++]|r[i++]<<8,k=r[i++],!(1&L)&&(k=null),v=L>>2&7,i++;break;case 254:for(;;){if(!((D=r[i++])>=0))throw Error("Invalid block size");if(0===D)break;i+=D}break;default:throw new Error("Unknown graphic control label: 0x"+r[i-1].toString(16))}break;case 44:var Z=r[i++]|r[i++]<<8,z=r[i++]|r[i++]<<8,j=r[i++]|r[i++]<<8,W=r[i++]|r[i++]<<8,it=r[i++],gt=it>>6&1,It=1<<1+(7&it),ut=p,Y=f,Tt=!1;it>>7&&(Tt=!0,ut=i,Y=It,i+=3*It);var kt=i;for(i++;;){var D;if(!((D=r[i++])>=0))throw Error("Invalid block size");if(0===D)break;i+=D}b.push({x:Z,y:z,width:j,height:W,has_local_palette:Tt,palette_offset:ut,palette_size:Y,data_offset:kt,data_length:i-kt,transparent_index:k,interlaced:!!gt,delay:y,disposal:v});break;case 59:w=!1;break;default:throw new Error("Unknown gif block: 0x"+r[i-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return M},this.frameInfo=function(P){if(P<0||P>=b.length)throw new Error("Frame index out of range.");return b[P]},this.decodeAndBlitFrameBGRA=function(P,$){var q=this.frameInfo(P),Ct=q.width*q.height,_t=new Uint8Array(Ct);nd(r,q.data_offset,_t,Ct);var xt=q.palette_offset,pt=q.transparent_index;null===pt&&(pt=256);var Ut=q.width,Qt=n-Ut,Wt=Ut,I=4*(q.y*n+q.x),K=4*((q.y+q.height)*n+q.x),G=I,At=4*Qt;!0===q.interlaced&&(At+=4*n*7);for(var at=8,ft=0,mt=_t.length;ft<mt;++ft){var wt=_t[ft];if(0===Wt&&(Wt=Ut,(G+=At)>=K&&(At=4*Qt+4*n*(at-1),G=I+(Ut+Qt)*(at<<1),at>>=1)),wt===pt)G+=4;else{var Zt=r[xt+3*wt],Ht=r[xt+3*wt+1];$[G++]=r[xt+3*wt+2],$[G++]=Ht,$[G++]=Zt,$[G++]=255}--Wt}},this.decodeAndBlitFrameRGBA=function(P,$){var q=this.frameInfo(P),Ct=q.width*q.height,_t=new Uint8Array(Ct);nd(r,q.data_offset,_t,Ct);var xt=q.palette_offset,pt=q.transparent_index;null===pt&&(pt=256);var Ut=q.width,Qt=n-Ut,Wt=Ut,I=4*(q.y*n+q.x),K=4*((q.y+q.height)*n+q.x),G=I,At=4*Qt;!0===q.interlaced&&(At+=4*n*7);for(var at=8,ft=0,mt=_t.length;ft<mt;++ft){var wt=_t[ft];if(0===Wt&&(Wt=Ut,(G+=At)>=K&&(At=4*Qt+4*n*(at-1),G=I+(Ut+Qt)*(at<<1),at>>=1)),wt===pt)G+=4;else{var Ht=r[xt+3*wt+1],Ae=r[xt+3*wt+2];$[G++]=r[xt+3*wt],$[G++]=Ht,$[G++]=Ae,$[G++]=255}--Wt}}}function nd(r,i,n,e){for(var A=r[i++],s=1<<A,o=s+1,p=o+1,f=A+1,w=(1<<f)-1,b=0,y=0,k=0,v=r[i++],M=new Int32Array(4096),L=null;;){for(;b<16&&0!==v;)y|=r[i++]<<b,b+=8,1===v?v=r[i++]:--v;if(b<f)break;var Z=y&w;if(y>>=f,b-=f,Z!==s){if(Z===o)break;for(var z=Z<p?Z:L,j=0,W=z;W>s;)W=M[W]>>8,++j;var it=W;if(k+j+(z!==Z?1:0)>e)return void rA.log("Warning, gif stream longer than expected.");n[k++]=it;var gt=k+=j;for(z!==Z&&(n[k++]=it),W=z;j--;)n[--gt]=255&(W=M[W]),W>>=8;null!==L&&p<4096&&(M[p++]=L<<8|it,p>=w+1&&f<12&&(++f,w=w<<1|1)),L=Z}else p=o+1,w=(1<<(f=A+1))-1,L=null}return k!==e&&rA.log("Warning, gif stream shorter than expected."),n}function Wc(r){var i,n,e,A,s,o=Math.floor,p=new Array(64),f=new Array(64),w=new Array(64),b=new Array(64),y=new Array(65535),k=new Array(65535),v=new Array(64),M=new Array(64),L=[],Z=0,z=7,j=new Array(64),W=new Array(64),it=new Array(64),gt=new Array(256),It=new Array(2048),ut=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Tt=[0,1,2,3,4,5,6,7,8,9,10,11],kt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ct=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _t(I,K){for(var G=0,At=0,at=new Array,ft=1;ft<=16;ft++){for(var mt=1;mt<=I[ft];mt++)at[K[At]]=[],at[K[At]][0]=G,at[K[At]][1]=ft,At++,G++;G*=2}return at}function xt(I){for(var K=I[0],G=I[1]-1;G>=0;)K&1<<G&&(Z|=1<<z),G--,--z<0&&(255==Z?(pt(255),pt(0)):pt(Z),z=7,Z=0)}function pt(I){L.push(I)}function Ut(I){pt(I>>8&255),pt(255&I)}function Qt(I,K,G,At,at){for(var ft,mt=at[0],wt=at[240],Zt=function(Pt,Rt){var $t,Yt,de,Qe,Ee,Ne,Je,hA,xe,Pe,te=0;for(xe=0;xe<8;++xe){var xn=($t=Pt[te])+(hA=Pt[te+7]),We=$t-hA,jr=(Yt=Pt[te+1])+(Je=Pt[te+6]),mA=Yt-Je,kA=(de=Pt[te+2])+(Ne=Pt[te+5]),yi=de-Ne,sA=(Qe=Pt[te+3])+(Ee=Pt[te+4]),Zo=Qe-Ee,OA=xn+sA,Rr=xn-sA,ss=jr+kA,PA=jr-kA;Pt[te]=OA+ss,Pt[te+4]=OA-ss;var Fe=.707106781*(PA+Rr);Pt[te+2]=Rr+Fe,Pt[te+6]=Rr-Fe;var oA=.382683433*((OA=Zo+yi)-(PA=mA+We)),jo=.5411961*OA+oA,fn=1.306562965*PA+oA,xi=.707106781*(ss=yi+mA),Ti=We+xi,_e=We-xi;Pt[te+5]=_e+jo,Pt[te+3]=_e-jo,Pt[te+1]=Ti+fn,Pt[te+7]=Ti-fn,te+=8}for(te=0,xe=0;xe<8;++xe){var Kr=($t=Pt[te])+(hA=Pt[te+56]),ki=$t-hA,Kn=(Yt=Pt[te+8])+(Je=Pt[te+48]),an=Yt-Je,WA=(de=Pt[te+16])+(Ne=Pt[te+40]),rr=de-Ne,Va=(Qe=Pt[te+24])+(Ee=Pt[te+32]),os=Qe-Ee,Gr=Kr+Va,Jr=Kr-Va,Yr=Kn+WA,Qi=Kn-WA;Pt[te]=Gr+Yr,Pt[te+32]=Gr-Yr;var br=.707106781*(Qi+Jr);Pt[te+16]=Jr+br,Pt[te+48]=Jr-br;var Fi=.382683433*((Gr=os+rr)-(Qi=an+ki)),Ro=.5411961*Gr+Fi,Wa=1.306562965*Qi+Fi,Xa=.707106781*(Yr=rr+an),$a=ki+Xa,tc=ki-Xa;Pt[te+40]=tc+Ro,Pt[te+24]=tc-Ro,Pt[te+8]=$a+Wa,Pt[te+56]=$a-Wa,te++}for(xe=0;xe<64;++xe)v[xe]=(Pe=Pt[xe]*Rt[xe])>0?Pe+.5|0:Pe-.5|0;return v}(I,K),Ht=0;Ht<64;++Ht)M[ut[Ht]]=Zt[Ht];var Ae=M[0]-G;G=M[0],0==Ae?xt(At[0]):(xt(At[k[ft=32767+Ae]]),xt(y[ft]));for(var ie=63;ie>0&&0==M[ie];)ie--;if(0==ie)return xt(mt),G;for(var ve,yt=1;yt<=ie;){for(var J=yt;0==M[yt]&&yt<=ie;)++yt;var Ie=yt-J;if(Ie>=16){ve=Ie>>4;for(var ce=1;ce<=ve;++ce)xt(wt);Ie&=15}xt(at[(Ie<<4)+k[ft=32767+M[yt]]]),xt(y[ft]),yt++}return 63!=ie&&xt(mt),G}function Wt(I){I=Math.min(Math.max(I,1),100),s!=I&&(function(K){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],At=0;At<64;At++){var at=o((G[At]*K+50)/100);at=Math.min(Math.max(at,1),255),p[ut[At]]=at}for(var ft=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],mt=0;mt<64;mt++){var wt=o((ft[mt]*K+50)/100);wt=Math.min(Math.max(wt,1),255),f[ut[mt]]=wt}for(var Zt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ht=0,Ae=0;Ae<8;Ae++)for(var ie=0;ie<8;ie++)w[Ht]=1/(p[ut[Ht]]*Zt[Ae]*Zt[ie]*8),b[Ht]=1/(f[ut[Ht]]*Zt[Ae]*Zt[ie]*8),Ht++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,K){var Yt,de;K&&Wt(K),L=new Array,Z=0,z=7,Ut(65496),Ut(65504),Ut(16),pt(74),pt(70),pt(73),pt(70),pt(0),pt(1),pt(1),pt(0),Ut(1),Ut(1),pt(0),pt(0),function(){Ut(65499),Ut(132),pt(0);for(var Yt=0;Yt<64;Yt++)pt(p[Yt]);pt(1);for(var de=0;de<64;de++)pt(f[de])}(),Yt=I.width,de=I.height,Ut(65472),Ut(17),pt(8),Ut(de),Ut(Yt),pt(3),pt(1),pt(17),pt(0),pt(2),pt(17),pt(1),pt(3),pt(17),pt(1),function(){Ut(65476),Ut(418),pt(0);for(var Yt=0;Yt<16;Yt++)pt(Y[Yt+1]);for(var de=0;de<=11;de++)pt(Tt[de]);pt(16);for(var Qe=0;Qe<16;Qe++)pt(kt[Qe+1]);for(var Ee=0;Ee<=161;Ee++)pt(D[Ee]);pt(1);for(var Ne=0;Ne<16;Ne++)pt(P[Ne+1]);for(var Je=0;Je<=11;Je++)pt($[Je]);pt(17);for(var hA=0;hA<16;hA++)pt(q[hA+1]);for(var xe=0;xe<=161;xe++)pt(Ct[xe])}(),Ut(65498),Ut(12),pt(3),pt(1),pt(0),pt(2),pt(17),pt(3),pt(17),pt(0),pt(63),pt(0);var G=0,At=0,at=0;Z=0,z=7,this.encode.displayName="_encode_";for(var ft,mt,wt,Zt,Ht,Ae,ie,ve,yt,J=I.data,ce=I.height,Pt=4*I.width,Rt=0;Rt<ce;){for(ft=0;ft<Pt;){for(Ht=Pt*Rt+ft,ie=-1,ve=0,yt=0;yt<64;yt++)Ae=Ht+(ve=yt>>3)*Pt+(ie=4*(7&yt)),Rt+ve>=ce&&(Ae-=Pt*(Rt+1+ve-ce)),ft+ie>=Pt&&(Ae-=ft+ie-Pt+4),mt=J[Ae++],wt=J[Ae++],Zt=J[Ae++],j[yt]=(It[mt]+It[wt+256>>0]+It[Zt+512>>0]>>16)-128,W[yt]=(It[mt+768>>0]+It[wt+1024>>0]+It[Zt+1280>>0]>>16)-128,it[yt]=(It[mt+1280>>0]+It[wt+1536>>0]+It[Zt+1792>>0]>>16)-128;G=Qt(j,w,G,i,e),At=Qt(W,b,At,n,A),at=Qt(it,b,at,n,A),ft+=32}Rt+=8}if(z>=0){var $t=[];$t[1]=z+1,$t[0]=(1<<z+1)-1,xt($t)}return Ut(65497),new Uint8Array(L)},r=r||50,function(){for(var I=String.fromCharCode,K=0;K<256;K++)gt[K]=I(K)}(),i=_t(Y,Tt),n=_t(P,$),e=_t(kt,D),A=_t(q,Ct),function(){for(var I=1,K=2,G=1;G<=15;G++){for(var At=I;At<K;At++)k[32767+At]=G,y[32767+At]=[],y[32767+At][1]=G,y[32767+At][0]=At;for(var at=-(K-1);at<=-I;at++)k[32767+at]=G,y[32767+at]=[],y[32767+at][1]=G,y[32767+at][0]=K-1+at;I<<=1,K<<=1}}(),function(){for(var I=0;I<256;I++)It[I]=19595*I,It[I+256>>0]=38470*I,It[I+512>>0]=7471*I+32768,It[I+768>>0]=-11059*I,It[I+1024>>0]=-21709*I,It[I+1280>>0]=32768*I+8421375,It[I+1536>>0]=-27439*I,It[I+1792>>0]=-5329*I}(),Wt(r)}function Ar(r,i){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!i,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function rd(r){function i(Y){if(!Y)throw Error("assert :P")}function n(Y,Tt,kt){for(var D=0;4>D;D++)if(Y[Tt+D]!=kt.charCodeAt(D))return!0;return!1}function e(Y,Tt,kt,D,P){for(var $=0;$<P;$++)Y[Tt+$]=kt[D+$]}function A(Y,Tt,kt,D){for(var P=0;P<D;P++)Y[Tt+P]=kt}function s(Y){return new Int32Array(Y)}function o(Y,Tt){for(var kt=[],D=0;D<Y;D++)kt.push(new Tt);return kt}function p(Y,Tt){var kt=[];return function D(P,$,q){for(var Ct=q[$],_t=0;_t<Ct&&(P.push(q.length>$+1?[]:new Tt),!(q.length<$+1));_t++)D(P[_t],$+1,q)}(kt,0,Y),kt}var f=function(){var Y=this;function Tt(a,h){for(var m=1<<h-1>>>0;a&m;)m>>>=1;return m?(a&m-1)+m:a}function kt(a,h,m,C,x){i(!(C%m));do{a[h+(C-=m)]=x}while(0<C)}function D(a,h,m,C,x){if(i(2328>=x),512>=x)var F=s(512);else if(null==(F=s(x)))return 0;return function(U,S,E,H,tt,dt){var ht,st,Lt=S,vt=1<<E,et=s(16),nt=s(16);for(i(0!=tt),i(null!=H),i(null!=U),i(0<E),st=0;st<tt;++st){if(15<H[st])return 0;++et[H[st]]}if(et[0]==tt)return 0;for(nt[1]=0,ht=1;15>ht;++ht){if(et[ht]>1<<ht)return 0;nt[ht+1]=nt[ht]+et[ht]}for(st=0;st<tt;++st)ht=H[st],0<H[st]&&(dt[nt[ht]++]=st);if(1==nt[15])return(H=new P).g=0,H.value=dt[0],kt(U,Lt,1,vt,H),vt;var St,Mt=-1,zt=vt-1,re=0,Kt=1,ge=1,Jt=1<<E;for(st=0,ht=1,tt=2;ht<=E;++ht,tt<<=1){if(Kt+=ge<<=1,0>(ge-=et[ht]))return 0;for(;0<et[ht];--et[ht])(H=new P).g=ht,H.value=dt[st++],kt(U,Lt+re,tt,Jt,H),re=Tt(re,ht)}for(ht=E+1,tt=2;15>=ht;++ht,tt<<=1){if(Kt+=ge<<=1,0>(ge-=et[ht]))return 0;for(;0<et[ht];--et[ht]){if(H=new P,(re&zt)!=Mt){for(Lt+=Jt,St=1<<(Mt=ht)-E;15>Mt&&!(0>=(St-=et[Mt]));)++Mt,St<<=1;vt+=Jt=1<<(St=Mt-E),U[S+(Mt=re&zt)].g=St+E,U[S+Mt].value=Lt-S-Mt}H.g=ht-E,H.value=dt[st++],kt(U,Lt+(re>>E),tt,Jt,H),re=Tt(re,ht)}}return Kt!=2*nt[15]-1?0:vt}(a,h,m,C,x,F)}function P(){this.value=this.g=0}function $(){this.value=this.g=0}function q(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Jn,$)}function Ct(a,h,m,C){i(null!=a),i(null!=h),i(2147483648>C),a.Ca=254,a.I=0,a.b=-8,a.Ka=0,a.oa=h,a.pa=m,a.Jd=h,a.Yc=m+C,a.Zc=4<=C?m+C-4+1:m,ft(a)}function _t(a,h){for(var m=0;0<h--;)m|=wt(a,128)<<h;return m}function xt(a,h){var m=_t(a,h);return mt(a)?-m:m}function pt(a,h,m,C){var x,F=0;for(i(null!=a),i(null!=h),i(4294967288>C),a.Sb=C,a.Ra=0,a.u=0,a.h=0,4<C&&(C=4),x=0;x<C;++x)F+=h[m+x]<<8*x;a.Ra=F,a.bb=C,a.oa=h,a.pa=m}function Ut(a){for(;8<=a.u&&a.bb<a.Sb;)a.Ra>>>=8,a.Ra+=a.oa[a.pa+a.bb]<<fc-8>>>0,++a.bb,a.u-=8;G(a)&&(a.h=1,a.u=0)}function Qt(a,h){if(i(0<=h),!a.h&&h<=pc){var m=K(a)&hc[h];return a.u+=h,Ut(a),m}return a.h=1,a.u=0}function Wt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(a){return a.Ra>>>(a.u&fc-1)>>>0}function G(a){return i(a.bb<=a.Sb),a.h||a.bb==a.Sb&&a.u>fc}function At(a,h){a.u=h,a.h=G(a)}function at(a){a.u>=Kl&&(i(a.u>=Kl),Ut(a))}function ft(a){i(null!=a&&null!=a.oa),a.pa<a.Zc?(a.I=(a.oa[a.pa++]|a.I<<8)>>>0,a.b+=8):(i(null!=a&&null!=a.oa),a.pa<a.Yc?(a.b+=8,a.I=a.oa[a.pa++]|a.I<<8):a.Ka?a.b=0:(a.I<<=8,a.b+=8,a.Ka=1))}function mt(a){return _t(a,1)}function wt(a,h){var m=a.Ca;0>a.b&&ft(a);var C=a.b,x=m*h>>>8,F=(a.I>>>C>x)+0;for(F?(m-=x,a.I-=x+1<<C>>>0):m=x+1,C=m,x=0;256<=C;)x+=8,C>>=8;return a.b-=C=7^x+Yn[C],a.Ca=(m<<C)-1,F}function Zt(a,h,m){a[h+0]=m>>24&255,a[h+1]=m>>16&255,a[h+2]=m>>8&255,a[h+3]=m>>0&255}function Ht(a,h){return a[h+0]<<0|a[h+1]<<8}function Ae(a,h){return Ht(a,h)|a[h+2]<<16}function ie(a,h){return Ht(a,h)|Ht(a,h+2)<<16}function ve(a,h){var m=1<<h;return i(null!=a),i(0<h),a.X=s(m),null==a.X?0:(a.Mb=32-h,a.Xa=h,1)}function yt(a,h){i(null!=a),i(null!=h),i(a.Xa==h.Xa),e(h.X,0,a.X,0,1<<h.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function Ie(a,h,m,C){i(null!=m),i(null!=C);var x=m[0],F=C[0];return 0==x&&(x=(a*F+h/2)/h),0==F&&(F=(h*x+a/2)/a),0>=x||0>=F?0:(m[0]=x,C[0]=F,1)}function ce(a,h){return a+(1<<h)-1>>>h}function Pt(a,h){return((4278255360&a)+(4278255360&h)>>>0&4278255360)+((16711935&a)+(16711935&h)>>>0&16711935)>>>0}function Rt(a,h){Y[h]=function(m,C,x,F,U,S,E){var H;for(H=0;H<U;++H){var tt=Y[a](S[E+H-1],x,F+H);S[E+H]=Pt(m[C+H],tt)}}}function $t(){this.ud=this.hd=this.jd=0}function Yt(a,h){return((4278124286&(a^h))>>>1)+(a&h)>>>0}function de(a){return 0<=a&&256>a?a:0>a?0:255<a?255:void 0}function Qe(a,h){return de(a+(a-h+.5>>1))}function Ee(a,h,m){return Math.abs(h-m)-Math.abs(a-m)}function Ne(a,h,m,C,x,F,U){for(C=F[U-1],m=0;m<x;++m)F[U+m]=C=Pt(a[h+m],C)}function Je(a,h,m,C,x){var F;for(F=0;F<m;++F){var U=a[h+F],S=U>>8&255,E=16711935&(E=(E=16711935&U)+((S<<16)+S));C[x+F]=(4278255360&U)+E>>>0}}function hA(a,h){h.jd=a>>0&255,h.hd=a>>8&255,h.ud=a>>16&255}function xe(a,h,m,C,x,F){var U;for(U=0;U<C;++U){var S=h[m+U],E=S>>>8,H=S,tt=255&(tt=(tt=S>>>16)+((a.jd<<24>>24)*(E<<24>>24)>>>5));H=255&(H=(H+=(a.hd<<24>>24)*(E<<24>>24)>>>5)+((a.ud<<24>>24)*(tt<<24>>24)>>>5)),x[F+U]=(4278255360&S)+(tt<<16)+H}}function Pe(a,h,m,C,x){Y[h]=function(F,U,S,E,H,tt,dt,ht,st){for(E=dt;E<ht;++E)for(dt=0;dt<st;++dt)H[tt++]=x(S[C(F[U++])])},Y[a]=function(F,U,S,E,H,tt,dt){var ht=8>>F.b,st=F.Ea,Lt=F.K[0],vt=F.w;if(8>ht)for(F=(1<<F.b)-1,vt=(1<<ht)-1;U<S;++U){var et,nt=0;for(et=0;et<st;++et)et&F||(nt=C(E[H++])),tt[dt++]=x(Lt[nt&vt]),nt>>=ht}else Y["VP8LMapColor"+m](E,H,Lt,vt,tt,dt,U,S,st)}}function te(a,h,m,C,x){for(m=h+m;h<m;){var F=a[h++];C[x++]=F>>16&255,C[x++]=F>>8&255,C[x++]=F>>0&255}}function xn(a,h,m,C,x){for(m=h+m;h<m;){var F=a[h++];C[x++]=F>>16&255,C[x++]=F>>8&255,C[x++]=F>>0&255,C[x++]=F>>24&255}}function We(a,h,m,C,x){for(m=h+m;h<m;){var F=(U=a[h++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;C[x++]=F,C[x++]=U}}function jr(a,h,m,C,x){for(m=h+m;h<m;){var F=(U=a[h++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;C[x++]=F,C[x++]=U}}function mA(a,h,m,C,x){for(m=h+m;h<m;){var F=a[h++];C[x++]=F>>0&255,C[x++]=F>>8&255,C[x++]=F>>16&255}}function kA(a,h,m,C,x,F){if(0==F)for(m=h+m;h<m;)Zt(C,((F=a[h++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),x+=32;else e(C,x,a,h,m)}function yi(a,h){Y[h][0]=Y[a+"0"],Y[h][1]=Y[a+"1"],Y[h][2]=Y[a+"2"],Y[h][3]=Y[a+"3"],Y[h][4]=Y[a+"4"],Y[h][5]=Y[a+"5"],Y[h][6]=Y[a+"6"],Y[h][7]=Y[a+"7"],Y[h][8]=Y[a+"8"],Y[h][9]=Y[a+"9"],Y[h][10]=Y[a+"10"],Y[h][11]=Y[a+"11"],Y[h][12]=Y[a+"12"],Y[h][13]=Y[a+"13"],Y[h][14]=Y[a+"0"],Y[h][15]=Y[a+"0"]}function sA(a){return a==Wg||a==Xg||a==Qh||a==$g}function Zo(){this.eb=[],this.size=this.A=this.fb=0}function OA(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zo,this.f.kb=new OA,this.sd=null}function ss(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function PA(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Fe(a){return alert("todo:WebPSamplerProcessPlane"),a.T}function oA(a,h){var m=a.T,C=h.ba.f.RGBA,x=C.eb,F=C.fb+a.ka*C.A,U=kr[h.ba.S],S=a.y,E=a.O,H=a.f,tt=a.N,dt=a.ea,ht=a.W,st=h.cc,Lt=h.dc,vt=h.Mc,et=h.Nc,nt=a.ka,St=a.ka+a.T,Mt=a.U,zt=Mt+1>>1;for(0==nt?U(S,E,null,null,H,tt,dt,ht,H,tt,dt,ht,x,F,null,null,Mt):(U(h.ec,h.fc,S,E,st,Lt,vt,et,H,tt,dt,ht,x,F-C.A,x,F,Mt),++m);nt+2<St;nt+=2)U(S,(E+=2*a.fa)-a.fa,S,E,st=H,Lt=tt,vt=dt,et=ht,H,tt+=a.Rc,dt,ht+=a.Rc,x,(F+=2*C.A)-C.A,x,F,Mt);return E+=a.fa,a.j+St<a.o?(e(h.ec,h.fc,S,E,Mt),e(h.cc,h.dc,H,tt,zt),e(h.Mc,h.Nc,dt,ht,zt),m--):1&St||U(S,E,null,null,H,tt,dt,ht,H,tt,dt,ht,x,F+C.A,null,null,Mt),m}function jo(a,h,m){var C=a.F,x=[a.J];if(null!=C){var F=a.U,U=h.ba.S,S=U==kh||U==Qh;h=h.ba.f.RGBA;var E=[0],H=a.ka;E[0]=a.T,a.Kb&&(0==H?--E[0]:(--H,x[0]-=a.width),a.j+a.ka+a.T==a.o&&(E[0]=a.o-a.j-H));var tt=h.eb;a=Bh(C,x[0],a.width,F,E,tt,(H=h.fb+H*h.A)+(S?0:3),h.A),i(m==E),a&&sA(U)&&Xs(tt,H,S,F,E,h.A)}return 0}function fn(a){var h=a.ma,m=h.ba.S,C=11>m,x=m==xh||m==Th||m==kh||m==Vg||12==m||sA(m);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!jl(h.Oa,a,x?11:12))return 0;if(x&&sA(m)&&Nt(),a.da)alert("todo:use_scaling");else{if(C){if(h.Ib=Fe,a.Kb){if(h.memory=s(a.U+2*(m=a.U+1>>1)),null==h.memory)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+a.U,h.Mc=h.cc,h.Nc=h.dc+m,h.Ib=oA,Nt()}}else alert("todo:EmitYUV");x&&(h.Jb=jo,C&&ct())}if(C&&!nm){for(a=0;256>a;++a)ow[a]=89858*(a-128)+Uh>>Fh,lw[a]=-22014*(a-128)+Uh,cw[a]=-45773*(a-128),aw[a]=113618*(a-128)+Uh>>Fh;for(a=Wl;a<A1;++a)uw[a-Wl]=ir(h=76283*(a-16)+Uh>>Fh,255),dw[a-Wl]=ir(h+8>>4,15);nm=1}return 1}function xi(a){var h=a.ma,m=a.U,C=a.T;return i(!(1&a.ka)),0>=m||0>=C?0:(m=h.Ib(a,h),null!=h.Jb&&h.Jb(a,h,m),h.Dc+=m,1)}function Ti(a){a.ma.memory=null}function _e(a,h,m,C){return 47!=Qt(a,8)?0:(h[0]=Qt(a,14)+1,m[0]=Qt(a,14)+1,C[0]=Qt(a,1),0!=Qt(a,3)?0:!a.h)}function Kr(a,h){if(4>a)return a+1;var m=a-2>>1;return(2+(1&a)<<m)+Qt(h,m)+1}function ki(a,h){return 120<h?h-120:1<=(m=((m=J_[h-1])>>4)*a+(8-(15&m)))?m:1;var m}function Kn(a,h,m){var C=K(m),x=a[h+=255&C].g-8;return 0<x&&(At(m,m.u+8),C=K(m),h+=a[h].value,h+=C&(1<<x)-1),At(m,m.u+a[h].g),a[h].value}function an(a,h,m){return m.g+=a.g,m.value+=a.value<<h>>>0,i(8>=m.g),a.g}function WA(a,h,m){var C=a.xc;return i((h=0==C?0:a.vc[a.md*(m>>C)+(h>>C)])<a.Wb),a.Ya[h]}function rr(a,h,m,C){var x=a.ab,F=a.c*h,U=a.C;h=U+h;var S=m,E=C;for(C=a.Ta,m=a.Ua;0<x--;){var H=a.gc[x],tt=U,dt=h,ht=S,st=E,Lt=(E=C,S=m,H.Ea);switch(i(tt<dt),i(dt<=H.nc),H.hc){case 2:Ch(ht,st,(dt-tt)*Lt,E,S);break;case 0:var vt=tt,et=dt,nt=E,St=S,Mt=(Jt=H).Ea;0==vt&&(Gg(ht,st,null,null,1,nt,St),Ne(ht,st+1,0,0,Mt-1,nt,St+1),st+=Mt,St+=Mt,++vt);for(var zt=1<<Jt.b,re=zt-1,Kt=ce(Mt,Jt.b),ge=Jt.K,Jt=Jt.w+(vt>>Jt.b)*Kt;vt<et;){var nA=ge,uA=Jt,Ye=1;for(Gl(ht,st,nt,St-Mt,1,nt,St);Ye<Mt;){var He=(Ye&~re)+zt;He>Mt&&(He=Mt),(0,Ys[nA[uA++]>>8&15])(ht,st+ +Ye,nt,St+Ye-Mt,He-Ye,nt,St+Ye),Ye=He}st+=Mt,St+=Mt,++vt&re||(Jt+=Kt)}dt!=H.nc&&e(E,S-Lt,E,S+(dt-tt-1)*Lt,Lt);break;case 1:for(Lt=ht,et=st,Mt=(ht=H.Ea)-(St=ht&~(nt=(st=1<<H.b)-1)),vt=ce(ht,H.b),zt=H.K,H=H.w+(tt>>H.b)*vt;tt<dt;){for(re=zt,Kt=H,ge=new $t,Jt=et+St,nA=et+ht;et<Jt;)hA(re[Kt++],ge),yr(ge,Lt,et,st,E,S),et+=st,S+=st;et<nA&&(hA(re[Kt++],ge),yr(ge,Lt,et,Mt,E,S),et+=Mt,S+=Mt),++tt&nt||(H+=vt)}break;case 3:if(ht==E&&st==S&&0<H.b){for(et=E,ht=Lt=S+(dt-tt)*Lt-(St=(dt-tt)*ce(H.Ea,H.b)),st=E,nt=S,vt=[],St=(Mt=St)-1;0<=St;--St)vt[St]=st[nt+St];for(St=Mt-1;0<=St;--St)et[ht+St]=vt[St];Xr(H,tt,dt,E,Lt,E,S)}else Xr(H,tt,dt,ht,st,E,S)}S=C,E=m}E!=m&&e(C,m,S,E,F)}function Va(a,h){var m=a.V,C=a.Ba+a.c*a.C,x=h-a.C;if(i(h<=a.l.o),i(16>=x),0<x){var F=a.l,U=a.Ta,S=a.Ua,E=F.width;if(rr(a,x,m,C),x=S=[S],i((m=a.C)<(C=h)),i(F.v<F.va),C>F.o&&(C=F.o),m<F.j){var H=F.j-m;m=F.j,x[0]+=H*E}if(m>=C?m=0:(x[0]+=4*F.v,F.ka=m-F.j,F.U=F.va-F.v,F.T=C-m,m=1),m){if(S=S[0],11>(m=a.ca).S){var tt=m.f.RGBA,dt=(C=m.S,x=F.U,F=F.T,H=tt.eb,tt.A),ht=F;for(tt=tt.fb+a.Ma*tt.A;0<ht--;){var st=U,Lt=S,vt=x,et=H,nt=tt;switch(C){case yh:$r(st,Lt,vt,et,nt);break;case xh:qs(st,Lt,vt,et,nt);break;case Wg:qs(st,Lt,vt,et,nt),Xs(et,nt,0,vt,1,0);break;case J1:gc(st,Lt,vt,et,nt);break;case Th:kA(st,Lt,vt,et,nt,1);break;case Xg:kA(st,Lt,vt,et,nt,1),Xs(et,nt,0,vt,1,0);break;case kh:kA(st,Lt,vt,et,nt,0);break;case Qh:kA(st,Lt,vt,et,nt,0),Xs(et,nt,1,vt,1,0);break;case Vg:Ii(st,Lt,vt,et,nt);break;case $g:Ii(st,Lt,vt,et,nt),wc(et,nt,vt,1,0);break;case Y1:us(st,Lt,vt,et,nt);break;default:i(0)}S+=E,tt+=dt}a.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");i(a.Ma<=m.height)}}a.C=h,i(a.C<=a.i)}function os(a){var h;if(0<a.ua)return 0;for(h=0;h<a.Wb;++h){var m=a.Ya[h].G,C=a.Ya[h].H;if(0<m[1][C[1]+0].g||0<m[2][C[2]+0].g||0<m[3][C[3]+0].g)return 0}return 1}function Gr(a,h,m,C,x,F){if(0!=a.Z){var U=a.qd,S=a.rd;for(i(null!=to[a.Z]);h<m;++h)to[a.Z](U,S,C,x,C,x,F),U=C,S=x,x+=F;a.qd=U,a.rd=S}}function Jr(a,h){var m=a.l.ma,C=0==m.Z||1==m.Z?a.l.j:a.C;if(C=a.C<C?C:a.C,i(h<=a.l.o),h>C){var x=a.l.width,F=m.ca,U=m.tb+x*C,S=a.V,E=a.Ba+a.c*C,H=a.gc;i(1==a.ab),i(3==H[0].hc),Jg(H[0],C,h,S,E,F,U),Gr(m,C,h,F,U,x)}a.C=a.Ma=h}function Yr(a,h,m,C,x,F,U){var S=a.$/C,E=a.$%C,H=a.m,tt=a.s,dt=m+a.$,ht=dt;x=m+C*x;var st=m+C*F,Lt=280+tt.ua,vt=a.Pb?S:16777216,et=0<tt.ua?tt.Wa:null,nt=tt.wc,St=dt<st?WA(tt,E,S):null;i(a.C<F),i(st<=x);var Mt=!1;t:for(;;){for(;Mt||dt<st;){var zt=0;if(S>=vt){var re=dt-m;i((vt=a).Pb),vt.wd=vt.m,vt.xd=re,0<vt.s.ua&&yt(vt.s.Wa,vt.s.vb),vt=S+q_}if(E&nt||(St=WA(tt,E,S)),i(null!=St),St.Qb&&(h[dt]=St.qb,Mt=!0),!Mt)if(at(H),St.jc){re=h;var Kt=dt,ge=St.pd[K(zt=H)&Jn-1];i(St.jc),256>ge.g?(At(zt,zt.u+ge.g),re[Kt]=ge.value,zt=0):(At(zt,zt.u+ge.g-256),i(256<=ge.value),zt=ge.value),0==zt&&(Mt=!0)}else zt=Kn(St.G[0],St.H[0],H);if(H.h)break;if(Mt||256>zt){if(!Mt)if(St.nd)h[dt]=(St.qb|zt<<8)>>>0;else{if(at(H),Mt=Kn(St.G[1],St.H[1],H),at(H),re=Kn(St.G[2],St.H[2],H),Kt=Kn(St.G[3],St.H[3],H),H.h)break;h[dt]=(Kt<<24|Mt<<16|zt<<8|re)>>>0}if(Mt=!1,++dt,++E>=C&&(E=0,++S,null!=U&&S<=F&&!(S%16)&&U(a,S),null!=et))for(;ht<dt;)zt=h[ht++],et.X[(506832829*zt&4294967295)>>>et.Mb]=zt}else if(280>zt){if(zt=Kr(zt-256,H),re=Kn(St.G[4],St.H[4],H),at(H),re=ki(C,re=Kr(re,H)),H.h)break;if(dt-m<re||x-dt<zt)break t;for(Kt=0;Kt<zt;++Kt)h[dt+Kt]=h[dt+Kt-re];for(dt+=zt,E+=zt;E>=C;)E-=C,++S,null!=U&&S<=F&&!(S%16)&&U(a,S);if(i(dt<=x),E&nt&&(St=WA(tt,E,S)),null!=et)for(;ht<dt;)zt=h[ht++],et.X[(506832829*zt&4294967295)>>>et.Mb]=zt}else{if(!(zt<Lt))break t;for(Mt=zt-280,i(null!=et);ht<dt;)zt=h[ht++],et.X[(506832829*zt&4294967295)>>>et.Mb]=zt;zt=dt,i(!(Mt>>>(re=et).Xa)),h[zt]=re.X[Mt],Mt=!0}Mt||i(H.h==G(H))}if(a.Pb&&H.h&&dt<x)i(a.m.h),a.a=5,a.m=a.wd,a.$=a.xd,0<a.s.ua&&yt(a.s.vb,a.s.Wa);else{if(H.h)break t;U?.(a,S>F?F:S),a.a=0,a.$=dt-m}return 1}return a.a=3,0}function Qi(a){i(null!=a),a.vc=null,a.yc=null,a.Ya=null;var h=a.Wa;null!=h&&(h.X=null),a.vb=null,i(null!=a)}function br(){var a=new Kg;return null==a?null:(a.a=0,a.xb=W1,yi("Predictor","VP8LPredictors"),yi("Predictor","VP8LPredictors_C"),yi("PredictorAdd","VP8LPredictorsAdd"),yi("PredictorAdd","VP8LPredictorsAdd_C"),Ch=Je,yr=xe,$r=te,qs=xn,Ii=We,us=jr,gc=mA,Y.VP8LMapColor32b=Jl,Y.VP8LMapColor8b=Yg,a)}function Fi(a,h,m,C,x){var F=1,U=[a],S=[h],E=C.m,H=C.s,tt=null,dt=0;t:for(;;){if(m)for(;F&&Qt(E,1);){var ht=U,st=S,Lt=C,vt=1,et=Lt.m,nt=Lt.gc[Lt.ab],St=Qt(et,2);if(Lt.Oc&1<<St)F=0;else{switch(Lt.Oc|=1<<St,nt.hc=St,nt.Ea=ht[0],nt.nc=st[0],nt.K=[null],++Lt.ab,i(4>=Lt.ab),St){case 0:case 1:nt.b=Qt(et,3)+2,vt=Fi(ce(nt.Ea,nt.b),ce(nt.nc,nt.b),0,Lt,nt.K),nt.K=nt.K[0];break;case 3:var Mt,zt=Qt(et,8)+1,re=16<zt?0:4<zt?1:2<zt?2:3;if(ht[0]=ce(nt.Ea,re),nt.b=re,Mt=vt=Fi(zt,1,0,Lt,nt.K)){var Kt,ge=zt,Jt=nt,nA=1<<(8>>Jt.b),uA=s(nA);if(null==uA)Mt=0;else{var Ye=Jt.K[0],He=Jt.w;for(uA[0]=Jt.K[0][0],Kt=1;Kt<1*ge;++Kt)uA[Kt]=Pt(Ye[He+Kt],uA[Kt-1]);for(;Kt<4*nA;++Kt)uA[Kt]=0;Jt.K[0]=null,Jt.K[0]=uA,Mt=1}}vt=Mt;break;case 2:break;default:i(0)}F=vt}}if(U=U[0],S=S[0],F&&Qt(E,1)&&!(F=1<=(dt=Qt(E,4))&&11>=dt)){C.a=3;break t}var _A;if(_A=F)e:{var pA,Le,$A,qn=C,tn=U,Vn=S,dA=dt,or=m,ar=qn.m,dn=qn.s,gn=[null],Ln=1,Qr=0,Si=Y_[dA];A:for(;;){if(or&&Qt(ar,1)){var hn=Qt(ar,3)+2,gs=ce(tn,hn),Wo=ce(Vn,hn),vc=gs*Wo;if(!Fi(gs,Wo,0,qn,gn))break A;for(gn=gn[0],dn.xc=hn,pA=0;pA<vc;++pA){var eo=gn[pA]>>8&65535;gn[pA]=eo,eo>=Ln&&(Ln=eo+1)}}if(ar.h)break A;for(Le=0;5>Le;++Le){var HA=q1[Le];!Le&&0<dA&&(HA+=1<<dA),Qr<HA&&(Qr=HA)}var n1=o(Ln*Si,P),sm=Ln,om=o(sm,q);if(null==om)var Sh=null;else i(65536>=sm),Sh=om;var Xl=s(Qr);if(null==Sh||null==Xl||null==n1){qn.a=1;break A}var zh=n1;for(pA=$A=0;pA<Ln;++pA){var ni=Sh[pA],Cc=ni.G,Bc=ni.H,am=0,Lh=1,cm=0;for(Le=0;5>Le;++Le){HA=q1[Le],Cc[Le]=zh,Bc[Le]=$A,!Le&&0<dA&&(HA+=1<<dA);r:{var Eh,r1=HA,Mh=qn,$l=Xl,fw=zh,gw=$A,i1=0,Ao=Mh.m,mw=Qt(Ao,1);if(A($l,0,0,r1),mw){var _w=Qt(Ao,1)+1,ww=Qt(Ao,1),lm=Qt(Ao,0==ww?1:8);$l[lm]=1,2==_w&&($l[lm=Qt(Ao,8)]=1);var Nh=1}else{var um=s(19),dm=Qt(Ao,4)+4;if(19<dm){Mh.a=3;var Oh=0;break r}for(Eh=0;Eh<dm;++Eh)um[G_[Eh]]=Qt(Ao,3);var s1=void 0,tu=void 0,hm=Mh,vw=um,Ph=r1,pm=$l,o1=0,no=hm.m,fm=8,gm=o(128,P);n:for(;D(gm,0,7,vw,19);){if(Qt(no,1)){var Cw=2+2*Qt(no,3);if((s1=2+Qt(no,Cw))>Ph)break n}else s1=Ph;for(tu=0;tu<Ph&&s1--;){at(no);var mm=gm[0+(127&K(no))];At(no,no.u+mm.g);var bc=mm.value;if(16>bc)pm[tu++]=bc,0!=bc&&(fm=bc);else{var Bw=16==bc,_m=bc-16,bw=R_[_m],wm=Qt(no,j_[_m])+bw;if(tu+wm>Ph)break n;for(var yw=Bw?fm:0;0<wm--;)pm[tu++]=yw}}o1=1;break n}o1||(hm.a=3),Nh=o1}(Nh=Nh&&!Ao.h)&&(i1=D(fw,gw,8,$l,r1)),Nh&&0!=i1?Oh=i1:(Mh.a=3,Oh=0)}if(0==Oh)break A;if(Lh&&1==K_[Le]&&(Lh=0==zh[$A].g),am+=zh[$A].g,$A+=Oh,3>=Le){var eu,a1=Xl[0];for(eu=1;eu<HA;++eu)Xl[eu]>a1&&(a1=Xl[eu]);cm+=a1}}if(ni.nd=Lh,ni.Qb=0,Lh&&(ni.qb=(Cc[3][Bc[3]+0].value<<24|Cc[1][Bc[1]+0].value<<16|Cc[2][Bc[2]+0].value)>>>0,0==am&&256>Cc[0][Bc[0]+0].value&&(ni.Qb=1,ni.qb+=Cc[0][Bc[0]+0].value<<8)),ni.jc=!ni.Qb&&6>cm,ni.jc){var Dh,ms=ni;for(Dh=0;Dh<Jn;++Dh){var ro=Dh,io=ms.pd[ro],Hh=ms.G[0][ms.H[0]+ro];256<=Hh.value?(io.g=Hh.g+256,io.value=Hh.value):(io.g=0,io.value=0,ro>>=an(Hh,8,io),ro>>=an(ms.G[1][ms.H[1]+ro],16,io),ro>>=an(ms.G[2][ms.H[2]+ro],0,io),an(ms.G[3][ms.H[3]+ro],24,io))}}}dn.vc=gn,dn.Wb=Ln,dn.Ya=Sh,dn.yc=n1,_A=1;break e}_A=0}if(!(F=_A)){C.a=3;break t}if(0<dt){if(H.ua=1<<dt,!ve(H.Wa,dt)){C.a=1,F=0;break t}}else H.ua=0;var c1=C,vm=U,xw=S,l1=c1.s,u1=l1.xc;if(c1.c=vm,c1.i=xw,l1.md=ce(vm,u1),l1.wc=0==u1?-1:(1<<u1)-1,m){C.xb=Aw;break t}if(null==(tt=s(U*S))){C.a=1,F=0;break t}F=(F=Yr(C,tt,0,U,S,S,null))&&!E.h;break t}return F?(null!=x?x[0]=tt:(i(null==tt),i(m)),C.$=0,m||Qi(H)):Qi(H),F}function Ro(a,h){var m=a.c*a.i,C=m+h+16*h;return i(a.c<=h),a.V=s(C),null==a.V?(a.Ta=null,a.Ua=0,a.a=1,0):(a.Ta=a.V,a.Ua=a.Ba+m+h,1)}function Wa(a,h){var m=a.C,C=h-m,x=a.V,F=a.Ba+a.c*m;for(i(h<=a.l.o);0<C;){var U=16<C?16:C,S=a.l.ma,E=a.l.width,H=E*U,tt=S.ca,dt=S.tb+E*m,ht=a.Ta,st=a.Ua;rr(a,U,x,F),H1(ht,st,tt,dt,H),Gr(S,m,m+U,tt,dt,E),C-=U,x+=U*a.c,m+=U}i(m==h),a.C=a.Ma=h}function Xa(){this.ub=this.yd=this.td=this.Rb=0}function $a(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function eh(){var a;this.Yb=(function h(m,C,x){for(var F=x[C],U=0;U<F&&(m.push(x.length>C+1?[]:0),!(x.length<C+1));U++)h(m[U],C+1,x)}(a=[],0,[3,11]),a)}function Bg(){this.jb=s(3),this.Wc=p([4,8],eh),this.Xc=p([4,17],eh)}function bg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ec(){this.ld=this.La=this.dd=this.tc=0}function Ah(){this.Na=this.la=0}function yg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xg(){this.uc=this.M=this.Nb=0,this.wa=Array(new ec),this.Y=0,this.ya=Array(new kl),this.aa=0,this.l=new Ac}function nh(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Tg(){this.cb=this.a=0,this.sc="",this.m=new Wt,this.Od=new Xa,this.Kc=new $a,this.ed=new bg,this.Qa=new tc,this.Ic=this.$c=this.Aa=0,this.D=new xg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Wt),this.ia=0,this.pb=o(4,yg),this.Pa=new Bg,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nh),this.Hd=0,this.rb=Array(new Ah),this.sb=0,this.wa=Array(new ec),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kl),this.L=this.aa=0,this.gd=p([4,2],ec),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ac(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function kg(){var a=new Tg;return null!=a&&(a.a=0,a.sc="OK",a.cb=0,a.Xb=0,Vl||(Vl=sh)),a}function KA(a,h,m){return 0==a.a&&(a.a=h,a.sc=m,a.cb=0),0}function rh(a,h,m){return 3<=m&&157==a[h+0]&&1==a[h+1]&&42==a[h+2]}function ih(a,h){if(null==a)return 0;if(a.a=0,a.sc="OK",null==h)return KA(a,2,"null VP8Io passed to VP8GetHeaders()");var m=h.data,C=h.w,x=h.ha;if(4>x)return KA(a,7,"Truncated header.");var F=m[C+0]|m[C+1]<<8|m[C+2]<<16,U=a.Od;if(U.Rb=!(1&F),U.td=F>>1&7,U.yd=F>>4&1,U.ub=F>>5,3<U.td)return KA(a,3,"Incorrect keyframe parameters.");if(!U.yd)return KA(a,4,"Frame not displayable.");C+=3,x-=3;var S=a.Kc;if(U.Rb){if(7>x)return KA(a,7,"cannot parse picture header");if(!rh(m,C,x))return KA(a,3,"Bad code word");S.c=16383&(m[C+4]<<8|m[C+3]),S.Td=m[C+4]>>6,S.i=16383&(m[C+6]<<8|m[C+5]),S.Ud=m[C+6]>>6,C+=7,x-=7,a.za=S.c+15>>4,a.Ub=S.i+15>>4,h.width=S.c,h.height=S.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,A((F=a.Pa).jb,0,255,F.jb.length),i(null!=(F=a.Qa)),F.Cb=0,F.Bb=0,F.Fb=1,A(F.Zb,0,0,F.Zb.length),A(F.Lb,0,0,F.Lb)}if(U.ub>x)return KA(a,7,"bad partition length");Ct(F=a.m,m,C,U.ub),C+=U.ub,x-=U.ub,U.Rb&&(S.Ld=mt(F),S.Kd=mt(F)),S=a.Qa;var E,H=a.Pa;if(i(null!=F),i(null!=S),S.Cb=mt(F),S.Cb){if(S.Bb=mt(F),mt(F)){for(S.Fb=mt(F),E=0;4>E;++E)S.Zb[E]=mt(F)?xt(F,7):0;for(E=0;4>E;++E)S.Lb[E]=mt(F)?xt(F,6):0}if(S.Bb)for(E=0;3>E;++E)H.jb[E]=mt(F)?_t(F,8):255}else S.Bb=0;if(F.Ka)return KA(a,3,"cannot parse segment header");if((S=a.ed).zd=mt(F),S.Tb=_t(F,6),S.wb=_t(F,3),S.Pc=mt(F),S.Pc&&mt(F)){for(H=0;4>H;++H)mt(F)&&(S.vd[H]=xt(F,6));for(H=0;4>H;++H)mt(F)&&(S.od[H]=xt(F,6))}if(a.L=0==S.Tb?0:S.zd?1:2,F.Ka)return KA(a,3,"cannot parse filter header");var tt=x;if(x=E=C,C=E+tt,S=tt,a.Xb=(1<<_t(a.m,2))-1,tt<3*(H=a.Xb))m=7;else{for(E+=3*H,S-=3*H,tt=0;tt<H;++tt){var dt=m[x+0]|m[x+1]<<8|m[x+2]<<16;dt>S&&(dt=S),Ct(a.Jc[+tt],m,E,dt),E+=dt,S-=dt,x+=3}Ct(a.Jc[+H],m,E,S),m=E<C?0:5}if(0!=m)return KA(a,m,"cannot parse partitions");for(m=_t(E=a.m,7),x=mt(E)?xt(E,4):0,C=mt(E)?xt(E,4):0,S=mt(E)?xt(E,4):0,H=mt(E)?xt(E,4):0,E=mt(E)?xt(E,4):0,tt=a.Qa,dt=0;4>dt;++dt){if(tt.Cb){var ht=tt.Zb[dt];tt.Fb||(ht+=m)}else{if(0<dt){a.pb[dt]=a.pb[0];continue}ht=m}var st=a.pb[dt];st.Sc[0]=t1[ir(ht+x,127)],st.Sc[1]=e1[ir(ht+0,127)],st.Eb[0]=2*t1[ir(ht+C,127)],st.Eb[1]=101581*e1[ir(ht+S,127)]>>16,8>st.Eb[1]&&(st.Eb[1]=8),st.Qc[0]=t1[ir(ht+H,117)],st.Qc[1]=e1[ir(ht+E,127)],st.lc=ht+E}if(!U.Rb)return KA(a,4,"Not a key frame.");for(mt(F),U=a.Pa,m=0;4>m;++m){for(x=0;8>x;++x)for(C=0;3>C;++C)for(S=0;11>S;++S)H=wt(F,tw[m][x][C][S])?_t(F,8):X_[m][x][C][S],U.Wc[m][x].Yb[C][S]=H;for(x=0;17>x;++x)U.Xc[m][x]=U.Wc[m][ew[x]]}return a.kc=mt(F),a.kc&&(a.Bd=_t(F,8)),a.cb=1}function sh(a,h,m,C,x,F,U){var S=h[x].Yb[m];for(m=0;16>x;++x){if(!wt(a,S[m+0]))return x;for(;!wt(a,S[m+1]);)if(S=h[++x].Yb[0],m=0,16==x)return 16;var E=h[x+1].Yb;if(wt(a,S[m+2])){var H=a,tt=0;if(wt(H,(ht=S)[(dt=m)+3]))if(wt(H,ht[dt+6])){for(S=0,dt=2*(tt=wt(H,ht[dt+8]))+(ht=wt(H,ht[dt+9+tt])),tt=0,ht=V_[dt];ht[S];++S)tt+=tt+wt(H,ht[S]);tt+=3+(8<<dt)}else wt(H,ht[dt+7])?(tt=7+2*wt(H,165),tt+=wt(H,145)):tt=5+wt(H,159);else tt=wt(H,ht[dt+4])?3+wt(H,ht[dt+5]):2;S=E[2]}else tt=1,S=E[1];E=U+W_[x],0>(H=a).b&&ft(H);var dt,ht=H.b,st=(dt=H.Ca>>1)-(H.I>>ht)>>31;--H.b,H.Ca+=st,H.Ca|=1,H.I-=(dt+1&st)<<ht,F[E]=((tt^st)-st)*C[(0<x)+0]}return 16}function Ql(a){var h=a.rb[a.sb-1];h.la=0,h.Na=0,A(a.zc,0,0,a.zc.length),a.ja=0}function qr(a,h,m,C,x){a[h+m+32*C]=-256&(x=a[h+m+32*C]+(x>>3))?0>x?0:255:x}function nc(a,h,m,C,x,F){qr(a,h,0,m,C+x),qr(a,h,1,m,C+F),qr(a,h,2,m,C-F),qr(a,h,3,m,C-x)}function Gn(a){return(20091*a>>16)+a}function Fl(a,h,m,C){var x,F=0,U=s(16);for(x=0;4>x;++x){var S=a[h+0]+a[h+8],E=a[h+0]-a[h+8],H=(35468*a[h+4]>>16)-Gn(a[h+12]),tt=Gn(a[h+4])+(35468*a[h+12]>>16);U[F+0]=S+tt,U[F+1]=E+H,U[F+2]=E-H,U[F+3]=S-tt,F+=4,h++}for(x=F=0;4>x;++x)S=(a=U[F+0]+4)+U[F+8],E=a-U[F+8],H=(35468*U[F+4]>>16)-Gn(U[F+12]),qr(m,C,0,0,S+(tt=Gn(U[F+4])+(35468*U[F+12]>>16))),qr(m,C,1,0,E+H),qr(m,C,2,0,E-H),qr(m,C,3,0,S-tt),F++,C+=32}function oh(a,h,m,C){var x=a[h+0]+4,F=35468*a[h+4]>>16,U=Gn(a[h+4]),S=35468*a[h+1]>>16;nc(m,C,0,x+U,a=Gn(a[h+1]),S),nc(m,C,1,x+F,a,S),nc(m,C,2,x-F,a,S),nc(m,C,3,x-U,a,S)}function Fg(a,h,m,C,x){Fl(a,h,m,C),x&&Fl(a,h+16,m,C+4)}function ah(a,h,m,C){mc(a,h+0,m,C,1),mc(a,h+32,m,C+128,1)}function Ug(a,h,m,C){var x;for(a=a[h+0]+4,x=0;4>x;++x)for(h=0;4>h;++h)qr(m,C,h,x,a)}function ch(a,h,m,C){a[h+0]&&ei(a,h+0,m,C),a[h+16]&&ei(a,h+16,m,C+4),a[h+32]&&ei(a,h+32,m,C+128),a[h+48]&&ei(a,h+48,m,C+128+4)}function Ig(a,h,m,C){var x,F=s(16);for(x=0;4>x;++x){var U=a[h+0+x]+a[h+12+x],S=a[h+4+x]+a[h+8+x],E=a[h+4+x]-a[h+8+x],H=a[h+0+x]-a[h+12+x];F[0+x]=U+S,F[8+x]=U-S,F[4+x]=H+E,F[12+x]=H-E}for(x=0;4>x;++x)U=(a=F[0+4*x]+3)+F[3+4*x],E=F[1+4*x]-F[2+4*x],H=a-F[3+4*x],m[C+0]=U+(S=F[1+4*x]+F[2+4*x])>>3,m[C+16]=H+E>>3,m[C+32]=U-S>>3,m[C+48]=H-E>>3,C+=64}function Ul(a,h,m){var C,x=h-32,F=sr,U=255-a[x-1];for(C=0;C<m;++C){var S,E=F,H=U+a[h-1];for(S=0;S<m;++S)a[h+S]=E[H+a[x+S]];h+=32}}function Sg(a,h){Ul(a,h,4)}function zg(a,h){Ul(a,h,8)}function Lg(a,h){Ul(a,h,16)}function as(a,h){var m;for(m=0;16>m;++m)e(a,h+32*m,a,h-32,16)}function rc(a,h){var m;for(m=16;0<m;--m)A(a,h,a[h-1],16),h+=32}function ic(a,h,m){var C;for(C=0;16>C;++C)A(h,m+32*C,a,16)}function lh(a,h){var m,C=16;for(m=0;16>m;++m)C+=a[h-1+32*m]+a[h+m-32];ic(C>>5,a,h)}function Tn(a,h){var m,C=8;for(m=0;16>m;++m)C+=a[h-1+32*m];ic(C>>4,a,h)}function Eg(a,h){var m,C=8;for(m=0;16>m;++m)C+=a[h+m-32];ic(C>>4,a,h)}function uh(a,h){ic(128,a,h)}function ke(a,h,m){return a+2*h+m+2>>2}function Mg(a,h){var m,C=h-32;for(C=new Uint8Array([ke(a[C-1],a[C+0],a[C+1]),ke(a[C+0],a[C+1],a[C+2]),ke(a[C+1],a[C+2],a[C+3]),ke(a[C+2],a[C+3],a[C+4])]),m=0;4>m;++m)e(a,h+32*m,C,0,C.length)}function Ng(a,h){var m=a[h-1],C=a[h-1+32],x=a[h-1+64],F=a[h-1+96];Zt(a,h+0,16843009*ke(a[h-1-32],m,C)),Zt(a,h+32,16843009*ke(m,C,x)),Zt(a,h+64,16843009*ke(C,x,F)),Zt(a,h+96,16843009*ke(x,F,F))}function Ui(a,h){var m,C=4;for(m=0;4>m;++m)C+=a[h+m-32]+a[h-1+32*m];for(C>>=3,m=0;4>m;++m)A(a,h+32*m,C,4)}function dh(a,h){var m=a[h-1+0],C=a[h-1+32],x=a[h-1+64],F=a[h-1-32],U=a[h+0-32],S=a[h+1-32],E=a[h+2-32],H=a[h+3-32];a[h+0+96]=ke(C,x,a[h-1+96]),a[h+1+96]=a[h+0+64]=ke(m,C,x),a[h+2+96]=a[h+1+64]=a[h+0+32]=ke(F,m,C),a[h+3+96]=a[h+2+64]=a[h+1+32]=a[h+0+0]=ke(U,F,m),a[h+3+64]=a[h+2+32]=a[h+1+0]=ke(S,U,F),a[h+3+32]=a[h+2+0]=ke(E,S,U),a[h+3+0]=ke(H,E,S)}function hh(a,h){var m=a[h+1-32],C=a[h+2-32],x=a[h+3-32],F=a[h+4-32],U=a[h+5-32],S=a[h+6-32],E=a[h+7-32];a[h+0+0]=ke(a[h+0-32],m,C),a[h+1+0]=a[h+0+32]=ke(m,C,x),a[h+2+0]=a[h+1+32]=a[h+0+64]=ke(C,x,F),a[h+3+0]=a[h+2+32]=a[h+1+64]=a[h+0+96]=ke(x,F,U),a[h+3+32]=a[h+2+64]=a[h+1+96]=ke(F,U,S),a[h+3+64]=a[h+2+96]=ke(U,S,E),a[h+3+96]=ke(S,E,E)}function sc(a,h){var m=a[h-1+0],C=a[h-1+32],x=a[h-1+64],F=a[h-1-32],U=a[h+0-32],S=a[h+1-32],E=a[h+2-32],H=a[h+3-32];a[h+0+0]=a[h+1+64]=F+U+1>>1,a[h+1+0]=a[h+2+64]=U+S+1>>1,a[h+2+0]=a[h+3+64]=S+E+1>>1,a[h+3+0]=E+H+1>>1,a[h+0+96]=ke(x,C,m),a[h+0+64]=ke(C,m,F),a[h+0+32]=a[h+1+96]=ke(m,F,U),a[h+1+32]=a[h+2+96]=ke(F,U,S),a[h+2+32]=a[h+3+96]=ke(U,S,E),a[h+3+32]=ke(S,E,H)}function Il(a,h){var m=a[h+0-32],C=a[h+1-32],x=a[h+2-32],F=a[h+3-32],U=a[h+4-32],S=a[h+5-32],E=a[h+6-32],H=a[h+7-32];a[h+0+0]=m+C+1>>1,a[h+1+0]=a[h+0+64]=C+x+1>>1,a[h+2+0]=a[h+1+64]=x+F+1>>1,a[h+3+0]=a[h+2+64]=F+U+1>>1,a[h+0+32]=ke(m,C,x),a[h+1+32]=a[h+0+96]=ke(C,x,F),a[h+2+32]=a[h+1+96]=ke(x,F,U),a[h+3+32]=a[h+2+96]=ke(F,U,S),a[h+3+64]=ke(U,S,E),a[h+3+96]=ke(S,E,H)}function Og(a,h){var m=a[h-1+0],C=a[h-1+32],x=a[h-1+64],F=a[h-1+96];a[h+0+0]=m+C+1>>1,a[h+2+0]=a[h+0+32]=C+x+1>>1,a[h+2+32]=a[h+0+64]=x+F+1>>1,a[h+1+0]=ke(m,C,x),a[h+3+0]=a[h+1+32]=ke(C,x,F),a[h+3+32]=a[h+1+64]=ke(x,F,F),a[h+3+64]=a[h+2+64]=a[h+0+96]=a[h+1+96]=a[h+2+96]=a[h+3+96]=F}function Pg(a,h){var m=a[h-1+0],C=a[h-1+32],x=a[h-1+64],F=a[h-1+96],U=a[h-1-32],S=a[h+0-32],E=a[h+1-32],H=a[h+2-32];a[h+0+0]=a[h+2+32]=m+U+1>>1,a[h+0+32]=a[h+2+64]=C+m+1>>1,a[h+0+64]=a[h+2+96]=x+C+1>>1,a[h+0+96]=F+x+1>>1,a[h+3+0]=ke(S,E,H),a[h+2+0]=ke(U,S,E),a[h+1+0]=a[h+3+32]=ke(m,U,S),a[h+1+32]=a[h+3+64]=ke(C,m,U),a[h+1+64]=a[h+3+96]=ke(x,C,m),a[h+1+96]=ke(F,x,C)}function Dg(a,h){var m;for(m=0;8>m;++m)e(a,h+32*m,a,h-32,8)}function Sl(a,h){var m;for(m=0;8>m;++m)A(a,h,a[h-1],8),h+=32}function Ko(a,h,m){var C;for(C=0;8>C;++C)A(h,m+32*C,a,8)}function Rs(a,h){var m,C=8;for(m=0;8>m;++m)C+=a[h+m-32]+a[h-1+32*m];Ko(C>>4,a,h)}function Hg(a,h){var m,C=4;for(m=0;8>m;++m)C+=a[h+m-32];Ko(C>>3,a,h)}function Go(a,h){var m,C=4;for(m=0;8>m;++m)C+=a[h-1+32*m];Ko(C>>3,a,h)}function zl(a,h){Ko(128,a,h)}function oc(a,h,m){var C=a[h-m],x=a[h+0],F=3*(x-C)+qg[1020+a[h-2*m]-a[h+m]],U=bh[112+(F+4>>3)];a[h-m]=sr[255+C+bh[112+(F+3>>3)]],a[h+0]=sr[255+x-U]}function ph(a,h,m,C){return Tr[255+a[h-2*m]-a[h-m]]>C||Tr[255+a[h+m]-a[h+0]]>C}function fh(a,h,m,C){return 4*Tr[255+a[h-m]-a[h+0]]+Tr[255+a[h-2*m]-a[h+m]]<=C}function gh(a,h,m,C,x){var F=a[h-3*m],U=a[h-2*m],S=a[h-m],E=a[h+0],H=a[h+m],tt=a[h+2*m];return 4*Tr[255+S-E]+Tr[255+U-H]>C?0:Tr[255+a[h-4*m]-F]<=x&&Tr[255+F-U]<=x&&Tr[255+U-S]<=x&&Tr[255+a[h+3*m]-tt]<=x&&Tr[255+tt-H]<=x&&Tr[255+H-E]<=x}function mh(a,h,m,C){var x=2*C+1;for(C=0;16>C;++C)fh(a,h+C,m,x)&&oc(a,h+C,m)}function cs(a,h,m,C){var x=2*C+1;for(C=0;16>C;++C)fh(a,h+C*m,1,x)&&oc(a,h+C*m,1)}function Ks(a,h,m,C){var x;for(x=3;0<x;--x)mh(a,h+=4*m,m,C)}function Zg(a,h,m,C){var x;for(x=3;0<x;--x)cs(a,h+=4,m,C)}function Gs(a,h,m,C,x,F,U,S){for(F=2*F+1;0<x--;){if(gh(a,h,m,F,U))if(ph(a,h,m,S))oc(a,h,m);else{var E=a,H=h,tt=m,dt=E[H-2*tt],ht=E[H-tt],st=E[H+0],Lt=E[H+tt],vt=E[H+2*tt],et=27*(St=qg[1020+3*(st-ht)+qg[1020+dt-Lt]])+63>>7,nt=18*St+63>>7,St=9*St+63>>7;E[H-3*tt]=sr[255+E[H-3*tt]+St],E[H-2*tt]=sr[255+dt+nt],E[H-tt]=sr[255+ht+et],E[H+0]=sr[255+st-et],E[H+tt]=sr[255+Lt-nt],E[H+2*tt]=sr[255+vt-St]}h+=C}}function Vr(a,h,m,C,x,F,U,S){for(F=2*F+1;0<x--;){if(gh(a,h,m,F,U))if(ph(a,h,m,S))oc(a,h,m);else{var E=a,H=h,tt=m,dt=E[H-tt],ht=E[H+0],st=E[H+tt],Lt=bh[112+(4+(vt=3*(ht-dt))>>3)],vt=bh[112+(vt+3>>3)],et=Lt+1>>1;E[H-2*tt]=sr[255+E[H-2*tt]+et],E[H-tt]=sr[255+dt+vt],E[H+0]=sr[255+ht-Lt],E[H+tt]=sr[255+st-et]}h+=C}}function Ll(a,h,m,C,x,F){Gs(a,h,m,1,16,C,x,F)}function Jo(a,h,m,C,x,F){Gs(a,h,1,m,16,C,x,F)}function jg(a,h,m,C,x,F){var U;for(U=3;0<U;--U)Vr(a,h+=4*m,m,1,16,C,x,F)}function ac(a,h,m,C,x,F){var U;for(U=3;0<U;--U)Vr(a,h+=4,1,m,16,C,x,F)}function Rg(a,h,m,C,x,F,U,S){Gs(a,h,x,1,8,F,U,S),Gs(m,C,x,1,8,F,U,S)}function El(a,h,m,C,x,F,U,S){Gs(a,h,1,x,8,F,U,S),Gs(m,C,1,x,8,F,U,S)}function Ml(a,h,m,C,x,F,U,S){Vr(a,h+4*x,x,1,8,F,U,S),Vr(m,C+4*x,x,1,8,F,U,S)}function _h(a,h,m,C,x,F,U,S){Vr(a,h+4,1,x,8,F,U,S),Vr(m,C+4,1,x,8,F,U,S)}function cc(){this.ba=new Rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new PA,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Nl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ol(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wh(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new P}function Kg(){this.xb=this.a=0,this.l=new Ac,this.ca=new Rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wh,this.ab=0,this.gc=o(4,Ol),this.Oc=0}function lc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ac,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yo(a,h,m,C,x,F,U){for(a=null==a?0:a[h+0],h=0;h<U;++h)x[F+h]=a+m[C+h]&255,a=x[F+h]}function Pl(a,h,m,C,x,F,U){var S;if(null==a)Yo(null,null,m,C,x,F,U);else for(S=0;S<U;++S)x[F+S]=a[h+S]+m[C+S]&255}function Js(a,h,m,C,x,F,U){if(null==a)Yo(null,null,m,C,x,F,U);else{var S,E=a[h+0],H=E,tt=E;for(S=0;S<U;++S)H=tt+(E=a[h+S])-H,tt=m[C+S]+(-256&H?0>H?0:255:H)&255,H=E,x[F+S]=tt}}function Dl(a,h,m,C){var x=h.width,F=h.o;if(i(null!=a&&null!=h),0>m||0>=C||m+C>F)return null;if(!a.Cc){if(null==a.ga){var U;if(a.ga=new lc,(U=null==a.ga)||(U=h.width*h.o,i(0==a.Gb.length),a.Gb=s(U),a.Uc=0,null==a.Gb?U=0:(a.mb=a.Gb,a.nb=a.Uc,a.rc=null,U=1),U=!U),!U){var S=a.Fa,E=a.P,H=a.qc,tt=a.mb,dt=a.nb,ht=E+1,st=H-1,Lt=(U=a.ga).l;if(i(null!=S&&null!=tt&&null!=h),to[0]=null,to[1]=Yo,to[2]=Pl,to[3]=Js,U.ca=tt,U.tb=dt,U.c=h.width,U.i=h.height,i(0<U.c&&0<U.i),1>=H)h=0;else if(U.$a=S[E+0]>>0&3,U.Z=S[E+0]>>2&3,U.Lc=S[E+0]>>4&3,E=S[E+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||E)h=0;else if(Lt.put=xi,Lt.ac=fn,Lt.bc=Ti,Lt.ma=U,Lt.width=h.width,Lt.height=h.height,Lt.Da=h.Da,Lt.v=h.v,Lt.va=h.va,Lt.j=h.j,Lt.o=h.o,U.$a)t:{i(1==U.$a),h=br();e:for(;;){if(null==h){h=0;break t}if(i(null!=U),U.mc=h,h.c=U.c,h.i=U.i,h.l=U.l,h.l.ma=U,h.l.width=U.c,h.l.height=U.i,h.a=0,pt(h.m,S,ht,st),!Fi(U.c,U.i,1,h,null)||(1==h.ab&&3==h.gc[0].hc&&os(h.s)?(U.ic=1,S=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(S),h.Ba=0,null==h.V?(h.a=1,h=0):h=1):(U.ic=0,h=Ro(h,U.c)),!h))break e;h=1;break t}U.mc=null,h=0}else h=st>=U.c*U.i;U=!h}if(U)return null;1!=a.ga.Lc?a.Ga=0:C=F-m}i(null!=a.ga),i(m+C<=F);t:{if(h=(S=a.ga).c,F=S.l.o,0==S.$a){if(ht=a.rc,st=a.Vc,Lt=a.Fa,H=a.mb,tt=a.nb+m*h,i((E=a.P+1+m*h)<=a.P+a.qc),0!=S.Z)for(i(null!=to[S.Z]),U=0;U<C;++U)to[S.Z](ht,st,Lt,E,H,tt,h),ht=H,st=tt,tt+=h,E+=h;else for(U=0;U<C;++U)e(H,tt,Lt,E,h),ht=H,st=tt,tt+=h,E+=h;a.rc=ht,a.Vc=st}else{if(i(null!=S.mc),h=m+C,i(null!=(U=S.mc)),i(h<=U.i),U.C>=h)h=1;else if(S.ic||ct(),S.ic){S=U.V,ht=U.Ba;var vt=U.i,et=(Lt=1,E=U.$/(st=U.c),H=U.$%st,tt=U.m,dt=U.s,U.$),nt=st*vt,St=st*h,Mt=dt.wc,zt=et<St?WA(dt,H,E):null;i(et<=nt),i(h<=vt),i(os(dt));e:for(;;){for(;!tt.h&&et<St;){if(H&Mt||(zt=WA(dt,H,E)),i(null!=zt),at(tt),256>(vt=Kn(zt.G[0],zt.H[0],tt)))S[ht+et]=vt,++et,++H>=st&&(H=0,++E<=h&&!(E%16)&&Jr(U,E));else{if(!(280>vt)){Lt=0;break e}vt=Kr(vt-256,tt);var re,Kt=Kn(zt.G[4],zt.H[4],tt);if(at(tt),!(et>=(Kt=ki(st,Kt=Kr(Kt,tt)))&&nt-et>=vt)){Lt=0;break e}for(re=0;re<vt;++re)S[ht+et+re]=S[ht+et+re-Kt];for(et+=vt,H+=vt;H>=st;)H-=st,++E<=h&&!(E%16)&&Jr(U,E);et<St&&H&Mt&&(zt=WA(dt,H,E))}i(tt.h==G(tt))}Jr(U,E>h?h:E);break e}!Lt||tt.h&&et<nt?(Lt=0,U.a=tt.h?5:3):U.$=et,h=Lt}else h=Yr(U,U.V,U.Ba,U.c,U.i,h,Wa);if(!h){C=0;break t}}m+C>=F&&(a.Cc=1),C=1}if(!C)return null;if(a.Cc&&(null!=(C=a.ga)&&(C.mc=null),a.ga=null,0<a.Ga))return alert("todo:WebPDequantizeLevels"),null}return a.nb+m*x}function g(a,h,m,C,x,F){for(;0<x--;){var U,S=a,E=h+(m?1:0),H=a,tt=h+(m?0:3);for(U=0;U<C;++U){var dt=H[tt+4*U];255!=dt&&(S[E+4*U+0]=S[E+4*U+0]*(dt*=32897)>>23,S[E+4*U+1]=S[E+4*U+1]*dt>>23,S[E+4*U+2]=S[E+4*U+2]*dt>>23)}h+=F}}function T(a,h,m,C,x){for(;0<C--;){var F;for(F=0;F<m;++F){var U=a[h+2*F+0],S=15&(H=a[h+2*F+1]),E=4369*S,H=(240&H|H>>4)*E>>16;a[h+2*F+0]=(240&U|U>>4)*E>>16&240|(15&U|U<<4)*E>>16>>4&15,a[h+2*F+1]=240&H|S}h+=x}}function R(a,h,m,C,x,F,U,S){var E,H,tt=255;for(H=0;H<x;++H){for(E=0;E<C;++E){var dt=a[h+E];F[U+4*E]=dt,tt&=dt}h+=m,U+=S}return 255!=tt}function V(a,h,m,C,x){var F;for(F=0;F<x;++F)m[C+F]=a[h+F]>>8}function ct(){Xs=g,wc=T,Bh=R,H1=V}function bt(a,h,m){Y[a]=function(C,x,F,U,S,E,H,tt,dt,ht,st,Lt,vt,et,nt,St,Mt){var zt,re=Mt-1>>1,Kt=S[E+0]|H[tt+0]<<16,ge=dt[ht+0]|st[Lt+0]<<16;i(null!=C);var Jt=3*Kt+ge+131074>>2;for(h(C[x+0],255&Jt,Jt>>16,vt,et),null!=F&&h(F[U+0],255&(Jt=3*ge+Kt+131074>>2),Jt>>16,nt,St),zt=1;zt<=re;++zt){var nA=S[E+zt]|H[tt+zt]<<16,uA=dt[ht+zt]|st[Lt+zt]<<16,Ye=Kt+nA+ge+uA+524296,He=Ye+2*(nA+ge)>>3;Jt=He+Kt>>1,Kt=(Ye=Ye+2*(Kt+uA)>>3)+nA>>1,h(C[x+2*zt-1],255&Jt,Jt>>16,vt,et+(2*zt-1)*m),h(C[x+2*zt-0],255&Kt,Kt>>16,vt,et+(2*zt-0)*m),null!=F&&(Kt=He+uA>>1,h(F[U+2*zt-1],255&(Jt=Ye+ge>>1),Jt>>16,nt,St+(2*zt-1)*m),h(F[U+2*zt+0],255&Kt,Kt>>16,nt,St+(2*zt+0)*m)),Kt=nA,ge=uA}1&Mt||(h(C[x+Mt-1],255&(Jt=3*Kt+ge+131074>>2),Jt>>16,vt,et+(Mt-1)*m),null!=F&&h(F[U+Mt-1],255&(Jt=3*ge+Kt+131074>>2),Jt>>16,nt,St+(Mt-1)*m))}}function Nt(){kr[yh]=nw,kr[xh]=X1,kr[J1]=rw,kr[Th]=$1,kr[kh]=tm,kr[Vg]=em,kr[Y1]=iw,kr[Wg]=X1,kr[Xg]=$1,kr[Qh]=tm,kr[$g]=em}function ne(a){return a&~sw?0>a?0:255:a>>Am}function he(a,h){return ne((19077*a>>8)+(26149*h>>8)-14234)}function Se(a,h,m){return ne((19077*a>>8)-(6419*h>>8)-(13320*m>>8)+8708)}function Me(a,h){return ne((19077*a>>8)+(33050*h>>8)-17685)}function Ge(a,h,m,C,x){C[x+0]=he(a,m),C[x+1]=Se(a,h,m),C[x+2]=Me(a,h)}function zA(a,h,m,C,x){C[x+0]=Me(a,h),C[x+1]=Se(a,h,m),C[x+2]=he(a,m)}function DA(a,h,m,C,x){var F=Se(a,h,m);h=F<<3&224|Me(a,h)>>3,C[x+0]=248&he(a,m)|F>>5,C[x+1]=h}function XA(a,h,m,C,x){var F=240&Me(a,h)|15;C[x+0]=240&he(a,m)|Se(a,h,m)>>4,C[x+1]=F}function kn(a,h,m,C,x){C[x+0]=255,Ge(a,h,m,C,x+1)}function un(a,h,m,C,x){zA(a,h,m,C,x),C[x+3]=255}function Wr(a,h,m,C,x){Ge(a,h,m,C,x),C[x+3]=255}function ir(a,h){return 0>a?0:a>h?h:a}function ls(a,h,m){Y[a]=function(C,x,F,U,S,E,H,tt,dt){for(var ht=tt+(-2&dt)*m;tt!=ht;)h(C[x+0],F[U+0],S[E+0],H,tt),h(C[x+1],F[U+0],S[E+0],H,tt+m),x+=2,++U,++E,tt+=2*m;1&dt&&h(C[x+0],F[U+0],S[E+0],H,tt)}}function vh(a,h,m){return 0==m?0==a?0==h?6:5:0==h?4:0:m}function Hl(a,h,m,C,x){switch(a>>>30){case 3:mc(h,m,C,x,0);break;case 2:Yl(h,m,C,x);break;case 1:ei(h,m,C,x)}}function Zl(a,h){var m,C,x=h.M,F=h.Nb,U=a.oc,S=a.pc+40,E=a.oc,H=a.pc+584,tt=a.oc,dt=a.pc+600;for(m=0;16>m;++m)U[S+32*m-1]=129;for(m=0;8>m;++m)E[H+32*m-1]=129,tt[dt+32*m-1]=129;for(0<x?U[S-1-32]=E[H-1-32]=tt[dt-1-32]=129:(A(U,S-32-1,127,21),A(E,H-32-1,127,9),A(tt,dt-32-1,127,9)),C=0;C<a.za;++C){var ht=h.ya[h.aa+C];if(0<C){for(m=-1;16>m;++m)e(U,S+32*m-4,U,S+32*m+12,4);for(m=-1;8>m;++m)e(E,H+32*m-4,E,H+32*m+4,4),e(tt,dt+32*m-4,tt,dt+32*m+4,4)}var st=a.Gd,Lt=a.Hd+C,vt=ht.ad,et=ht.Hc;if(0<x&&(e(U,S-32,st[Lt].y,0,16),e(E,H-32,st[Lt].f,0,8),e(tt,dt-32,st[Lt].ea,0,8)),ht.Za){var nt=U,St=S-32+16;for(0<x&&(C>=a.za-1?A(nt,St,st[Lt].y[15],4):e(nt,St,st[Lt+1].y,0,4)),m=0;4>m;m++)nt[St+128+m]=nt[St+256+m]=nt[St+384+m]=nt[St+0+m];for(m=0;16>m;++m,et<<=2)Ai[ht.Ob[m]](nt=U,St=S+rm[m]),Hl(et,vt,16*+m,nt,St)}else if(nt=vh(C,x,ht.Ob[0]),$s[nt](U,S),0!=et)for(m=0;16>m;++m,et<<=2)Hl(et,vt,16*+m,U,S+rm[m]);for(m=ht.Gc,nt=vh(C,x,ht.Dd),fs[nt](E,H),fs[nt](tt,dt),et=vt,nt=E,St=H,255&(ht=m>>0)&&(170&ht?Vs(et,256,nt,St):ds(et,256,nt,St)),ht=tt,et=dt,255&(m>>=8)&&(170&m?Vs(vt,320,ht,et):ds(vt,320,ht,et)),x<a.Ub-1&&(e(st[Lt].y,0,U,S+480,16),e(st[Lt].f,0,E,H+224,8),e(st[Lt].ea,0,tt,dt+224,8)),st=a.sa,Lt=a.ta+16*C+16*F*a.R,vt=a.qa,ht=a.ra+8*C+(m=8*F*a.B),et=a.Ha,nt=a.Ia+8*C+m,m=0;16>m;++m)e(st,Lt+m*a.R,U,S+32*m,16);for(m=0;8>m;++m)e(vt,ht+m*a.B,E,H+32*m,8),e(et,nt+m*a.B,tt,dt+32*m,8)}}function uc(a,h,m,C,x,F,U,S,E){var H=[0],tt=[0],dt=0,ht=null!=E?E.kd:0,st=E??new Nl;if(null==a||12>m)return 7;st.data=a,st.w=h,st.ha=m,h=[h],m=[m],st.gb=[st.gb];t:{var Lt=h,vt=m,et=st.gb;if(i(null!=a),i(null!=vt),i(null!=et),et[0]=0,12<=vt[0]&&!n(a,Lt[0],"RIFF")){if(n(a,Lt[0]+8,"WEBP")){et=3;break t}var nt=ie(a,Lt[0]+4);if(12>nt||4294967286<nt){et=3;break t}if(ht&&nt>vt[0]-8){et=7;break t}et[0]=nt,Lt[0]+=12,vt[0]-=12}et=0}if(0!=et)return et;for(nt=0<st.gb[0],m=m[0];;){t:{var St=a;vt=h,et=m;var Mt=H,zt=tt,re=Lt=[0];if((Jt=dt=[dt])[0]=0,8>et[0])et=7;else{if(!n(St,vt[0],"VP8X")){if(10!=ie(St,vt[0]+4)){et=3;break t}if(18>et[0]){et=7;break t}var Kt=ie(St,vt[0]+8),ge=1+Ae(St,vt[0]+12);if(2147483648<=ge*(St=1+Ae(St,vt[0]+15))){et=3;break t}null!=re&&(re[0]=Kt),null!=Mt&&(Mt[0]=ge),null!=zt&&(zt[0]=St),vt[0]+=18,et[0]-=18,Jt[0]=1}et=0}}if(dt=dt[0],0!=et)return et;if(vt=!!(2&(Lt=Lt[0])),!nt&&dt)return 3;if(null!=F&&(F[0]=!!(16&Lt)),null!=U&&(U[0]=vt),null!=S&&(S[0]=0),U=H[0],Lt=tt[0],dt&&vt&&null==E){et=0;break}if(4>m){et=7;break}if(nt&&dt||!nt&&!dt&&!n(a,h[0],"ALPH")){m=[m],st.na=[st.na],st.P=[st.P],st.Sa=[st.Sa];t:{et=h,nt=m;var Jt=st.gb;Mt=st.na,zt=st.P,re=st.Sa,ge=22,i(null!=(Kt=a)),i(null!=nt),St=et[0];var nA=nt[0];for(i(null!=Mt),i(null!=re),Mt[0]=null,zt[0]=null,re[0]=0;;){if(et[0]=St,nt[0]=nA,8>nA){et=7;break t}var uA=ie(Kt,St+4);if(4294967286<uA){et=3;break t}var Ye=8+uA+1&-2;if(ge+=Ye,0<Jt&&ge>Jt){et=3;break t}if(!n(Kt,St,"VP8 ")||!n(Kt,St,"VP8L")){et=0;break t}if(nA[0]<Ye){et=7;break t}n(Kt,St,"ALPH")||(Mt[0]=Kt,zt[0]=St+8,re[0]=uA),St+=Ye,nA-=Ye}}if(m=m[0],st.na=st.na[0],st.P=st.P[0],st.Sa=st.Sa[0],0!=et)break}m=[m],st.Ja=[st.Ja],st.xa=[st.xa];t:if(Jt=a,et=h,nt=m,Mt=st.gb[0],zt=st.Ja,re=st.xa,Kt=et[0],St=!n(Jt,Kt,"VP8 "),ge=!n(Jt,Kt,"VP8L"),i(null!=Jt),i(null!=nt),i(null!=zt),i(null!=re),8>nt[0])et=7;else{if(St||ge){if(Jt=ie(Jt,Kt+4),12<=Mt&&Jt>Mt-12){et=3;break t}if(ht&&Jt>nt[0]-8){et=7;break t}zt[0]=Jt,et[0]+=8,nt[0]-=8,re[0]=ge}else re[0]=5<=nt[0]&&47==Jt[Kt+0]&&!(Jt[Kt+4]>>5),zt[0]=nt[0];et=0}if(m=m[0],st.Ja=st.Ja[0],st.xa=st.xa[0],h=h[0],0!=et)break;if(4294967286<st.Ja)return 3;if(null==S||vt||(S[0]=st.xa?2:1),U=[U],Lt=[Lt],st.xa){if(5>m){et=7;break}S=U,ht=Lt,vt=F,null==a||5>m?a=0:5<=m&&47==a[h+0]&&!(a[h+4]>>5)?(nt=[0],Jt=[0],Mt=[0],pt(zt=new I,a,h,m),_e(zt,nt,Jt,Mt)?(null!=S&&(S[0]=nt[0]),null!=ht&&(ht[0]=Jt[0]),null!=vt&&(vt[0]=Mt[0]),a=1):a=0):a=0}else{if(10>m){et=7;break}S=Lt,null==a||10>m||!rh(a,h+3,m-3)?a=0:(ht=a[h+0]|a[h+1]<<8|a[h+2]<<16,vt=16383&(a[h+7]<<8|a[h+6]),a=16383&(a[h+9]<<8|a[h+8]),1&ht||3<(ht>>1&7)||!(ht>>4&1)||ht>>5>=st.Ja||!vt||!a?a=0:(U&&(U[0]=vt),S&&(S[0]=a),a=1))}if(!a||(U=U[0],Lt=Lt[0],dt&&(H[0]!=U||tt[0]!=Lt)))return 3;null!=E&&(E[0]=st,E.offset=h-E.w,i(4294967286>h-E.w),i(E.offset==E.ha-m));break}return 0==et||7==et&&dt&&null==E?(null!=F&&(F[0]|=null!=st.na&&0<st.na.length),null!=C&&(C[0]=U),null!=x&&(x[0]=Lt),0):et}function jl(a,h,m){var C=h.width,x=h.height,F=0,U=0,S=C,E=x;if(h.Da=null!=a&&0<a.Da,h.Da&&(S=a.cd,E=a.bd,F=a.v,U=a.j,11>m||(F&=-2,U&=-2),0>F||0>U||0>=S||0>=E||F+S>C||U+E>x))return 0;if(h.v=F,h.j=U,h.va=F+S,h.o=U+E,h.U=S,h.T=E,h.da=null!=a&&0<a.da,h.da){if(!Ie(S,E,m=[a.ib],F=[a.hb]))return 0;h.ib=m[0],h.hb=F[0]}return h.ob=null!=a&&a.ob,h.Kb=null==a||!a.Sd,h.da&&(h.ob=h.ib<3*C/4&&h.hb<3*x/4,h.Kb=0),1}function Rl(a){if(null==a)return 2;if(11>a.S){var h=a.f.RGBA;h.fb+=(a.height-1)*h.A,h.A=-h.A}else(h=a.f.kb).O+=((a=a.height)-1)*h.fa,h.fa=-h.fa,h.N+=(a-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(a-1>>1)*h.Db,h.Db=-h.Db,null!=h.F&&(h.J+=(a-1)*h.lb,h.lb=-h.lb);return 0}function dc(a,h,m,C){if(null==C||0>=a||0>=h)return 2;if(null!=m){if(m.Da){var x=m.cd,F=m.bd,U=-2&m.v,S=-2&m.j;if(0>U||0>S||0>=x||0>=F||U+x>a||S+F>h)return 2;a=x,h=F}if(m.da){if(!Ie(a,h,x=[m.ib],F=[m.hb]))return 2;a=x[0],h=F[0]}}C.width=a,C.height=h;t:{var E=C.width,H=C.height;if(a=C.S,0>=E||0>=H||!(a>=yh&&13>a))a=2;else{if(0>=C.Rd&&null==C.sd){U=F=x=h=0;var tt=(S=E*im[a])*H;if(11>a||(F=(H+1)/2*(h=(E+1)/2),12==a&&(U=(x=E)*H)),null==(H=s(tt+2*F+U))){a=1;break t}C.sd=H,11>a?((E=C.f.RGBA).eb=H,E.fb=0,E.A=S,E.size=tt):((E=C.f.kb).y=H,E.O=0,E.fa=S,E.Fd=tt,E.f=H,E.N=0+tt,E.Ab=h,E.Cd=F,E.ea=H,E.W=0+tt+F,E.Db=h,E.Ed=F,12==a&&(E.F=H,E.J=0+tt+2*F),E.Tc=U,E.lb=x)}if(h=1,F=C.width,U=C.height,(x=C.S)>=yh&&13>x)if(11>x)a=C.f.RGBA,h&=(S=Math.abs(a.A))*(U-1)+F<=a.size,h&=S>=F*im[x],h&=null!=a.eb;else{a=C.f.kb,S=(F+1)/2,tt=(U+1)/2,E=Math.abs(a.fa),H=Math.abs(a.Ab);var dt=Math.abs(a.Db),ht=Math.abs(a.lb);h&=E*(U-1)+F<=a.Fd,h&=H*(tt-1)+S<=a.Cd,h=(h&=dt*(tt-1)+S<=a.Ed)&E>=F&H>=S&dt>=S,h&=null!=a.y,h&=null!=a.f,h&=null!=a.ea,12==x&&(h&=ht>=F,h&=ht*(U-1)+F<=a.Tc,h&=null!=a.F)}else h=0;a=h?0:2}}return 0!=a||null!=m&&m.fd&&(a=Rl(C)),a}var Jn=64,hc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pc=24,fc=32,Kl=8,Yn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Rt("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(a){return a},Y.Predictor2=function(a,h,m){return h[m+0]},Y.Predictor3=function(a,h,m){return h[m+1]},Y.Predictor4=function(a,h,m){return h[m-1]},Y.Predictor5=function(a,h,m){return Yt(Yt(a,h[m+1]),h[m+0])},Y.Predictor6=function(a,h,m){return Yt(a,h[m-1])},Y.Predictor7=function(a,h,m){return Yt(a,h[m+0])},Y.Predictor8=function(a,h,m){return Yt(h[m-1],h[m+0])},Y.Predictor9=function(a,h,m){return Yt(h[m+0],h[m+1])},Y.Predictor10=function(a,h,m){return Yt(Yt(a,h[m-1]),Yt(h[m+0],h[m+1]))},Y.Predictor11=function(a,h,m){var C=h[m+0];return 0>=Ee(C>>24&255,a>>24&255,(h=h[m-1])>>24&255)+Ee(C>>16&255,a>>16&255,h>>16&255)+Ee(C>>8&255,a>>8&255,h>>8&255)+Ee(255&C,255&a,255&h)?C:a},Y.Predictor12=function(a,h,m){var C=h[m+0];return(de((a>>24&255)+(C>>24&255)-((h=h[m-1])>>24&255))<<24|de((a>>16&255)+(C>>16&255)-(h>>16&255))<<16|de((a>>8&255)+(C>>8&255)-(h>>8&255))<<8|de((255&a)+(255&C)-(255&h)))>>>0},Y.Predictor13=function(a,h,m){var C=h[m-1];return(Qe((a=Yt(a,h[m+0]))>>24&255,C>>24&255)<<24|Qe(a>>16&255,C>>16&255)<<16|Qe(a>>8&255,C>>8&255)<<8|Qe(a>>0&255,C>>0&255))>>>0};var Gg=Y.PredictorAdd0;Y.PredictorAdd1=Ne,Rt("Predictor2","PredictorAdd2"),Rt("Predictor3","PredictorAdd3"),Rt("Predictor4","PredictorAdd4"),Rt("Predictor5","PredictorAdd5"),Rt("Predictor6","PredictorAdd6"),Rt("Predictor7","PredictorAdd7"),Rt("Predictor8","PredictorAdd8"),Rt("Predictor9","PredictorAdd9"),Rt("Predictor10","PredictorAdd10"),Rt("Predictor11","PredictorAdd11"),Rt("Predictor12","PredictorAdd12"),Rt("Predictor13","PredictorAdd13");var Gl=Y.PredictorAdd2;Pe("ColorIndexInverseTransform","MapARGB","32b",function(a){return a>>8&255},function(a){return a}),Pe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(a){return a},function(a){return a>>8&255});var Ch,Xr=Y.ColorIndexInverseTransform,Jl=Y.MapARGB,Jg=Y.VP8LColorIndexInverseTransformAlpha,Yg=Y.MapAlpha,Ys=Y.VP8LPredictorsAdd=[];Ys.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var yr,$r,qs,Ii,us,gc,ti,mc,Yl,Vs,ei,ds,qo,_c,Vo,Ws,ql,xr,hs,CA,BA,GA,cn,ps,Xs,wc,Bh,H1,Z1=s(511),j1=s(2041),R1=s(225),K1=s(767),G1=0,qg=j1,bh=R1,sr=K1,Tr=Z1,yh=0,xh=1,J1=2,Th=3,kh=4,Vg=5,Y1=6,Wg=7,Xg=8,Qh=9,$g=10,j_=[2,3,7],R_=[3,3,11],q1=[280,256,256,256,40],K_=[0,1,1,1,0],G_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],J_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Y_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],q_=8,t1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],e1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vl=null,V_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],W_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],V1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],X_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ew=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$s=[],Ai=[],fs=[],Aw=1,W1=2,to=[],kr=[];bt("UpsampleRgbLinePair",Ge,3),bt("UpsampleBgrLinePair",zA,3),bt("UpsampleRgbaLinePair",Wr,4),bt("UpsampleBgraLinePair",un,4),bt("UpsampleArgbLinePair",kn,4),bt("UpsampleRgba4444LinePair",XA,2),bt("UpsampleRgb565LinePair",DA,2);var nw=Y.UpsampleRgbLinePair,rw=Y.UpsampleBgrLinePair,X1=Y.UpsampleRgbaLinePair,$1=Y.UpsampleBgraLinePair,tm=Y.UpsampleArgbLinePair,em=Y.UpsampleRgba4444LinePair,iw=Y.UpsampleRgb565LinePair,Fh=16,Uh=1<<Fh-1,Wl=-227,A1=482,Am=6,sw=(256<<Am)-1,nm=0,ow=s(256),aw=s(256),cw=s(256),lw=s(256),uw=s(A1-Wl),dw=s(A1-Wl);ls("YuvToRgbRow",Ge,3),ls("YuvToBgrRow",zA,3),ls("YuvToRgbaRow",Wr,4),ls("YuvToBgraRow",un,4),ls("YuvToArgbRow",kn,4),ls("YuvToRgba4444Row",XA,2),ls("YuvToRgb565Row",DA,2);var rm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ih=[0,2,8],hw=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(a,h,m,C,x){var F=xh,U=new cc,S=new Rr;U.ba=S,S.S=F,S.width=[S.width],S.height=[S.height];var E=S.width,H=S.height,tt=new ss;if(null==tt||null==a)var dt=2;else i(null!=tt),dt=uc(a,h,m,tt.width,tt.height,tt.Pd,tt.Qd,tt.format,null);if(0!=dt?E=0:(null!=E&&(E[0]=tt.width[0]),null!=H&&(H[0]=tt.height[0]),E=1),E){S.width=S.width[0],S.height=S.height[0],null!=C&&(C[0]=S.width),null!=x&&(x[0]=S.height);t:{if(C=new Ac,(x=new Nl).data=a,x.w=h,x.ha=m,x.kd=1,h=[0],i(null!=x),(0==(a=uc(x.data,x.w,x.ha,null,null,null,h,null,x))||7==a)&&h[0]&&(a=4),0==(h=a)){if(i(null!=U),C.data=x.data,C.w=x.w+x.offset,C.ha=x.ha-x.offset,C.put=xi,C.ac=fn,C.bc=Ti,C.ma=U,x.xa){if(null==(a=br())){U=1;break t}if(function(ht,st){var Lt=[0],vt=[0],et=[0];e:for(;;){if(null==ht)return 0;if(null==st)return ht.a=2,0;if(ht.l=st,ht.a=0,pt(ht.m,st.data,st.w,st.ha),!_e(ht.m,Lt,vt,et)){ht.a=3;break e}if(ht.xb=W1,st.width=Lt[0],st.height=vt[0],!Fi(Lt[0],vt[0],1,ht,null))break e;return 1}return i(0!=ht.a),0}(a,C)){if(C=0==(h=dc(C.width,C.height,U.Oa,U.ba))){e:{C=a;A:for(;;){if(null==C){C=0;break e}if(i(null!=C.s.yc),i(null!=C.s.Ya),i(0<C.s.Wb),i(null!=(m=C.l)),i(null!=(x=m.ma)),0!=C.xb){if(C.ca=x.ba,C.tb=x.tb,i(null!=C.ca),!jl(x.Oa,m,Th)){C.a=2;break A}if(!Ro(C,m.width)||m.da)break A;if((m.da||sA(C.ca.S))&&ct(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=C.ca.f.kb.F&&ct()),C.Pb&&0<C.s.ua&&null==C.s.vb.X&&!ve(C.s.vb,C.s.Wa.Xa)){C.a=1;break A}C.xb=0}if(!Yr(C,C.V,C.Ba,C.c,C.i,m.o,Va))break A;x.Dc=C.Ma,C=1;break e}i(0!=C.a),C=0}C=!C}C&&(h=a.a)}else h=a.a}else{if(null==(a=new kg)){U=1;break t}if(a.Fa=x.na,a.P=x.P,a.qc=x.Sa,ih(a,C)){if(0==(h=dc(C.width,C.height,U.Oa,U.ba))){if(a.Aa=0,m=U.Oa,i(null!=(x=a)),null!=m){if(0<(E=0>(E=m.Md)?0:100<E?255:255*E/100)){for(H=tt=0;4>H;++H)12>(dt=x.pb[H]).lc&&(dt.ia=E*hw[0>dt.lc?0:dt.lc]>>3),tt|=dt.ia;tt&&(alert("todo:VP8InitRandom"),x.ia=1)}x.Ga=m.Id,100<x.Ga?x.Ga=100:0>x.Ga&&(x.Ga=0)}(function Qg(a,h){if(null==a)return 0;if(null==h)return KA(a,2,"NULL VP8Io parameter in VP8Decode().");if(!a.cb&&!ih(a,h))return 0;if(i(a.cb),null==h.ac||h.ac(h)){h.ob&&(a.L=0);var m=Ih[a.L];if(2==a.L?(a.yb=0,a.zb=0):(a.yb=h.v-m>>4,a.zb=h.j-m>>4,0>a.yb&&(a.yb=0),0>a.zb&&(a.zb=0)),a.Va=h.o+15+m>>4,a.Hb=h.va+15+m>>4,a.Hb>a.za&&(a.Hb=a.za),a.Va>a.Ub&&(a.Va=a.Ub),0<a.L){var C=a.ed;for(m=0;4>m;++m){var x;if(a.Qa.Cb){var F=a.Qa.Lb[m];a.Qa.Fb||(F+=C.Tb)}else F=C.Tb;for(x=0;1>=x;++x){var U=a.gd[m][x],S=F;if(C.Pc&&(S+=C.vd[0],x&&(S+=C.od[0])),0<(S=0>S?0:63<S?63:S)){var E=S;0<C.wb&&(E=4<C.wb?E>>2:E>>1)>9-C.wb&&(E=9-C.wb),1>E&&(E=1),U.dd=E,U.tc=2*S+E,U.ld=40<=S?2:15<=S?1:0}else U.tc=0;U.La=x}}}m=0}else KA(a,6,"Frame setup failed"),m=a.a;if(m=0==m){if(m){a.$c=0,0<a.Aa||(a.Ic=1);t:{C=4*(E=a.za);var H=32*E,tt=E+1,dt=0<a.L?E*(0<a.Aa?2:1):0,ht=(2==a.Aa?2:1)*E;if((U=C+832+(x=3*(16*(m=a.Ic)+Ih[a.L])/2*H)+(F=null!=a.Fa&&0<a.Fa.length?a.Kc.c*a.Kc.i:0))!=U)m=0;else{if(U>a.Vb){if(a.Vb=0,a.Ec=s(U),a.Fc=0,null==a.Ec){m=KA(a,1,"no memory during frame initialization.");break t}a.Vb=U}S=a.Fc,a.Ac=U=a.Ec,a.Bc=S,S+=C,a.Gd=o(H,nh),a.Hd=0,a.rb=o(tt+1,Ah),a.sb=1,a.wa=dt?o(dt,ec):null,a.Y=0,a.D.Nb=0,a.D.wa=a.wa,a.D.Y=a.Y,0<a.Aa&&(a.D.Y+=E),i(!0),a.oc=U,a.pc=S,S+=832,a.ya=o(ht,kl),a.aa=0,a.D.ya=a.ya,a.D.aa=a.aa,2==a.Aa&&(a.D.aa+=E),a.R=16*E,a.B=8*E,E=(H=Ih[a.L])*a.R,H=H/2*a.B,a.sa=U,a.ta=S+E,a.qa=a.sa,a.ra=a.ta+16*m*a.R+H,a.Ha=a.qa,a.Ia=a.ra+8*m*a.B+H,a.$c=0,S+=x,a.mb=F?U:null,a.nb=F?S:null,i(S+F<=a.Fc+a.Vb),Ql(a),A(a.Ac,a.Bc,0,C),m=1}}if(m){if(h.ka=0,h.y=a.sa,h.O=a.ta,h.f=a.qa,h.N=a.ra,h.ea=a.Ha,h.Vd=a.Ia,h.fa=a.R,h.Rc=a.B,h.F=null,h.J=0,!G1){for(m=-255;255>=m;++m)Z1[255+m]=0>m?-m:m;for(m=-1020;1020>=m;++m)j1[1020+m]=-128>m?-128:127<m?127:m;for(m=-112;112>=m;++m)R1[112+m]=-16>m?-16:15<m?15:m;for(m=-255;510>=m;++m)K1[255+m]=0>m?0:255<m?255:m;G1=1}ti=Ig,mc=Fg,Vs=ah,ei=Ug,ds=ch,Yl=oh,qo=Ll,_c=Jo,Vo=Rg,Ws=El,ql=jg,xr=ac,hs=Ml,CA=_h,BA=mh,GA=cs,cn=Ks,ps=Zg,Ai[0]=Ui,Ai[1]=Sg,Ai[2]=Mg,Ai[3]=Ng,Ai[4]=dh,Ai[5]=sc,Ai[6]=hh,Ai[7]=Il,Ai[8]=Pg,Ai[9]=Og,$s[0]=lh,$s[1]=Lg,$s[2]=as,$s[3]=rc,$s[4]=Tn,$s[5]=Eg,$s[6]=uh,fs[0]=Rs,fs[1]=zg,fs[2]=Dg,fs[3]=Sl,fs[4]=Go,fs[5]=Hg,fs[6]=zl,m=1}else m=0}m&&(m=function(st,Lt){for(st.M=0;st.M<st.Va;++st.M){var vt,et=st.Jc[st.M&st.Xb],nt=st.m,St=st;for(vt=0;vt<St.za;++vt){var Mt=nt,zt=St,re=zt.Ac,Kt=zt.Bc+4*vt,ge=zt.zc,Jt=zt.ya[zt.aa+vt];if(Jt.$b=zt.Qa.Bb?wt(Mt,zt.Pa.jb[0])?2+wt(Mt,zt.Pa.jb[2]):wt(Mt,zt.Pa.jb[1]):0,zt.kc&&(Jt.Ad=wt(Mt,zt.Bd)),Jt.Za=!wt(Mt,145)+0,Jt.Za){var nA=Jt.Ob,uA=0;for(zt=0;4>zt;++zt){var Ye,He=ge[0+zt];for(Ye=0;4>Ye;++Ye){for(var _A=V1[wt(Mt,(He=$_[re[Kt+Ye]][He])[0])];0<_A;)_A=V1[2*_A+wt(Mt,He[_A])];re[Kt+Ye]=He=-_A}e(nA,uA,re,Kt,4),uA+=4,ge[0+zt]=He}}else He=wt(Mt,156)?wt(Mt,128)?1:3:wt(Mt,163)?2:0,Jt.Ob[0]=He,A(re,Kt,He,4),A(ge,0,He,4);Jt.Dd=wt(Mt,142)?wt(Mt,114)?wt(Mt,183)?1:3:2:0}if(St.m.Ka)return KA(st,7,"Premature end-of-partition0 encountered.");for(;st.ja<st.za;++st.ja){if(St=et,Mt=(nt=st).rb[nt.sb-1],re=nt.rb[nt.sb+nt.ja],vt=nt.ya[nt.aa+nt.ja],Kt=nt.kc?vt.Ad:0)Mt.la=re.la=0,vt.Za||(Mt.Na=re.Na=0),vt.Hc=0,vt.Gc=0,vt.ia=0;else{var pA,Le;if(Mt=re,re=St,Kt=nt.Pa.Xc,Jt=nt.pb[(ge=nt.ya[nt.aa+nt.ja]).$b],uA=nt.rb[nt.sb-1],He=Ye=0,A(zt=ge.ad,nA=0,0,384),ge.Za)var $A=0,qn=Kt[3];else{_A=s(16);var tn=Mt.Na+uA.Na;if(tn=Vl(re,Kt[1],tn,Jt.Eb,0,_A,0),Mt.Na=uA.Na=(0<tn)+0,1<tn)ti(_A,0,zt,nA);else{var Vn=_A[0]+3>>3;for(_A=0;256>_A;_A+=16)zt[nA+_A]=Vn}$A=1,qn=Kt[0]}var dA=15&Mt.la,or=15&uA.la;for(_A=0;4>_A;++_A){var ar=1&or;for(Vn=Le=0;4>Vn;++Vn)dA=dA>>1|(ar=(tn=Vl(re,qn,tn=ar+(1&dA),Jt.Sc,$A,zt,nA))>$A)<<7,Le=Le<<2|(3<tn?3:1<tn?2:0!=zt[nA+0]),nA+=16;dA>>=4,or=or>>1|ar<<7,Ye=(Ye<<8|Le)>>>0}for(qn=dA,$A=or>>4,pA=0;4>pA;pA+=2){for(Le=0,dA=Mt.la>>4+pA,or=uA.la>>4+pA,_A=0;2>_A;++_A){for(ar=1&or,Vn=0;2>Vn;++Vn)dA=dA>>1|(ar=0<(tn=Vl(re,Kt[2],tn=ar+(1&dA),Jt.Qc,0,zt,nA)))<<3,Le=Le<<2|(3<tn?3:1<tn?2:0!=zt[nA+0]),nA+=16;dA>>=2,or=or>>1|ar<<5}He|=Le<<4*pA,qn|=dA<<4<<pA,$A|=(240&or)<<pA}Mt.la=qn,uA.la=$A,ge.Hc=Ye,ge.Gc=He,ge.ia=43690&He?0:Jt.ia,Kt=!(Ye|He)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[vt.$b][vt.Za],nt.wa[nt.Y+nt.ja].La|=!Kt),St.Ka)return KA(st,7,"Premature end-of-file encountered.")}if(Ql(st),nt=Lt,St=1,vt=(et=st).D,Mt=0<et.L&&et.M>=et.zb&&et.M<=et.Va,0==et.Aa)t:{if(vt.M=et.M,vt.uc=Mt,Zl(et,vt),St=1,vt=(Le=et.D).Nb,Mt=(He=Ih[et.L])*et.R,Kt=et.sa,ge=et.ta-Mt+(_A=16*vt*et.R),Jt=et.qa,zt=et.ra-(re=He/2*et.B)+(Vn=8*vt*et.B),nA=et.Ha,uA=et.Ia-re+Vn,or=0==(dA=Le.M),Ye=dA>=et.Va-1,2==et.Aa&&Zl(et,Le),Le.uc)for(ar=(tn=et).D.M,i(tn.D.uc),Le=tn.yb;Le<tn.Hb;++Le){qn=ar;var dn=(gn=(HA=tn).D).Nb,gn=gn.wa[gn.Y+($A=Le)],Ln=HA.sa,Qr=HA.ta+16*dn*(pA=HA.R)+16*$A,Si=gn.dd,hn=gn.tc;if(0!=hn)if(i(3<=hn),1==HA.L)0<$A&&GA(Ln,Qr,pA,hn+4),gn.La&&ps(Ln,Qr,pA,hn),0<qn&&BA(Ln,Qr,pA,hn+4),gn.La&&cn(Ln,Qr,pA,hn);else{var gs=HA.B,Wo=HA.qa,vc=HA.ra+8*dn*gs+8*$A,eo=HA.Ha,HA=HA.Ia+8*dn*gs+8*$A;dn=gn.ld,0<$A&&(_c(Ln,Qr,pA,hn+4,Si,dn),Ws(Wo,vc,eo,HA,gs,hn+4,Si,dn)),gn.La&&(xr(Ln,Qr,pA,hn,Si,dn),CA(Wo,vc,eo,HA,gs,hn,Si,dn)),0<qn&&(qo(Ln,Qr,pA,hn+4,Si,dn),Vo(Wo,vc,eo,HA,gs,hn+4,Si,dn)),gn.La&&(ql(Ln,Qr,pA,hn,Si,dn),hs(Wo,vc,eo,HA,gs,hn,Si,dn))}}if(et.ia&&alert("todo:DitherRow"),null!=nt.put){if(Le=16*dA,dA=16*(dA+1),or?(nt.y=et.sa,nt.O=et.ta+_A,nt.f=et.qa,nt.N=et.ra+Vn,nt.ea=et.Ha,nt.W=et.Ia+Vn):(Le-=He,nt.y=Kt,nt.O=ge,nt.f=Jt,nt.N=zt,nt.ea=nA,nt.W=uA),Ye||(dA-=He),dA>nt.o&&(dA=nt.o),nt.F=null,nt.J=null,null!=et.Fa&&0<et.Fa.length&&Le<dA&&(nt.J=Dl(et,nt,Le,dA-Le),nt.F=et.mb,null==nt.F&&0==nt.F.length)){St=KA(et,3,"Could not decode alpha data.");break t}Le<nt.j&&(He=nt.j-Le,Le=nt.j,i(!(1&He)),nt.O+=et.R*He,nt.N+=et.B*(He>>1),nt.W+=et.B*(He>>1),null!=nt.F&&(nt.J+=nt.width*He)),Le<dA&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,null!=nt.F&&(nt.J+=nt.v),nt.ka=Le-nt.j,nt.U=nt.va-nt.v,nt.T=dA-Le,St=nt.put(nt))}vt+1!=et.Ic||Ye||(e(et.sa,et.ta-Mt,Kt,ge+16*et.R,Mt),e(et.qa,et.ra-re,Jt,zt+8*et.B,re),e(et.Ha,et.Ia-re,nA,uA+8*et.B,re))}if(!St)return KA(st,6,"Output aborted.")}return 1}(a,h)),null!=h.bc&&h.bc(h),m&=1}return m?(a.cb=0,m):0})(a,C)||(h=a.a)}}else h=a.a}0==h&&null!=U.Oa&&U.Oa.fd&&(h=Rl(U.ba))}U=h}F=0!=U?null:11>F?S.f.RGBA.eb:S.f.kb.y}else F=null;return F};var im=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function w(Y,Tt){for(var kt="",D=0;D<4;D++)kt+=String.fromCharCode(Y[Tt++]);return kt}function b(Y,Tt){return(Y[Tt+0]<<0|Y[Tt+1]<<8|Y[Tt+2]<<16)>>>0}function y(Y,Tt){return(Y[Tt+0]<<0|Y[Tt+1]<<8|Y[Tt+2]<<16|Y[Tt+3]<<24)>>>0}new f;var k=[0],v=[0],M=[],L=new f,Z=r,z=function(Y,Tt){var kt={},D=0,P=!1,$=0,q=0;if(kt.frames=[],!
/** @license
             * Copyright (c) 2017 Dominik Homberger
            Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
            The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
            THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
            https://webpjs.appspot.com
            WebPRiffParser dominikhlbg@gmail.com
            */
function(K,G,At,at){for(var ft=0;ft<4;ft++)if(K[G+ft]!="RIFF".charCodeAt(ft))return!0;return!1}(Y,Tt)){var Ct,_t;for(y(Y,Tt+=4),Tt+=8;Tt<Y.length;){var xt=w(Y,Tt),pt=y(Y,Tt+=4);Tt+=4;var Ut=pt+(1&pt);switch(xt){case"VP8 ":case"VP8L":void 0===kt.frames[D]&&(kt.frames[D]={}),(I=kt.frames[D]).src_off=P?q:Tt-8,I.src_size=$+pt+8,D++,P&&(P=!1,$=0,q=0);break;case"VP8X":(I=kt.header={}).feature_flags=Y[Tt];var Qt=Tt+4;I.canvas_width=1+b(Y,Qt),I.canvas_height=1+b(Y,Qt+=3),Qt+=3;break;case"ALPH":P=!0,$=Ut+8,q=Tt-8;break;case"ANIM":(I=kt.header).bgcolor=y(Y,Tt),I.loop_count=(Ct=Y)[(_t=Qt=Tt+4)+0]<<0|Ct[_t+1]<<8,Qt+=2;break;case"ANMF":var Wt,I;(I=kt.frames[D]={}).offset_x=2*b(Y,Tt),I.offset_y=2*b(Y,Tt+=3),I.width=1+b(Y,Tt+=3),I.height=1+b(Y,Tt+=3),I.duration=b(Y,Tt+=3),Tt+=3,Wt=Y[Tt++],I.dispose=1&Wt,I.blend=Wt>>1&1}"ANMF"!=xt&&(Tt+=Ut)}return kt}}(Z,0);z.response=Z,z.rgbaoutput=!0,z.dataurl=!1;var j=z.header?z.header:null,W=z.frames?z.frames:null;if(j){j.loop_counter=j.loop_count,k=[j.canvas_height],v=[j.canvas_width];for(var it=0;it<W.length&&0!=W[it].blend;it++);}var gt=W[0],It=L.WebPDecodeRGBA(Z,gt.src_off,gt.src_size,v,k);gt.rgba=It,gt.imgwidth=v[0],gt.imgheight=k[0];for(var ut=0;ut<v[0]*k[0]*4;ut++)M[ut]=It[ut];return this.width=v,this.height=k,this.data=M,this}(function(r){var n=function(k,v,M,L){var Z=4,z=o;switch(L){case r.image_compression.FAST:Z=1,z=s;break;case r.image_compression.MEDIUM:Z=6,z=p;break;case r.image_compression.SLOW:Z=9,z=f}var j=Bo(k=e(k,v,M,z),{level:Z});return r.__addimage__.arrayBufferToBinaryString(j)},e=function(k,v,M,L){for(var Z,z,j,W=k.length/v,it=new Uint8Array(k.length+W),gt=b(),It=0;It<W;It+=1){if(Z=k.subarray(j=It*v,j+v),L)it.set(L(Z,M,z),j+It);else{for(var ut,Y=gt.length,Tt=[];ut<Y;ut+=1)Tt[ut]=gt[ut](Z,M,z);var kt=y(Tt.concat());it.set(Tt[kt],j+It)}z=Z}return it},A=function(k){var v=Array.apply([],k);return v.unshift(0),v},s=function(k,v){var L=[],Z=k.length;L[0]=1;for(var z=0;z<Z;z+=1)L[z+1]=k[z]-(k[z-v]||0)+256&255;return L},o=function(k,v,M){var Z=[],z=k.length;Z[0]=2;for(var j=0;j<z;j+=1)Z[j+1]=k[j]-(M&&M[j]||0)+256&255;return Z},p=function(k,v,M){var z=[],j=k.length;z[0]=3;for(var W=0;W<j;W+=1)z[W+1]=k[W]+256-((k[W-v]||0)+(M&&M[W]||0)>>>1)&255;return z},f=function(k,v,M){var j,W=[],it=k.length;W[0]=4;for(var gt=0;gt<it;gt+=1)j=w(k[gt-v]||0,M&&M[gt]||0,M&&M[gt-v]||0),W[gt+1]=k[gt]-j+256&255;return W},w=function(k,v,M){if(k===v&&v===M)return k;var L=Math.abs(v-M),Z=Math.abs(k-M),z=Math.abs(k+v-M-M);return L<=Z&&L<=z?k:Z<=z?v:M},b=function(){return[A,s,o,p,f]},y=function(k){var v=k.map(function(M){return M.reduce(function(L,Z){return L+Math.abs(Z)},0)});return v.indexOf(Math.min.apply(null,v))};r.processPNG=function(k,v,M,L){var Z,z,j,W,it,gt,It,ut,Y,Tt,kt,D,P,$,q,Ct=this.decode.FLATE_DECODE,_t="";if(this.__addimage__.isArrayBuffer(k)&&(k=new Uint8Array(k)),this.__addimage__.isArrayBufferView(k)){if(k=(j=new bp(k)).imgData,z=j.bits,Z=j.colorSpace,it=j.colors,-1!==[4,6].indexOf(j.colorType)){if(8===j.bits){Y=(ut=32==j.pixelBitlength?new Uint32Array(j.decodePixels().buffer):16==j.pixelBitlength?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,kt=new Uint8Array(Y*j.colors),Tt=new Uint8Array(Y);var xt,pt=j.pixelBitlength-j.bits;for($=0,q=0;$<Y;$++){for(P=ut[$],xt=0;xt<pt;)kt[q++]=P>>>xt&255,xt+=j.bits;Tt[$]=P>>>xt&255}}if(16===j.bits){Y=(ut=new Uint32Array(j.decodePixels().buffer)).length,kt=new Uint8Array(Y*(32/j.pixelBitlength)*j.colors),Tt=new Uint8Array(Y*(32/j.pixelBitlength)),D=j.colors>1,$=0,q=0;for(var Ut=0;$<Y;)P=ut[$++],kt[q++]=P>>>0&255,D&&(kt[q++]=P>>>16&255,P=ut[$++],kt[q++]=P>>>0&255),Tt[Ut++]=P>>>16&255;z=8}L!==r.image_compression.NONE?(k=n(kt,j.width*j.colors,j.colors,L),It=n(Tt,j.width,1,L)):(k=kt,It=Tt,Ct=void 0)}if(3===j.colorType&&(Z=this.color_spaces.INDEXED,gt=j.palette,j.transparency.indexed)){var Qt=j.transparency.indexed,Wt=0;for($=0,Y=Qt.length;$<Y;++$)Wt+=Qt[$];if((Wt/=255)==Y-1&&-1!==Qt.indexOf(0))W=[Qt.indexOf(0)];else if(Wt!==Y){for(ut=j.decodePixels(),Tt=new Uint8Array(ut.length),$=0,Y=ut.length;$<Y;$++)Tt[$]=Qt[ut[$]];It=n(Tt,j.width,1)}}var I=function(K){var G;switch(K){case r.image_compression.FAST:G=11;break;case r.image_compression.MEDIUM:G=13;break;case r.image_compression.SLOW:G=14;break;default:G=12}return G}(L);return Ct===this.decode.FLATE_DECODE&&(_t="/Predictor "+I+" "),_t+="/Colors "+it+" /BitsPerComponent "+z+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),(It&&this.__addimage__.isArrayBuffer(It)||this.__addimage__.isArrayBufferView(It))&&(It=this.__addimage__.arrayBufferToBinaryString(It)),{alias:M,data:k,index:v,filter:Ct,decodeParameters:_t,transparency:W,palette:gt,sMask:It,predictor:I,width:j.width,height:j.height,bitsPerComponent:z,colorSpace:Z}}}})(pe.API),function(r){r.processGIF89A=function(i,n,e,A){var s=new yp(i),o=s.width,p=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var w={data:f,width:o,height:p},b=new Wc(100).encode(w,100);return r.processJPEG.call(this,b,n,e,A)},r.processGIF87A=r.processGIF89A}(pe.API),Ar.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var i=0;i<r;i++){var n=this.datav.getUint8(this.pos++,!0),e=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:A,green:e,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ar.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[r]()}catch(n){rA.log("bit decode error:"+n)}},Ar.prototype.bit1=function(){var r,i=Math.ceil(this.width/8),n=i%4;for(r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,A=0;A<i;A++)for(var s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+8*A*4,p=0;p<8&&8*A+p<this.width;p++){var f=this.palette[s>>7-p&1];this.data[o+4*p]=f.blue,this.data[o+4*p+1]=f.green,this.data[o+4*p+2]=f.red,this.data[o+4*p+3]=255}0!==n&&(this.pos+=4-n)}},Ar.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),i=r%4,n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,A=0;A<r;A++){var s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+2*A*4,f=15&s,w=this.palette[s>>4];if(this.data[o]=w.blue,this.data[o+1]=w.green,this.data[o+2]=w.red,this.data[o+3]=255,2*A+1>=this.width)break;this.data[o+4]=(w=this.palette[f]).blue,this.data[o+4+1]=w.green,this.data[o+4+2]=w.red,this.data[o+4+3]=255}0!==i&&(this.pos+=4-i)}},Ar.prototype.bit8=function(){for(var r=this.width%4,i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var A=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*e;if(A<this.palette.length){var o=this.palette[A];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==r&&(this.pos+=4-r)}},Ar.prototype.bit15=function(){for(var r=this.width%3,i=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,A=0;A<this.width;A++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&i)/i*255|0,p=(s>>5&i)/i*255|0,w=s>>15?255:0,b=e*this.width*4+4*A;this.data[b]=(s>>10&i)/i*255|0,this.data[b+1]=p,this.data[b+2]=o,this.data[b+3]=w}this.pos+=r}},Ar.prototype.bit16=function(){for(var r=this.width%3,i=parseInt("11111",2),n=parseInt("111111",2),e=this.height-1;e>=0;e--){for(var A=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var p=(o&i)/i*255|0,f=(o>>5&n)/n*255|0,b=A*this.width*4+4*s;this.data[b]=(o>>11)/i*255|0,this.data[b+1]=f,this.data[b+2]=p,this.data[b+3]=255}this.pos+=r}},Ar.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var e=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+4*n;this.data[o]=s,this.data[o+1]=A,this.data[o+2]=e,this.data[o+3]=255}this.pos+=this.width%4}},Ar.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var e=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),p=i*this.width*4+4*n;this.data[p]=s,this.data[p+1]=A,this.data[p+2]=e,this.data[p+3]=o}},Ar.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2018 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){r.processBMP=function(i,n,e,A){var s=new Ar(i,!1),o=s.width,p=s.height,f={data:s.getData(),width:o,height:p},w=new Wc(100).encode(f,100);return r.processJPEG.call(this,w,n,e,A)}}(pe.API),rd.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2019 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){r.processWEBP=function(i,n,e,A){var s=new rd(i,!1),o=s.width,p=s.height,f={data:s.getData(),width:o,height:p},w=new Wc(100).encode(f,100);return r.processJPEG.call(this,w,n,e,A)}}(pe.API),pe.API.processRGBA=function(r,i,n){for(var e=r.data,A=e.length,s=new Uint8Array(A/4*3),o=new Uint8Array(A/4),p=0,f=0,w=0;w<A;w+=4){var y=e[w+1],k=e[w+2],v=e[w+3];s[p++]=e[w],s[p++]=y,s[p++]=k,o[f++]=v}var M=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:M,index:i,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},pe.API.setLanguage=function(r){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]&&(this.internal.languageSettings.languageCode=r,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qa=(zs=pe.API).getCharWidthsArray=function(r,i){var n,e,A=(i=i||{}).font||this.internal.getFont(),s=i.fontSize||this.internal.getFontSize(),o=i.charSpace||this.internal.getCharSpace(),p=i.widths?i.widths:A.metadata.Unicode.widths,f=p.fof?p.fof:1,w=i.kerning?i.kerning:A.metadata.Unicode.kerning,b=w.fof?w.fof:1,y=!1!==i.doKerning,k=0,v=r.length,M=0,L=p[0]||f,Z=[];for(n=0;n<v;n++)e=r.charCodeAt(n),"function"==typeof A.metadata.widthOfString?Z.push((A.metadata.widthOfGlyph(A.metadata.characterToGlyph(e))+o*(1e3/s)||0)/1e3):(k=y&&"object"===(0,cA.Z)(w[e])&&!isNaN(parseInt(w[e][M],10))?w[e][M]/b:0,Z.push((p[e]||L)/f+k)),M=e;return Z},td=zs.getStringUnitWidth=function(r,i){var n=(i=i||{}).fontSize||this.internal.getFontSize(),e=i.font||this.internal.getFont(),A=i.charSpace||this.internal.getCharSpace();return zs.processArabic&&(r=zs.processArabic(r)),"function"==typeof e.metadata.widthOfString?e.metadata.widthOfString(r,n,A)/n:Qa.apply(this,arguments).reduce(function(s,o){return s+o},0)},ed=function(r,i,n,e){for(var A=[],s=0,o=r.length,p=0;s!==o&&p+i[s]<n;)p+=i[s],s++;A.push(r.slice(0,s));var f=s;for(p=0;s!==o;)p+i[s]>e&&(A.push(r.slice(f,s)),p=0,f=s),p+=i[s],s++;return f!==s&&A.push(r.slice(f,s)),A},Ad=function(r,i,n){n||(n={});var e,A,s,o,p,f,b=[],y=[b],k=n.textIndent||0,v=0,M=0,L=r.split(" "),Z=Qa.apply(this,[" ",n])[0];if(f=-1===n.lineIndent?L[0].length+2:n.lineIndent||0){var z=Array(f).join(" "),j=[];L.map(function(it){(it=it.split(/\s*\n/)).length>1?j=j.concat(it.map(function(gt,It){return(It&&gt.length?"\n":"")+gt})):j.push(it[0])}),L=j,f=td.apply(this,[z,n])}for(s=0,o=L.length;s<o;s++){var W=0;if(e=L[s],f&&"\n"==e[0]&&(e=e.substr(1),W=1),k+v+(M=(A=Qa.apply(this,[e,n])).reduce(function(it,gt){return it+gt},0))>i||W){if(M>i){for(p=ed.apply(this,[e,A,i-(k+v),i]),b.push(p.shift()),b=[p.pop()];p.length;)y.push([p.shift()]);M=A.slice(e.length-(b[0]?b[0].length:0)).reduce(function(it,gt){return it+gt},0)}else b=[e];y.push(b),k=M+f,v=Z}else b.push(e),k+=v+M,v=Z}return y.map(f?function(it,gt){return(gt?z:"")+it.join(" ")}:function(it){return it.join(" ")})},zs.splitTextToSize=function(r,i,n){var e,A=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var y=this.internal.getFont(b.fontName,b.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);e=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*i/A;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/A:0,s.lineIndent=n.lineIndent;var p,f,w=[];for(p=0,f=e.length;p<f;p++)w=w.concat(Ad.apply(this,[e[p],o,s]));return w},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var i="klmnopqrstuvwxyz",n={},e={},A=0;A<16;A++)n[i[A]]="0123456789abcdef"[A],e["0123456789abcdef"[A]]=i[A];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=r.__fontmetrics__.compress=function(y){var k,v,M,L,Z=["{"];for(var z in y){if(k=y[z],isNaN(parseInt(z,10))?v="'"+z+"'":(z=parseInt(z,10),v=(v=s(z).slice(2)).slice(0,-1)+e[v.slice(-1)]),"number"==typeof k)k<0?(M=s(k).slice(3),L="-"):(M=s(k).slice(2),L=""),M=L+M.slice(0,-1)+e[M.slice(-1)];else{if("object"!==(0,cA.Z)(k))throw new Error("Don't know what to do with value type "+(0,cA.Z)(k)+".");M=o(k)}Z.push(v+M)}return Z.push("}"),Z.join("")},p=r.__fontmetrics__.uncompress=function(y){if("string"!=typeof y)throw new Error("Invalid argument passed to uncompress.");for(var k,v,M,L,Z={},z=1,j=Z,W=[],it="",gt="",It=y.length-1,ut=1;ut<It;ut+=1)"'"==(L=y[ut])?k?(M=k.join(""),k=void 0):k=[]:k?k.push(L):"{"==L?(W.push([j,M]),j={},M=void 0):"}"==L?((v=W.pop())[0][v[1]]=j,M=void 0,j=v[0]):"-"==L?z=-1:void 0===M?n.hasOwnProperty(L)?(it+=n[L],M=parseInt(it,16)*z,z=1,it=""):it+=L:n.hasOwnProperty(L)?(gt+=n[L],j[M]=parseInt(gt,16)*z,z=1,M=void 0,gt=""):gt+=L;return Z},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:p("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},w={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},b={Unicode:{"Courier-Oblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":p("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":p("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:p("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:p("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":p("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":p("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(y){var k=y.font,v=b.Unicode[k.postScriptName];v&&(k.metadata.Unicode={},k.metadata.Unicode.widths=v.widths,k.metadata.Unicode.kerning=v.kerning);var M=w.Unicode[k.postScriptName];M&&(k.metadata.Unicode.encoding=M,k.encoding=M.codePages[0])}])}(pe.API),
/**
       * @license
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=function(n){for(var e=n.length,A=new Uint8Array(e),s=0;s<e;s++)A[s]=n.charCodeAt(s);return A};r.API.events.push(["addFont",function(n){var o,p,e=void 0,A=n.font,s=n.instance;if(!A.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");if("string"!=typeof(e=!1===s.existsFileInVFS(A.postScriptName)?s.loadFile(A.postScriptName):s.getFileFromVFS(A.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");o=A,p=/^\x00\x01\x00\x00/.test(p=e)?i(p):i(Qs(p)),o.metadata=r.API.TTFFont.open(p),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(pe),pe.API.addSvgAsImage=function(n,e,A,s,o,p,f,w){if(isNaN(e)||isNaN(A))throw rA.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw rA.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=s,b.height=o;var y=b.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,b.width,b.height);var k={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return function i(){return(fe.canvg?Promise.resolve(fe.canvg):ot.e(178).then(ot.bind(ot,78178))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}().then(function(M){return M.fromString(y,n,k)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(M){return M.render(k)}).then(function(){v.addImage(b.toDataURL("image/jpeg",1),e,A,s,o,f,w)})},pe.API.putTotalPages=function(r){var i,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(i=new RegExp(r,"g"),n=this.internal.getNumberOfPages()):(i=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var e=1;e<=this.internal.getNumberOfPages();e++)for(var A=0;A<this.internal.pages[e].length;A++)this.internal.pages[e][A]=this.internal.pages[e][A].replace(i,n);return this},pe.API.viewerPreferences=function(r,i){var n;r=r||{},i=i||!1;var e,A,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},p=Object.keys(o),f=[],w=0,b=0,y=0;function k(M,L){var Z,z=!1;for(Z=0;Z<M.length;Z+=1)M[Z]===L&&(z=!0);return z}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===r||!0===i){var v=p.length;for(y=0;y<v;y+=1)n[p[y]].value=n[p[y]].defaultValue,n[p[y]].explicitSet=!1}if("object"===(0,cA.Z)(r))for(A in r)if(s=r[A],k(p,A)&&void 0!==s){if("boolean"===n[A].type&&"boolean"==typeof s)n[A].value=s;else if("name"===n[A].type&&k(n[A].valueSet,s))n[A].value=s;else if("integer"===n[A].type&&Number.isInteger(s))n[A].value=s;else if("array"===n[A].type){for(w=0;w<s.length;w+=1)if(e=!0,1===s[w].length&&"number"==typeof s[w][0])f.push(String(s[w]-1));else if(s[w].length>1){for(b=0;b<s[w].length;b+=1)"number"!=typeof s[w][b]&&(e=!1);!0===e&&f.push([s[w][0]-1,s[w][1]-1].join(" "))}n[A].value="["+f.join(" ")+"]"}else n[A].value=n[A].defaultValue;n[A].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var M,L=[];for(M in n)!0===n[M].explicitSet&&L.push("name"===n[M].type?"/"+M+" /"+n[M].value:"/"+M+" "+n[M].value);0!==L.length&&this.internal.write("/ViewerPreferences\n<<\n"+L.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},
/** ====================================================================
       * @license
       * jsPDF XMP metadata plugin
       * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
       *
       * Permission is hereby granted, free of charge, to any person obtaining
       * a copy of this software and associated documentation files (the
       * "Software"), to deal in the Software without restriction, including
       * without limitation the rights to use, copy, modify, merge, publish,
       * distribute, sublicense, and/or sell copies of the Software, and to
       * permit persons to whom the Software is furnished to do so, subject to
       * the following conditions:
       *
       * The above copyright notice and this permission notice shall be
       * included in all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
       * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
       * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
       * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
       * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
       * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
       * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
       * ====================================================================
       */
function(r){var i=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',A=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(e)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),p=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),w=s.length+o.length+p.length+A.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+w+" >>"),this.internal.write("stream"),this.internal.write(A+s+o+p+f),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(e,A){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:A||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",i)),this}}(pe.API),function(r){var i=r.API,n=i.pdfEscape16=function(s,o){for(var p,f=o.metadata.Unicode.widths,w=["","0","00","000","0000"],b=[""],y=0,k=s.length;y<k;++y){if(p=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(p),o.metadata.toUnicode[p]=s.charCodeAt(y),-1==f.indexOf(p)&&(f.push(p),f.push([parseInt(o.metadata.widthOfGlyph(p),10)])),"0"==p)return b.join("");p=p.toString(16),b.push(w[4-p.length],p)}return b.join("")},e=function(s){var o,p,f,w,b,y,k;for(b="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",f=[],y=0,k=(p=Object.keys(s).sort(function(v,M){return v-M})).length;y<k;y++)o=p[y],f.length>=100&&(b+="\n"+f.length+" beginbfchar\n"+f.join("\n")+"\nendbfchar",f=[]),null!=s[o]&&"function"==typeof s[o].toString&&(w=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),f.push("<"+o+"><"+w+">"));return f.length&&(b+="\n"+f.length+" beginbfchar\n"+f.join("\n")+"\nendbfchar\n"),b+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};i.events.push(["putFont",function(s){!function(o){var p=o.font,f=o.out,w=o.newObject,b=o.putStream;if(p.metadata instanceof r.API.TTFFont&&"Identity-H"===p.encoding){for(var y=p.metadata.Unicode.widths,k=p.metadata.subset.encode(p.metadata.glyIdsUsed,1),v="",M=0;M<k.length;M++)v+=String.fromCharCode(k[M]);var L=w();b({data:v,addLength1:!0,objectId:L}),f("endobj");var Z=w();b({data:e(p.metadata.toUnicode),addLength1:!0,objectId:Z}),f("endobj");var z=w();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Us(p.fontName)),f("/FontFile2 "+L+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(p.metadata.bbox)),f("/Flags "+p.metadata.flags),f("/StemV "+p.metadata.stemV),f("/ItalicAngle "+p.metadata.italicAngle),f("/Ascent "+p.metadata.ascender),f("/Descent "+p.metadata.decender),f("/CapHeight "+p.metadata.capHeight),f(">>"),f("endobj");var j=w();f("<<"),f("/Type /Font"),f("/BaseFont /"+Us(p.fontName)),f("/FontDescriptor "+z+" 0 R"),f("/W "+r.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+p.encoding+")"),f(">>"),f(">>"),f("endobj"),p.objectNumber=w(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+Z+" 0 R"),f("/BaseFont /"+Us(p.fontName)),f("/Encoding /"+p.encoding),f("/DescendantFonts ["+j+" 0 R]"),f(">>"),f("endobj"),p.isAlreadyPutted=!0}}(s)}]),i.events.push(["putFont",function(s){!function(o){var p=o.font,f=o.out,w=o.newObject,b=o.putStream;if(p.metadata instanceof r.API.TTFFont&&"WinAnsiEncoding"===p.encoding){for(var y=p.metadata.rawData,k="",v=0;v<y.length;v++)k+=String.fromCharCode(y[v]);var M=w();b({data:k,addLength1:!0,objectId:M}),f("endobj");var L=w();b({data:e(p.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var Z=w();f("<<"),f("/Descent "+p.metadata.decender),f("/CapHeight "+p.metadata.capHeight),f("/StemV "+p.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+M+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(p.metadata.bbox)),f("/FontName /"+Us(p.fontName)),f("/ItalicAngle "+p.metadata.italicAngle),f("/Ascent "+p.metadata.ascender),f(">>"),f("endobj"),p.objectNumber=w();for(var z=0;z<p.metadata.hmtx.widths.length;z++)p.metadata.hmtx.widths[z]=parseInt(p.metadata.hmtx.widths[z]*(1e3/p.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Us(p.fontName)+"/FontDescriptor "+Z+" 0 R/Encoding/"+p.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(p.metadata.hmtx.widths)+">>"),f("endobj"),p.isAlreadyPutted=!0}}(s)}]);var A=function(s){var o,p=s.text||"",f=s.x,w=s.y,b=s.options||{},y=s.mutex||{},k=y.pdfEscape,v=y.activeFontKey,M=y.fonts,L=v,Z="",z=0,j="",W=M[L].encoding;if("Identity-H"!==M[L].encoding)return{text:p,x:f,y:w,options:b,mutex:y};for(j=p,L=v,Array.isArray(p)&&(j=p[0]),z=0;z<j.length;z+=1)M[L].metadata.hasOwnProperty("cmap")&&(o=M[L].metadata.cmap.unicode.codeMap[j[z].charCodeAt(0)]),o||j[z].charCodeAt(0)<256&&M[L].metadata.hasOwnProperty("Unicode")?Z+=j[z]:Z+="";var it="";return parseInt(L.slice(1))<14||"WinAnsiEncoding"===W?it=k(Z,L).split("").map(function(gt){return gt.charCodeAt(0).toString(16)}).join(""):"Identity-H"===W&&(it=n(Z,M[L])),y.isHex=!0,{text:it,x:f,y:w,options:b,mutex:y}};i.events.push(["postProcessText",function(s){var o=s.text||"",p=[],f={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var w=0;for(w=0;w<o.length;w+=1)Array.isArray(o[w])&&3===o[w].length?p.push([A(Object.assign({},f,{text:o[w][0]})).text,o[w][1],o[w][2]]):p.push(A(Object.assign({},f,{text:o[w]})).text);s.text=p}else s.text=A(Object.assign({},f,{text:o})).text}])}(pe),
/**
       * @license
       * jsPDF virtual FileSystem functionality
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(n){return i.call(this),void 0!==this.internal.vFS[n]},r.addFileToVFS=function(n,e){return i.call(this),this.internal.vFS[n]=e,this},r.getFileFromVFS=function(n){return i.call(this),void 0!==this.internal.vFS[n]?this.internal.vFS[n]:null}}(pe.API),
/**
       * @license
       * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
       * MIT License
       */
function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(e){var A,s,o,p,f,w,b,y=i,k=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Z=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],z=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,W=0;this.__bidiEngine__={};var it=function(D){var P=D.charCodeAt(),$=P>>8,q=L[$];return void 0!==q?y[256*q+(255&P)]:252===$||253===$?"AL":z.test($)?"L":8===$?"R":"N"},gt=function(D){for(var P,$=0;$<D.length;$++){if("L"===(P=it(D.charAt($))))return!1;if("R"===P)return!0}return!1},It=function(D,P,$,q){var Ct,_t,xt,pt,Ut=P[q];switch(Ut){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(Ut="AN");break;case"AL":j=!0,Ut="R";break;case"WS":case"BN":Ut="N";break;case"CS":q<1||q+1>=P.length||"EN"!==(Ct=$[q-1])&&"AN"!==Ct||"EN"!==(_t=P[q+1])&&"AN"!==_t?Ut="N":j&&(_t="AN"),Ut=_t===Ct?_t:"N";break;case"ES":Ut="EN"===(Ct=q>0?$[q-1]:"B")&&q+1<P.length&&"EN"===P[q+1]?"EN":"N";break;case"ET":if(q>0&&"EN"===$[q-1]){Ut="EN";break}if(j){Ut="N";break}for(xt=q+1,pt=P.length;xt<pt&&"ET"===P[xt];)xt++;Ut=xt<pt&&"EN"===P[xt]?"EN":"N";break;case"NSM":if(o&&!p){for(pt=P.length,xt=q+1;xt<pt&&"NSM"===P[xt];)xt++;if(xt<pt){var Qt=D[q];if(Ct=P[xt],(Qt>=1425&&Qt<=2303||64286===Qt)&&("R"===Ct||"AL"===Ct)){Ut="R";break}}}Ut=q<1||"B"===(Ct=P[q-1])?"N":$[q-1];break;case"B":j=!1,A=!0,Ut=W;break;case"S":s=!0,Ut="N"}return Ut},ut=function(D,P,$){var q=D.split("");return $&&Y(q,$,{hiLevel:W}),q.reverse(),P&&P.reverse(),q.join("")},Y=function(D,P,$){var q,Ct,_t,xt,pt,Ut=-1,Qt=D.length,Wt=0,I=[],K=W?v:k,G=[];for(j=!1,A=!1,s=!1,Ct=0;Ct<Qt;Ct++)G[Ct]=it(D[Ct]);for(_t=0;_t<Qt;_t++){if(pt=Wt,I[_t]=It(D,G,I,_t),q=240&(Wt=K[pt][M[I[_t]]]),P[_t]=xt=K[Wt&=15][5],q>0)if(16===q){for(Ct=Ut;Ct<_t;Ct++)P[Ct]=1;Ut=-1}else Ut=-1;if(K[Wt][6])-1===Ut&&(Ut=_t);else if(Ut>-1){for(Ct=Ut;Ct<_t;Ct++)P[Ct]=xt;Ut=-1}"B"===G[_t]&&(P[_t]=0),$.hiLevel|=xt}s&&function(At,at,ft){for(var mt=0;mt<ft;mt++)if("S"===At[mt]){at[mt]=W;for(var wt=mt-1;wt>=0&&"WS"===At[wt];wt--)at[wt]=W}}(G,P,Qt)},Tt=function(D,P,$,q,Ct){if(!(Ct.hiLevel<D)){if(1===D&&1===W&&!A)return P.reverse(),void($&&$.reverse());for(var _t,xt,pt,Ut,Qt=P.length,Wt=0;Wt<Qt;){if(q[Wt]>=D){for(pt=Wt+1;pt<Qt&&q[pt]>=D;)pt++;for(Ut=Wt,xt=pt-1;Ut<xt;Ut++,xt--)_t=P[Ut],P[Ut]=P[xt],P[xt]=_t,$&&(_t=$[Ut],$[Ut]=$[xt],$[xt]=_t);Wt=pt}Wt++}}},kt=function(D,P,$){var q=D.split(""),Ct={hiLevel:W};return $||($=[]),Y(q,$,Ct),function(_t,xt,pt){if(0!==pt.hiLevel&&b)for(var Ut,Qt=0;Qt<_t.length;Qt++)1===xt[Qt]&&(Ut=Z.indexOf(_t[Qt]))>=0&&(_t[Qt]=Z[Ut+1])}(q,$,Ct),Tt(2,q,P,$,Ct),Tt(1,q,P,$,Ct),q.join("")};return this.__bidiEngine__.doBidiReorder=function(D,P,$){if(function(Ct,_t){if(_t)for(var xt=0;xt<Ct.length;xt++)_t[xt]=xt;void 0===p&&(p=gt(Ct)),void 0===w&&(w=gt(Ct))}(D,P),o||!f||w)if(o&&f&&p^w)W=p?1:0,D=ut(D,P,$);else if(!o&&f&&w)W=p?1:0,D=kt(D,P,$),D=ut(D,P);else if(!o||p||f||w){if(o&&!f&&p^w)D=ut(D,P),p?(W=0,D=kt(D,P,$)):(W=1,D=kt(D,P,$),D=ut(D,P));else if(o&&p&&!f&&w)W=1,D=kt(D,P,$),D=ut(D,P);else if(!o&&!f&&p^w){var q=b;p?(W=1,D=kt(D,P,$),W=0,b=!1,D=kt(D,P,$),b=q):(W=0,D=kt(D,P,$),D=ut(D,P),W=1,b=!1,D=kt(D,P,$),b=q,D=ut(D,P))}}else W=0,D=kt(D,P,$);else W=p?1:0,D=kt(D,P,$);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,f=D.isOutputVisual,p=D.isInputRtl,w=D.isOutputRtl,b=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(e){var A=e.text,s=e.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,n.setOptions(s),"[object Array]"===Object.prototype.toString.call(A)){var p=0;for(o=[],p=0;p<A.length;p+=1)"[object Array]"===Object.prototype.toString.call(A[p])?o.push([n.doBidiReorder(A[p][0]),A[p][1],A[p][2]]):o.push([n.doBidiReorder(A[p])]);e.text=o}else e.text=n.doBidiReorder(A);n.setOptions({isInputVisual:!0})}])}(pe),pe.API.TTFFont=function(){function r(i){var n;if(this.rawData=i,n=this.contents=new gi(i),this.contents.pos=4,"ttcf"===n.readString(4))throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Op(this),this.registerTTF()}return r.open=function(i){return new r(i)},r.prototype.parse=function(){return this.directory=new xp(this.contents),this.head=new kp(this),this.name=new Sp(this),this.cmap=new Xc(this),this.toUnicode={},this.hhea=new Qp(this),this.maxp=new zp(this),this.hmtx=new Lp(this),this.post=new Up(this),this.os2=new Fp(this),this.loca=new Np(this),this.glyf=new RA(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var n,e,A,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,p,f,w;for(w=[],o=0,p=(f=this.bbox).length;o<p;o++)w.push(Math.round(f[o]*this.scaleFactor));return w}.call(this),this.stemV=0,this.post.exists?(e=255&(A=this.post.italic_angle),32768&(n=A>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(i){var n;return(null!=(n=this.cmap.unicode)?n.codeMap[i]:void 0)||0},r.prototype.widthOfGlyph=function(i){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(i).advance*n},r.prototype.widthOfString=function(i,n,e){var A,s,o,p;for(o=0,s=0,p=(i=""+i).length;0<=p?s<p:s>p;s=0<=p?++s:--s)A=i.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(A))+e*(1e3/n)||0;return o*(n/1e3)},r.prototype.lineHeight=function(i,n){return null==n&&(n=!1),(this.ascender+(n?this.lineGap:0)-this.decender)/1e3*i},r}();var Dn,gi=function(){function r(i){this.data=i??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(i){return this.data[this.pos++]=i},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(i){return this.writeByte(i>>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt32=function(){var i;return(i=this.readUInt32())>=2147483648?i-4294967296:i},r.prototype.writeInt32=function(i){return i<0&&(i+=4294967296),this.writeUInt32(i)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(i){return this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt16=function(){var i;return(i=this.readUInt16())>=32768?i-65536:i},r.prototype.writeInt16=function(i){return i<0&&(i+=65536),this.writeUInt16(i)},r.prototype.readString=function(i){var n,e;for(e=[],n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)e[n]=String.fromCharCode(this.readByte());return e.join("")},r.prototype.writeString=function(i){var n,e,A;for(A=[],n=0,e=i.length;0<=e?n<e:n>e;n=0<=e?++n:--n)A.push(this.writeByte(i.charCodeAt(n)));return A},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(i){return this.writeInt16(i)},r.prototype.readLongLong=function(){var i,n,e,A,s,o,p,f;return i=this.readByte(),n=this.readByte(),e=this.readByte(),A=this.readByte(),s=this.readByte(),o=this.readByte(),p=this.readByte(),f=this.readByte(),128&i?-1*(72057594037927940*(255^i)+281474976710656*(255^n)+1099511627776*(255^e)+4294967296*(255^A)+16777216*(255^s)+65536*(255^o)+256*(255^p)+(255^f)+1):72057594037927940*i+281474976710656*n+1099511627776*e+4294967296*A+16777216*s+65536*o+256*p+f},r.prototype.writeLongLong=function(i){var n,e;return n=Math.floor(i/4294967296),e=4294967295&i,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(i){return this.writeInt32(i)},r.prototype.read=function(i){var n,e;for(n=[],e=0;0<=i?e<i:e>i;e=0<=i?++e:--e)n.push(this.readByte());return n},r.prototype.write=function(i){var e,A,s;for(s=[],e=0,A=i.length;e<A;e++)s.push(this.writeByte(i[e]));return s},r}(),xp=function(){var r;function i(n){var e,A,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},A=0,s=this.tableCount;0<=s?A<s:A>s;A=0<=s?++A:--A)e={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[e.tag]=e}return i.prototype.encode=function(n){var e,A,o,p,f,w,b,y,k,v,M,L;for(L in v=Object.keys(n).length,f=Math.log(2),y=16*Math.floor(Math.log(v)/f),o=Math.floor(y/f),b=16*v-y,(A=new gi).writeInt(this.scalarType),A.writeShort(v),A.writeShort(y),A.writeShort(o),A.writeShort(b),w=A.pos+16*v,p=null,M=[],n)for(k=n[L],A.writeString(L),A.writeInt(r(k)),A.writeInt(w),A.writeInt(k.length),M=M.concat(k),"head"===L&&(p=w),w+=k.length;w%4;)M.push(0),w++;return A.write(M),e=2981146554-r(A.data),A.pos=p+8,A.writeUInt32(e),A.data},r=function(n){var e,A,s,o;for(n=sd.call(n);n.length%4;)n.push(0);for(s=new gi(n),A=0,e=0,o=n.length;e<o;e=e+=4)A+=s.readUInt32();return 4294967295&A},i}(),Tp={}.hasOwnProperty,Sn=function(r,i){for(var n in i)Tp.call(i,n)&&(r[n]=i[n]);function e(){this.constructor=r}return e.prototype=i.prototype,r.prototype=new e,r.__super__=i.prototype,r};Dn=function(){function r(i){var n;this.file=i,this.exists=!!(n=this.file.directory.tables[this.tag]),n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var kp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="head",i.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},i.prototype.encode=function(n){var e;return(e=new gi).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(n),e.writeShort(this.glyphDataFormat),e.data},i}(),id=function(){function r(i,n){var e,A,s,o,p,f,w,b,y,k,v,M,L,Z,z,j,W;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=n+i.readInt(),y=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=i.readByte();break;case 4:for(v=i.readUInt16(),k=v/2,i.pos+=6,s=function(){var it,gt;for(gt=[],f=it=0;0<=k?it<k:it>k;f=0<=k?++it:--it)gt.push(i.readUInt16());return gt}(),i.pos+=2,L=function(){var it,gt;for(gt=[],f=it=0;0<=k?it<k:it>k;f=0<=k?++it:--it)gt.push(i.readUInt16());return gt}(),w=function(){var it,gt;for(gt=[],f=it=0;0<=k?it<k:it>k;f=0<=k?++it:--it)gt.push(i.readUInt16());return gt}(),b=function(){var it,gt;for(gt=[],f=it=0;0<=k?it<k:it>k;f=0<=k?++it:--it)gt.push(i.readUInt16());return gt}(),A=(this.length-i.pos+this.offset)/2,p=function(){var it,gt;for(gt=[],f=it=0;0<=A?it<A:it>A;f=0<=A?++it:--it)gt.push(i.readUInt16());return gt}(),f=z=0,W=s.length;z<W;f=++z)for(Z=s[f],e=j=M=L[f];M<=Z?j<=Z:j>=Z;e=M<=Z?++j:--j)0===b[f]?o=e+w[f]:0!==(o=p[b[f]/2+(e-M)-(k-f)]||0)&&(o+=w[f]),this.codeMap[e]=65535&o}i.pos=y}return r.encode=function(i,n){var e,A,s,o,p,f,w,b,y,k,v,M,L,Z,z,j,W,gt,It,ut,Y,Tt,kt,D,P,$,q,Ct,_t,xt,pt,Ut,Qt,Wt,I,K,G,At,at,ft,mt,wt,Zt,Ht,Ae;switch(q=new gi,o=Object.keys(i).sort(function(ie,ve){return ie-ve}),n){case"macroman":for(L=0,Z=function(){var ie=[];for(M=0;M<256;++M)ie.push(0);return ie}(),j={0:0},s={},Ct=0,Ut=o.length;Ct<Ut;Ct++)null==j[wt=i[A=o[Ct]]]&&(j[wt]=++L),s[A]={old:i[A],new:j[i[A]]},Z[A]=j[i[A]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(Z),{charMap:s,subtable:q.data,maxGlyphID:L+1};case"unicode":for(P=[],y=[],W=0,j={},e={},z=w=null,_t=0,Qt=o.length;_t<Qt;_t++)null==j[gt=i[A=o[_t]]]&&(j[gt]=++W),e[A]={old:gt,new:j[gt]},p=j[gt]-A,null!=z&&p===w||(z&&y.push(z),P.push(A),w=p),z=A;for(z&&y.push(z),y.push(65535),P.push(65535),kt=2*(Tt=P.length),Y=2*Math.pow(Math.log(Tt)/Math.LN2,2),k=Math.log(Y/2)/Math.LN2,ut=2*Tt-Y,f=[],It=[],v=[],M=xt=0,Wt=P.length;xt<Wt;M=++xt){if(b=y[M],65535===(D=P[M])){f.push(0),It.push(0);break}if(D-($=e[D].new)>=32768)for(f.push(0),It.push(2*(v.length+Tt-M)),A=pt=D;D<=b?pt<=b:pt>=b;A=D<=b?++pt:--pt)v.push(e[A].new);else f.push($-D),It.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*Tt+2*v.length),q.writeUInt16(0),q.writeUInt16(kt),q.writeUInt16(Y),q.writeUInt16(k),q.writeUInt16(ut),ft=0,I=y.length;ft<I;ft++)q.writeUInt16(A=y[ft]);for(q.writeUInt16(0),mt=0,K=P.length;mt<K;mt++)q.writeUInt16(A=P[mt]);for(Zt=0,G=f.length;Zt<G;Zt++)q.writeUInt16(p=f[Zt]);for(Ht=0,At=It.length;Ht<At;Ht++)q.writeUInt16(It[Ht]);for(Ae=0,at=v.length;Ae<at;Ae++)q.writeUInt16(L=v[Ae]);return{charMap:e,subtable:q.data,maxGlyphID:W+1}}},r}(),Xc=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="cmap",i.prototype.parse=function(n){var e,A,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,A=0;0<=s?A<s:A>s;A=0<=s?++A:--A)e=new id(n,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},i.encode=function(n,e){var A,s;return null==e&&(e="macroman"),A=id.encode(n,e),(s=new gi).writeUInt16(0),s.writeUInt16(1),A.table=s.data.concat(A.subtable),A},i}(),Qp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="hhea",i.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},i}(),Fp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="OS/2",i.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var e,A;for(A=[],e=0;e<10;++e)A.push(n.readByte());return A}(),this.charRange=function(){var e,A;for(A=[],e=0;e<4;++e)A.push(n.readInt());return A}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var e,A;for(A=[],e=0;e<2;e=++e)A.push(n.readInt());return A}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},i}(),Up=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="post",i.prototype.parse=function(n){var e,A,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(A=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=A?o<A:o>A;o=0<=A?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)e=n.readByte(),s.push(this.names.push(n.readString(e)));return s;case 151552:return A=n.readUInt16(),this.offsets=n.read(A);case 262144:return this.map=function(){var p,f,w;for(w=[],o=p=0,f=this.file.maxp.numGlyphs;0<=f?p<f:p>f;o=0<=f?++p:--p)w.push(n.readUInt32());return w}.call(this)}},i}(),Ip=function(r,i){this.raw=r,this.length=r.length,this.platformID=i.platformID,this.encodingID=i.encodingID,this.languageID=i.languageID},Sp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="name",i.prototype.parse=function(n){var e,A,s,o,p,f,w,b,y,k,v;for(n.pos=this.offset,n.readShort(),e=n.readShort(),f=n.readShort(),A=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)A.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+f+n.readShort()});for(w={},o=y=0,k=A.length;y<k;o=++y)n.pos=(s=A[o]).offset,b=n.readString(s.length),p=new Ip(b,s),null==w[v=s.nameID]&&(w[v]=[]),w[s.nameID].push(p);this.strings=w,this.copyright=w[0],this.fontFamily=w[1],this.fontSubfamily=w[2],this.uniqueSubfamily=w[3],this.fontName=w[4],this.version=w[5];try{this.postscriptName=w[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=w[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=w[7],this.manufacturer=w[8],this.designer=w[9],this.description=w[10],this.vendorUrl=w[11],this.designerUrl=w[12],this.license=w[13],this.licenseUrl=w[14],this.preferredFamily=w[15],this.preferredSubfamily=w[17],this.compatibleFull=w[18],this.sampleText=w[19]},i}(),zp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="maxp",i.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},i}(),Lp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="hmtx",i.prototype.parse=function(n){var e,A,s,p,f,w;for(n.pos=this.offset,this.metrics=[],e=0,f=this.file.hhea.numberOfMetrics;0<=f?e<f:e>f;e=0<=f?++e:--e)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var b,y;for(y=[],e=b=0;0<=s?b<s:b>s;e=0<=s?++b:--b)y.push(n.readInt16());return y}(),this.widths=function(){var b,y,k,v;for(v=[],b=0,y=(k=this.metrics).length;b<y;b++)v.push(k[b].advance);return v}.call(this),A=this.widths[this.widths.length-1],w=[],e=p=0;0<=s?p<s:p>s;e=0<=s?++p:--p)w.push(this.widths.push(A));return w},i.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},i}(),sd=[].slice,RA=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(n){var e,A,s,o,p,f,w,b,y,k;return n in this.cache?this.cache[n]:(e=this.file.contents,A=(o=this.file.loca).indexOf(n),0===(s=o.lengthOf(n))?this.cache[n]=null:(e.pos=this.offset+A,p=(f=new gi(e.read(s))).readShort(),b=f.readShort(),k=f.readShort(),w=f.readShort(),y=f.readShort(),this.cache[n]=-1===p?new Mp(f,b,k,w,y):new Ep(f,p,b,k,w,y),this.cache[n]))},i.prototype.encode=function(n,e,A){var s,o,p,f,w;for(p=[],o=[],f=0,w=e.length;f<w;f++)s=n[e[f]],o.push(p.length),s&&(p=p.concat(s.encode(A)));return o.push(p.length),{table:p,offsets:o}},i}(),Ep=function(){function r(i,n,e,A,s,o){this.raw=i,this.numberOfContours=n,this.xMin=e,this.yMin=A,this.xMax=s,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),Mp=function(){function r(i,n,e,A,s){var o,p;for(this.raw=i,this.xMin=n,this.yMin=e,this.xMax=A,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;p=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&p;)o.pos+=1&p?4:2,128&p?o.pos+=8:64&p?o.pos+=4:8&p&&(o.pos+=2)}return r.prototype.encode=function(){var i,n,e;for(n=new gi(sd.call(this.raw.data)),i=0,e=this.glyphIDs.length;i<e;++i)n.pos=this.glyphOffsets[i];return n.data},r}(),Np=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sn(i,Dn),i.prototype.tag="loca",i.prototype.parse=function(n){var A;return n.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],A=0,s=this.length;A<s;A+=2)o.push(2*n.readUInt16());return o}.call(this):function(){var s,o;for(o=[],A=0,s=this.length;A<s;A+=4)o.push(n.readUInt32());return o}.call(this)},i.prototype.indexOf=function(n){return this.offsets[n]},i.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},i.prototype.encode=function(n,e){for(var A=new Uint32Array(this.offsets.length),s=0,o=0,p=0;p<A.length;++p)if(A[p]=s,o<e.length&&e[o]==p){++o,A[p]=s;var w=this.offsets[p+1]-this.offsets[p];w>0&&(s+=w)}for(var b=new Array(4*A.length),y=0;y<A.length;++y)b[4*y+3]=255&A[y],b[4*y+2]=(65280&A[y])>>8,b[4*y+1]=(16711680&A[y])>>16,b[4*y]=(4278190080&A[y])>>24;return b},i}(),Op=function(){function r(i){this.font=i,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var i,n,A,s;for(n in A=this.font.cmap.tables[0].codeMap,i={},s=this.subset)i[n]=A[s[n]];return i},r.prototype.glyphsFor=function(i){var n,e,A,s,o,p,f;for(A={},o=0,p=i.length;o<p;o++)A[s=i[o]]=this.font.glyf.glyphFor(s);for(s in n=[],A)null!=(e=A[s])&&e.compound&&n.push.apply(n,e.glyphIDs);if(n.length>0)for(s in f=this.glyphsFor(n))A[s]=e=f[s];return A},r.prototype.encode=function(i,n){var e,A,s,o,f,w,b,y,k,v,M,L,Z,z;for(A in e=Xc.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(i),v={0:0},z=e.charMap)v[(f=z[A]).old]=f.new;for(M in k=e.maxGlyphID,o)M in v||(v[M]=k++);return b=function(j){var W,it;for(W in it={},j)it[j[W]]=W;return it}(v),y=Object.keys(b).sort(function(j,W){return j-W}),L=function(){var j,W,it;for(it=[],j=0,W=y.length;j<W;j++)it.push(b[y[j]]);return it}(),s=this.font.glyf.encode(o,L,v),w=this.font.loca.encode(s.offsets,L),Z={cmap:this.font.cmap.raw(),glyf:s.table,loca:w,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(Z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Z)},r}();pe.API.PDFObject=function(){var r;function i(){}return r=function(n,e){return(Array(e+1).join("0")+n).slice(-e)},i.convert=function(n){var A,s;if(Array.isArray(n))return"["+function(){var p,f,w;for(w=[],p=0,f=n.length;p<f;p++)w.push(i.convert(n[p]));return w}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+r(n.getUTCFullYear(),4)+r(n.getUTCMonth(),2)+r(n.getUTCDate(),2)+r(n.getUTCHours(),2)+r(n.getUTCMinutes(),2)+r(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(A in s=["<<"],n)s.push("/"+A+" "+i.convert(n[A]));return s.push(">>"),s.join("\n")}return""+n},i}();const $c=pe;var od=ot(74456),tl=ot.n(od),el=ot(26857),Fa=ot(69862);let Nr=(()=>{var r;class i extends el.P{constructor(e){super(),this.http=e,this.root=`${this.API_BASE_URL}/project-insights`}getProjectOverviewData(e,A){return this._get(this.http,`${this.root}/${e}?archived=${A}`)}getLastUpdatedTasks(e,A){return this._get(this.http,`${this.root}/last-updated/${e}?archived=${A}`)}getProjectLogs(e){return this._get(this.http,`${this.root}/logs/${e}`)}getTaskStatusCounts(e,A){return this._get(this.http,`${this.root}/status-overview/${e}?archived=${A}`)}getPriorityOverview(e,A){return this._get(this.http,`${this.root}/priority-overview/${e}?archived=${A}`)}getOverdueTasks(e,A){return this._get(this.http,`${this.root}/overdue-tasks/${e}?archived=${A}`)}getTasksCompletedEarly(e,A){return this._get(this.http,`${this.root}/early-tasks/${e}?archived=${A}`)}getTasksCompletedLate(e,A){return this._get(this.http,`${this.root}/late-tasks/${e}?archived=${A}`)}getMemberInsightAStats(e,A){return this._get(this.http,`${this.root}/members/stats/${e}?archived=${A}`)}getMemberTasks(e){return this._post(this.http,`${this.root}/members/tasks`,e)}getProjectDeadlineStats(e,A){return this._get(this.http,`${this.root}/deadline/${e}?archived=${A}`)}getOverloggedTasks(e,A){return this._get(this.http,`${this.root}/overlogged-tasks/${e}?archived=${A}`)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.LFG(Fa.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();var je=ot(975),Al=ot(85236),Ls=ot(46619);function ee(r,i){if(1&r&&(t.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),t._UZ(3,"img",8),t.qZA()(),t.TgZ(4,"nz-col",1)(5,"h5",9),t._uU(6,"Project Members"),t.qZA(),t.TgZ(7,"h2",10),t._uU(8),t.qZA()()()),2&r){const n=t.oxw();t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("nzSpan",18),t.xp6(4),t.Oqu(n.memberStats.total_members_count)}}function Pp(r,i){if(1&r&&(t.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),t._UZ(3,"img",11),t.qZA()(),t.TgZ(4,"nz-col",1)(5,"h5",9),t._uU(6,"Assignees with overdue tasks"),t.qZA(),t.TgZ(7,"h2",10),t._uU(8),t.qZA()()()),2&r){const n=t.oxw();t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("nzSpan",18),t.xp6(4),t.Oqu(n.memberStats.overdue_members)}}function Dp(r,i){if(1&r&&(t.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),t._UZ(3,"img",12),t.qZA()(),t.TgZ(4,"nz-col",1)(5,"h5",9),t._uU(6,"Unassigned Members"),t.qZA(),t.TgZ(7,"h2",10),t._uU(8),t.qZA()()()),2&r){const n=t.oxw();t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("nzSpan",18),t.xp6(4),t.Oqu(n.memberStats.unassigned_members)}}const Io=function(){return{rows:2}},Hn=function(){return{size:"large",shape:"square"}};let Hp=(()=>{var r;class i{constructor(e,A,s){this.api=e,this.route=A,this.cdr=s,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.memberStats={},this.projectId="",this.loading=!0,this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(e){this.getProjectMemberInsights()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getProjectMemberInsights(){var e=this;return(0,Ft.Z)(function*(){try{e.loading=!0;const A=yield e.api.getMemberInsightAStats(e.projectId,e.archivedTasksChoice);A.done&&(e.memberStats=A.body),e.loading=!1,e.cdr.markForCheck()}catch{e.loading=!1,e.cdr.markForCheck()}})()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Nr),t.Y36(be.gz),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-member-stats"]],inputs:{archived:"archived"},features:[t.TTD],decls:13,vars:28,consts:[[1,"mt-3","justify-content-between",3,"nzGutter"],[3,"nzSpan"],[1,"h-100"],[3,"nzLoading","nzActive","nzTitle","nzParagraph","nzAvatar"],[3,"nzGutter",4,"ngIf"],[3,"nzGutter"],[1,"d-flex","justify-content-center","align-items-center",3,"nzSpan"],[1,"icon-img-holder"],["src","/assets/images/group.png","alt","",1,"img-fluid"],["nz-typography","",1,"m-0","fw-normal"],["nz-typography","",1,"m-0"],["src","/assets/images/warning.png","alt","",1,"img-fluid"],["src","/assets/images/block-user.png","alt","",1,"img-fluid"]],template:function(e,A){1&e&&(t.TgZ(0,"nz-row",0)(1,"nz-col",1)(2,"nz-card",2),t._UZ(3,"nz-skeleton",3),t.YNc(4,ee,9,4,"nz-row",4),t.qZA()(),t.TgZ(5,"nz-col",1)(6,"nz-card",2),t._UZ(7,"nz-skeleton",3),t.YNc(8,Pp,9,4,"nz-row",4),t.qZA()(),t.TgZ(9,"nz-col",1)(10,"nz-card",2),t._UZ(11,"nz-skeleton",3),t.YNc(12,Dp,9,4,"nz-row",4),t.qZA()()()),2&e&&(t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",8),t.xp6(2),t.Q6J("nzLoading",A.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(22,Io))("nzAvatar",t.DdM(23,Hn)),t.xp6(1),t.Q6J("ngIf",!A.loading),t.xp6(1),t.Q6J("nzSpan",8),t.xp6(2),t.Q6J("nzLoading",A.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(24,Io))("nzAvatar",t.DdM(25,Hn)),t.xp6(1),t.Q6J("ngIf",!A.loading),t.xp6(1),t.Q6J("nzSpan",8),t.xp6(2),t.Q6J("nzLoading",A.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(26,Io))("nzAvatar",t.DdM(27,Hn)),t.xp6(1),t.Q6J("ngIf",!A.loading))},dependencies:[Ot.O5,LA.t3,LA.SK,$e.ZU,ln.ng,wn.bd],styles:[".fs-16[_ngcontent-%COMP%]{font-size:16px}.fs-26[_ngcontent-%COMP%]{font-size:36px}.fs-50[_ngcontent-%COMP%]{font-size:50px}nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}.icon-img-holder[_ngcontent-%COMP%]{width:70%}"],changeDetection:0}),i})();var mi=ot(86825);function So(r,i){1&r&&t._UZ(0,"nz-spin")}function Ua(r,i){1&r&&(t.TgZ(0,"div",10)(1,"div",11),t._UZ(2,"img",12),t.qZA(),t.TgZ(3,"span",13),t._uU(4,"The project does not have any members yet."),t.qZA()())}function Zp(r,i){1&r&&t._UZ(0,"span",23)}function jp(r,i){1&r&&t._UZ(0,"span",24)}function Rp(r,i){if(1&r&&(t.TgZ(0,"span"),t.YNc(1,Zp,1,0,"span",21),t.YNc(2,jp,1,0,"span",22),t.qZA()),2&r){const n=t.oxw(2).$implicit,e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.expanded[n.id]),t.xp6(1),t.Q6J("ngIf",!e.expanded[n.id])}}function Ji(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.rowClicked(A))}),t.YNc(1,Rp,3,2,"span",3),t.qZA()}if(2&r){const n=t.oxw().$implicit,e=t.oxw(2);t.ekj("clickable",e.isRowClickable(n)),t.xp6(1),t.Q6J("ngIf",e.isRowClickable(n))}}function nl(r,i){1&r&&t._UZ(0,"div",7)}function rl(r,i){1&r&&t._UZ(0,"span",25),2&r&&t.Q6J("nzTooltipTitle","This member has overdue tasks.")("nzType","exclamation-circle")("nzTheme","outline")}function Kp(r,i){1&r&&t._UZ(0,"span",25),2&r&&t.Q6J("nzTooltipTitle","This task is overdue.")("nzType","exclamation-circle")("nzTheme","outline")}function ad(r,i){if(1&r&&(t.TgZ(0,"div",31)(1,"div",28),t.YNc(2,Kp,1,3,"span",17),t.qZA(),t.TgZ(3,"div",32)(4,"nz-row",33),t._uU(5),t.qZA()(),t.TgZ(6,"div",28)(7,"span",34),t._uU(8),t.qZA()(),t.TgZ(9,"div",28,35),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"div",29),t._uU(14),t.qZA(),t.TgZ(15,"div",29),t._uU(16),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"div",29),t._uU(19),t.qZA(),t.TgZ(20,"div",29),t._uU(21),t.qZA()()),2&r){const n=i.$implicit;t.xp6(2),t.Q6J("ngIf",n.is_overdue),t.xp6(2),t.Q6J("nz-tooltip","true")("nzTooltipTitle",n.name),t.xp6(1),t.hij(" ",n.name," "),t.xp6(2),t.Udp("background-color",n.status_color),t.xp6(1),t.Oqu(n.status),t.xp6(3),t.hij(" ",t.xi3(12,12,n.end_date,"MMM dd, yyyy")," "),t.xp6(3),t.Oqu(n.days_overdue),t.xp6(2),t.Oqu(t.xi3(17,15,n.completed_at,"MMM dd, yyyy")||"N/A"),t.xp6(3),t.Oqu(n.total_minutes),t.xp6(2),t.Oqu(n.overlogged_time)}}function Gp(r,i){if(1&r&&(t.TgZ(0,"div",26)(1,"div",27)(2,"div")(3,"div",6),t._UZ(4,"div",28),t.TgZ(5,"div",28),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"div",28),t._uU(8,"Status"),t.qZA(),t.TgZ(9,"div",28),t._uU(10,"Due Date"),t.qZA(),t.TgZ(11,"div",29),t._uU(12,"Days Overdue"),t.qZA(),t.TgZ(13,"div",29),t._uU(14,"Completed Date"),t.qZA(),t.TgZ(15,"div",29),t._uU(16,"Total Allocation"),t.qZA(),t.TgZ(17,"div",29),t._uU(18,"Over Logged Time"),t.qZA()(),t.YNc(19,ad,22,18,"div",30),t.qZA()()()),2&r){const n=t.oxw().$implicit,e=t.oxw(2);t.Q6J("@detailExpand",e.expanded[n.id]?"expanded":"collapsed"),t.xp6(19),t.Q6J("ngForOf",n.tasks)}}function il(r,i){if(1&r&&(t.TgZ(0,"div",14)(1,"div"),t.YNc(2,Ji,2,3,"div",15),t.YNc(3,nl,1,0,"div",16),t.TgZ(4,"div",7),t.YNc(5,rl,1,3,"span",17),t.qZA(),t.TgZ(6,"div",7),t._uU(7),t.qZA(),t.TgZ(8,"div",7),t._uU(9),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"nz-progress",18),t.qZA(),t.TgZ(12,"div",7),t._uU(13),t.qZA(),t.TgZ(14,"div",7),t._uU(15),t.qZA(),t.TgZ(16,"div",7),t._uU(17),t.qZA(),t.TgZ(18,"div",7),t._UZ(19,"nz-progress",18),t.qZA(),t.YNc(20,Gp,20,2,"div",19),t.qZA()()),2&r){const n=i.$implicit,e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.isRowClickable(n)),t.xp6(1),t.Q6J("ngIf",!e.isRowClickable(n)),t.xp6(2),t.Q6J("ngIf",e.overdueTasksPresent(n)),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.task_count||0),t.xp6(2),t.Q6J("nzPercent",n.contribution),t.xp6(2),t.Oqu(n.done_task_count||0),t.xp6(2),t.Oqu(n.pending_task_count||0),t.xp6(2),t.Oqu(n.overdue_task_count||0),t.xp6(2),t.Q6J("nzPercent",n.progress),t.xp6(1),t.Q6J("ngIf",n.task_count)}}function Jp(r,i){if(1&r&&(t.TgZ(0,"div",5)(1,"div",6),t._UZ(2,"div",7)(3,"div",7),t.TgZ(4,"div",7),t._uU(5,"Name"),t.qZA(),t.TgZ(6,"div",7),t._uU(7,"Task Count"),t.qZA(),t.TgZ(8,"div",7),t._uU(9,"Contribution"),t.qZA(),t.TgZ(10,"div",7),t._uU(11,"Completed"),t.qZA(),t.TgZ(12,"div",7),t._uU(13,"Incomplete"),t.qZA(),t.TgZ(14,"div",7),t._uU(15,"Overdue"),t.qZA(),t.TgZ(16,"div",7),t._uU(17,"Progress"),t.qZA()(),t.YNc(18,Ua,5,0,"div",8),t.YNc(19,il,21,11,"div",9),t.qZA()),2&r){const n=t.oxw();t.xp6(18),t.Q6J("ngIf",!n.projectMembers.length),t.xp6(1),t.Q6J("ngForOf",n.projectMembers)}}let Yp=(()=>{var r;class i{constructor(e,A,s,o,p,f){this.route=e,this.socket=A,this.utils=s,this.projectsApiService=o,this.projectInsightsService=p,this.cdr=f,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.projectMembers=[],this.projectId="",this.projectOverview={},this.taskStatuses=[],this.completed=0,this.pending=0,this.loading=!0,this.loadingTasks=!0,this.loadingStatuses=!1,this.expanded={},this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(e){this.init(),this.expanded={}}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}init(){this.getProjectOverview(),this.getProjectOverviewMembers()}getProjectOverview(){var e=this;return(0,Ft.Z)(function*(){try{e.loading=!0;const A=yield e.projectsApiService.getOverViewById(e.projectId);A.done&&(e.projectOverview=A.body,e.completed=e.projectOverview.done_task_count?e.projectOverview.done_task_count:0,e.pending=e.projectOverview.pending_task_count?e.projectOverview.pending_task_count:0),e.loading=!1,e.cdr.markForCheck()}catch{e.loading=!1,e.cdr.markForCheck()}})()}getProjectOverviewMembers(){var e=this;return(0,Ft.Z)(function*(){try{e.loading=!0;const A=yield e.projectsApiService.getOverViewMembersById(e.projectId,e.archivedTasksChoice);A.done&&(e.projectMembers=A.body),e.loading=!1,e.cdr.markForCheck()}catch{e.loading=!1,e.cdr.markForCheck()}})()}getTasksByMember(e){var A=this;return(0,Ft.Z)(function*(){try{A.loadingTasks=!0;const s=yield A.projectInsightsService.getMemberTasks({member_id:e.id,project_id:A.projectId,archived:A.archivedTasksChoice});s.done&&(e.tasks=s.body),A.loadingTasks=!1,A.cdr.markForCheck()}catch{A.loadingTasks=!1,A.cdr.markForCheck()}})()}isRowClickable(e){return!!e.task_count&&e.task_count>0}overdueTasksPresent(e){return!!e.overdue_task_count&&e.overdue_task_count>0}rowClicked(e){e.task_count&&(this.expanded[e.id]||this.getTasksByMember(e),this.expanded[e.id]=!this.expanded[e.id],this.cdr.markForCheck())}trackById(e,A){return A.id}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(be.gz),t.Y36(je.s),t.Y36(En.F),t.Y36(Xo.U),t.Y36(Nr),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-member-tasks"]],hostBindings:function(e,A){1&e&&t.NdJ("worklenz.tasks.update",function(){return A.init()},!1,t.evT)},inputs:{archived:"archived"},features:[t.TTD],decls:5,vars:3,consts:[[1,"mt-3",3,"nzTitle"],[1,"row","mx-0","mt-3","g-4","mt-0"],[1,"col-md-12","mt-0","pe-0","pd-mobile-pe-0"],[4,"ngIf"],["class","table",4,"ngIf"],[1,"table"],[1,"table-header","table-row"],[1,"td"],["class","pt-4 pb-5",4,"ngIf"],["class","table-row",4,"ngFor","ngForOf"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"mx-auto","d-block","no-data-text",2,"width","max-content"],[1,"table-row"],["class","td",3,"clickable","click",4,"ngIf"],["class","td",4,"ngIf"],["nz-tooltip","","nz-icon","","class","overdue-tasks-present",3,"nzTooltipTitle","nzType","nzTheme",4,"ngIf"],[3,"nzPercent"],["class","expanded-panel",4,"ngIf"],[1,"td",3,"click"],["nz-icon","","nzType","down","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","right","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","down","nzTheme","outline"],["nz-icon","","nzType","right","nzTheme","outline"],["nz-tooltip","","nz-icon","",1,"overdue-tasks-present",3,"nzTooltipTitle","nzType","nzTheme"],[1,"expanded-panel"],[1,"child-row"],[1,"child-td"],[1,"child-td","text-center"],["class","table-row mb-0",4,"ngFor","ngForOf"],[1,"table-row","mb-0"],[1,"child-td","mb-0"],["nz-typography","","nzEllipsis","",3,"nz-tooltip","nzTooltipTitle"],[1,"rounded-pill","custom-select","py-1","px-2"],["elementDueDate",""]],template:function(e,A){1&e&&(t.TgZ(0,"nz-card",0)(1,"div",1)(2,"div",2),t.YNc(3,So,1,0,"nz-spin",3),t.YNc(4,Jp,20,2,"div",4),t.qZA()()()),2&e&&(t.Q6J("nzTitle","Tasks by members"),t.xp6(3),t.Q6J("ngIf",A.loading),t.xp6(1),t.Q6J("ngIf",!A.loading))},dependencies:[Ot.sg,Ot.O5,LA.SK,aA.w,qe.Ls,$e.ZU,_s.M,tA.SY,wn.bd,_n.W,Ot.uU],styles:[".table[_ngcontent-%COMP%], .td[_ngcontent-%COMP%]{text-align:left}.table-header[_ngcontent-%COMP%]{font-weight:500}.table-row[_ngcontent-%COMP%]{display:block;white-space:nowrap;overflow:hidden;border-bottom:#e3e3e3 1px solid}.table-row[_ngcontent-%COMP%]:last-child{border:none}.td[_ngcontent-%COMP%]{display:inline-block;padding:12px 10px}.td[_ngcontent-%COMP%]:nth-child(1){width:1vw}.td[_ngcontent-%COMP%]:nth-child(2){width:1vw}.td[_ngcontent-%COMP%]:nth-child(3){width:11vw}.td[_ngcontent-%COMP%]:nth-child(4){width:9vw;text-align:center}.td[_ngcontent-%COMP%]:nth-child(5){width:17%;text-align:center}.td[_ngcontent-%COMP%]:nth-child(6){width:9%;text-align:center}.td[_ngcontent-%COMP%]:nth-child(7){width:9%;text-align:center}.td[_ngcontent-%COMP%]:nth-child(8){width:9%;text-align:center}.td[_ngcontent-%COMP%]:nth-child(9){width:19%;text-align:center}.clickable[_ngcontent-%COMP%]{cursor:pointer}.child-row[_ngcontent-%COMP%]{padding:5px 50px 20px}.overdue-tasks-present[_ngcontent-%COMP%]{color:#f40}nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}.child-td[_ngcontent-%COMP%]{display:inline-block;padding:6px 10px}.child-td[_ngcontent-%COMP%]:nth-child(1){width:3%}.child-td[_ngcontent-%COMP%]:nth-child(2){width:25%}.child-td[_ngcontent-%COMP%]:nth-child(3){width:10%}.child-td[_ngcontent-%COMP%]:nth-child(4){width:12%}.child-td[_ngcontent-%COMP%]:nth-child(5){width:8%}.child-td[_ngcontent-%COMP%]:nth-child(6){width:15%}.child-td[_ngcontent-%COMP%]:nth-child(7){width:10%}.child-td[_ngcontent-%COMP%]:nth-child(8){width:13%}.expanded-panel[_ngcontent-%COMP%]{background-color:#f0f2f5}.no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:42px}"],data:{animation:[(0,mi.X$)("detailExpand",[(0,mi.SB)("collapsed",(0,mi.oB)({height:"0px",minHeight:"0"})),(0,mi.SB)("expanded",(0,mi.oB)({height:"*"})),(0,mi.eR)("expanded <=> collapsed",(0,mi.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]},changeDetection:0}),i})();const qp=["membersInsights"];let cd=(()=>{var r;class i{constructor(e){this.projectInsightsComponent=e,this.archived=!1,this.includeArchivedTasks="include-archived-tasks"}exportMembersInsight(e){this.membersInsights&&(this.projectInsightsComponent.isLoading=!0,tl()(this.membersInsights.nativeElement).then(A=>{let s=A.toDataURL("image/PNG"),o=new $c("p","mm","a4",!0);const w=o.getImageProperties(s),b=o.internal.pageSize.getWidth()-10,y=w.height*b/w.width;let k=new Image;return k.src=location.origin+"/assets/images/logo.png",o.addImage(k,"PNG",o.internal.pageSize.getWidth()/2-12,5,30,6.5),o.setFontSize(14),o.setTextColor(0,0,0,.85),o.text(["Insights - "+e+" - Members",`${(0,Ot.p6)(new Date,"yyyy-MM-dd","en")}`],105,17,{maxWidth:b,align:"center"}),o.addImage(s,"PNG",5,28,b,y),o}).then(A=>{A.save("Members Insights "+(0,Ot.p6)(new Date,"yyyy-MM-dd","en")+".pdf"),this.projectInsightsComponent.isLoading=!1}))}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(zo))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-insights-member-overview"]],viewQuery:function(e,A){if(1&e&&t.Gf(qp,5),2&e){let s;t.iGM(s=t.CRH())&&(A.membersInsights=s.first)}},inputs:{archived:"archived"},decls:4,vars:2,consts:[["membersInsights",""],[3,"archived"]],template:function(e,A){1&e&&(t.TgZ(0,"div",null,0),t._UZ(2,"worklenz-member-stats",1)(3,"worklenz-member-tasks",1),t.qZA()),2&e&&(t.xp6(2),t.Q6J("archived",A.archived),t.xp6(1),t.Q6J("archived",A.archived))},dependencies:[Hp,Yp],styles:["nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}"]}),i})();var ld=ot(45538),Or=ot(96928);function Vp(r,i){if(1&r&&(t.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),t._UZ(3,"img",8),t.qZA()(),t.TgZ(4,"nz-col",1)(5,"h5",9),t._uU(6,"Completed tasks"),t.qZA(),t.TgZ(7,"h2",10),t._uU(8),t.qZA()()()),2&r){const n=t.oxw();t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("nzSpan",18),t.xp6(4),t.Oqu(n.overviewData.completed_tasks_count||0)}}function Wp(r,i){if(1&r&&(t.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),t._UZ(3,"img",11),t.qZA()(),t.TgZ(4,"nz-col",1)(5,"h5",9),t._uU(6,"Incomplete tasks"),t.qZA(),t.TgZ(7,"h2",10),t._uU(8),t.qZA()()()),2&r){const n=t.oxw();t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("nzSpan",18),t.xp6(4),t.Oqu(n.overviewData.todo_tasks_count||0)}}function ud(r,i){if(1&r&&(t.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),t._UZ(3,"img",12),t.qZA()(),t.TgZ(4,"nz-col",1)(5,"h5",9),t._uU(6,"Overdue tasks "),t._UZ(7,"span",13),t.qZA(),t.TgZ(8,"h2",10),t._uU(9),t.qZA()()()),2&r){const n=t.oxw();t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("nzSpan",18),t.xp6(3),t.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that are past their due date"),t.xp6(2),t.Oqu(n.overviewData.overdue_count||0)}}function Xp(r,i){1&r&&t._UZ(0,"img",18)}function $p(r,i){1&r&&t._UZ(0,"img",19)}function tf(r,i){if(1&r&&(t.TgZ(0,"table")(1,"tr")(2,"td"),t._uU(3,"Total Estimation:"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()(),t.TgZ(6,"tr")(7,"td"),t._uU(8,"Total Logged Hours:"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()()),2&r){const n=t.oxw(2);t.xp6(5),t.hij("\xa0 ",n.overviewData.total_estimated_hours_string||"Oh 0m",""),t.xp6(5),t.hij("\xa0 ",n.overviewData.total_logged_hours_string||"Oh 0m","")}}function dd(r,i){if(1&r&&(t.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),t.YNc(3,Xp,1,0,"img",14),t.YNc(4,$p,1,0,"img",15),t.qZA()(),t.TgZ(5,"nz-col",1)(6,"h5",9),t._uU(7),t._UZ(8,"span",13),t.qZA(),t.TgZ(9,"h2",16),t._uU(10),t.qZA(),t.YNc(11,tf,11,2,"ng-template",null,17,t.W1O),t.qZA()()),2&r){const n=t.MAs(12),e=t.oxw();t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(2),t.Q6J("ngIf",e.checkOverLoggedOrNot(e.overviewData)),t.xp6(1),t.Q6J("ngIf",!e.checkOverLoggedOrNot(e.overviewData)),t.xp6(1),t.Q6J("nzSpan",18),t.xp6(2),t.hij("",e.checkOverLoggedOrNot(e.overviewData)?"Over":"Under"," logged hours "),t.xp6(1),t.Q6J("nz-tooltip","true")("nzTooltipTitle","Difference between task estimation and logged time for tasks."),t.xp6(1),t.Q6J("nz-tooltip","true")("nzTooltipPlacement","top")("nzTooltipTitle",n),t.xp6(1),t.hij(" ",e.checkOverLoggedOrNot(e.overviewData)?"("+(e.overviewData.overlogged_hours||0)+")":e.overviewData.overlogged_hours," ")}}const Ia=function(){return{rows:2}},Yi=function(){return{size:"large",shape:"square"}};let hd=(()=>{var r;class i{constructor(e,A,s){this.api=e,this.route=A,this.cdr=s,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.overviewData={},this.projectId="",this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(e){this.getProjectOverviewData()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getProjectOverviewData(){var e=this;return(0,Ft.Z)(function*(){try{e.loading=!0;const A=yield e.api.getProjectOverviewData(e.projectId,e.archivedTasksChoice);A.done&&(e.overviewData=A.body),e.loading=!1,e.cdr.markForCheck()}catch(A){e.loading=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}checkOverLoggedOrNot(e){return null!==e.total_estimated_hours&&null!==e.total_logged_hours&&(e.total_estimated_hours||0)<(e.total_logged_hours||0)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Nr),t.Y36(be.gz),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-stats"]],inputs:{archived:"archived"},features:[t.TTD],decls:17,vars:37,consts:[[1,"mt-3","justify-content-between",3,"nzGutter"],[3,"nzSpan"],[1,"h-100"],[3,"nzLoading","nzActive","nzTitle","nzParagraph","nzAvatar"],[3,"nzGutter",4,"ngIf"],[3,"nzGutter"],[1,"d-flex","justify-content-center","align-items-center",3,"nzSpan"],[1,"icon-img-holder"],["src","/assets/images/insights-check.png","alt","",1,"img-fluid"],["nz-typography","",1,"m-0","fw-normal"],["nz-typography","",1,"m-0"],["src","/assets/images/clipboard.png","alt","",1,"img-fluid"],["src","/assets/images/warning.png","alt","",1,"img-fluid"],["nz-icon","","nzType","info-circle","nzTheme","outline",2,"color","#3587ff","font-size","14px",3,"nz-tooltip","nzTooltipTitle"],["src","/assets/images/clock-red.png","class","img-fluid","alt","",4,"ngIf"],["src","/assets/images/clock-green.png","class","img-fluid","alt","",4,"ngIf"],["nz-typography","",1,"m-0",3,"nz-tooltip","nzTooltipPlacement","nzTooltipTitle"],["contentTemplate",""],["src","/assets/images/clock-red.png","alt","",1,"img-fluid"],["src","/assets/images/clock-green.png","alt","",1,"img-fluid"]],template:function(e,A){1&e&&(t.TgZ(0,"nz-row",0)(1,"nz-col",1)(2,"nz-card",2),t._UZ(3,"nz-skeleton",3),t.YNc(4,Vp,9,4,"nz-row",4),t.qZA()(),t.TgZ(5,"nz-col",1)(6,"nz-card",2),t._UZ(7,"nz-skeleton",3),t.YNc(8,Wp,9,4,"nz-row",4),t.qZA()(),t.TgZ(9,"nz-col",1)(10,"nz-card",2),t._UZ(11,"nz-skeleton",3),t.YNc(12,ud,10,6,"nz-row",4),t.qZA()(),t.TgZ(13,"nz-col",1)(14,"nz-card",2),t._UZ(15,"nz-skeleton",3),t.YNc(16,dd,13,12,"nz-row",4),t.qZA()()()),2&e&&(t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(2),t.Q6J("nzLoading",A.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(29,Ia))("nzAvatar",t.DdM(30,Yi)),t.xp6(1),t.Q6J("ngIf",!A.loading),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(2),t.Q6J("nzLoading",A.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(31,Ia))("nzAvatar",t.DdM(32,Yi)),t.xp6(1),t.Q6J("ngIf",!A.loading),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(2),t.Q6J("nzLoading",A.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(33,Ia))("nzAvatar",t.DdM(34,Yi)),t.xp6(1),t.Q6J("ngIf",!A.loading),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(2),t.Q6J("nzLoading",A.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(35,Ia))("nzAvatar",t.DdM(36,Yi)),t.xp6(1),t.Q6J("ngIf",!A.loading))},dependencies:[Ot.O5,LA.t3,LA.SK,aA.w,Ce.Uo,Ce.$Z,qe.Ls,$e.ZU,tA.SY,ln.ng,wn.bd],styles:[".fs-16[_ngcontent-%COMP%]{font-size:16px}.fs-26[_ngcontent-%COMP%]{font-size:36px}nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}.fs-50[_ngcontent-%COMP%]{font-size:50px}.icon-img-holder[_ngcontent-%COMP%]{width:80%}"],changeDetection:0}),i})();const sl=["projectOverviewChart"],ol=["tasksInsightsExportDiv"],pd=["memberSearchInput"];function fd(r,i){1&r&&(t._uU(0," Overdue Tasks "),t._UZ(1,"span",21)),2&r&&(t.xp6(1),t.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that are past their due date"))}function ef(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"a",22),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.goToList())}),t._uU(1,"See all"),t.qZA()}}function gd(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"nz-tag",23),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td",24),t._uU(10),t.qZA()()),2&r){const n=i.$implicit;t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("nzColor",n.status_color),t.xp6(1),t.Oqu(n.status_name),t.xp6(2),t.hij(" ",t.xi3(8,5,n.end_date,"mediumDate")||"-"," "),t.xp6(3),t.Oqu(n.days_overdue)}}function al(r,i){1&r&&(t._uU(0," Over logged Tasks "),t._UZ(1,"span",21)),2&r&&(t.xp6(1),t.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that has time logged past their estimated time"))}function cl(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"a",22),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.goToList())}),t._uU(1,"See all"),t.qZA()}}const md=function(){return[]};function _d(r,i){if(1&r&&t._UZ(0,"worklenz-avatars",32),2&r){const n=t.oxw().$implicit;t.Q6J("names",n.names||t.DdM(1,md))}}function wd(r,i){1&r&&t._UZ(0,"nz-avatar",33),2&r&&t.Q6J("nzSize",28)("nzIcon","plus")}function vd(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"ul",34)(1,"li",35)(2,"input",36,37),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw(2);return t.KtG(s.memberSearchText=A)}),t.qZA()()()}if(2&r){const n=t.oxw(2);t.xp6(2),t.Q6J("ngModel",n.memberSearchText)}}function ll(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"nz-tag",23),t._uU(5),t.qZA()(),t.TgZ(6,"td",25,26)(8,"div",27),t.YNc(9,_d,1,2,"worklenz-avatars",28),t.YNc(10,wd,1,2,"nz-avatar",29),t.qZA(),t.TgZ(11,"nz-dropdown-menu",null,30),t.YNc(13,vd,4,1,"ul",31),t.qZA()(),t.TgZ(14,"td"),t._uU(15),t.qZA()()),2&r){const n=i.$implicit,e=t.oxw();t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("nzColor",n.status_color),t.xp6(1),t.Oqu(n.status_name),t.xp6(1),t.Q6J("nzClickHide",!1)("nzTrigger","click"),t.xp6(3),t.Q6J("ngIf",null==n.names?null:n.names.length),t.xp6(1),t.Q6J("ngIf",!(null!=n.assignees&&n.assignees.length)),t.xp6(3),t.Q6J("ngIf",e.members.length),t.xp6(2),t.Oqu(n.overlogged_time_string)}}function Af(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"a",22),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.goToList())}),t._uU(1,"See all"),t.qZA()}}function nf(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"nz-tag",23),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&r){const n=i.$implicit;t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("nzColor",n.status_color),t.xp6(1),t.Oqu(n.status_name),t.xp6(2),t.hij(" ",t.xi3(8,5,n.end_date,"mediumDate")||"-"," "),t.xp6(3),t.Oqu(t.xi3(11,8,n.completed_at,"MMM d, y"))}}function rf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"a",22),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.goToList())}),t._uU(1,"See all"),t.qZA()}}function Zn(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"nz-tag",23),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&r){const n=i.$implicit;t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("nzColor",n.status_color),t.xp6(1),t.Oqu(n.status_name),t.xp6(2),t.hij(" ",t.xi3(8,5,n.end_date,"mediumDate")||"-"," "),t.xp6(3),t.Oqu(t.xi3(11,8,n.completed_at,"MMM d, y"))}}function ul(r,i){1&r&&(t.TgZ(0,"div",38)(1,"div",39),t._UZ(2,"img",40),t.qZA(),t.TgZ(3,"div")(4,"span",41),t._uU(5,"All tasks completed on time."),t.qZA()()())}function sf(r,i){1&r&&(t.TgZ(0,"div",38)(1,"div",39),t._UZ(2,"img",40),t.qZA(),t.TgZ(3,"div")(4,"span",41),t._uU(5,"All tasks completed on time."),t.qZA()()())}function of(r,i){1&r&&(t.TgZ(0,"div",38)(1,"div",39),t._UZ(2,"img",42),t.qZA(),t.TgZ(3,"span",41),t._uU(4,"No tasks completed early in the project."),t.qZA()())}function af(r,i){1&r&&(t.TgZ(0,"div",38)(1,"div",39),t._UZ(2,"img",40),t.qZA(),t.TgZ(3,"span",41),t._uU(4,"All tasks completed on time."),t.qZA()())}let Cd=(()=>{var r;class i{constructor(e,A,s,o,p,f,w,b,y,k){this.route=e,this.auth=A,this.router=s,this.api=o,this.statusesApi=p,this.teamMembersApi=f,this.utils=w,this.socket=b,this.projectInsightsComponent=y,this.cdr=k,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.highlight="highlight-col",this.projectId="",this.overviewData={},this.taskStatuses=[],this.members=[],this.data={},this.overdueTasks=[],this.overloggedTasks=[],this.earlyTasks=[],this.lateTasks=[],this.loadingOverdue=!0,this.loadingOverlogged=!0,this.loadingEarlyTasks=!0,this.loadingLateTasks=!0,this.loadingOverviewData=!1,this.loadingStatuses=!1,this.completed=0,this.pending=0,this.showTaskDrawer=!1,this.selectedTaskId=null,this.memberSearchText=null,this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(e){this.getData()}getData(){this.getOverdueTasks(),this.getEarlyTasks(),this.getLateTasks(),this.getProjectOverviewData(),this.getOverloggedTasks()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getOverdueTasks(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingOverdue=!0;const A=yield e.api.getOverdueTasks(e.projectId,e.archivedTasksChoice);A.done&&(e.overdueTasks=A.body),e.loadingOverdue=!1,e.cdr.markForCheck()}catch(A){e.loadingOverdue=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}getEarlyTasks(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingEarlyTasks=!0;const A=yield e.api.getTasksCompletedEarly(e.projectId,e.archivedTasksChoice);A.done&&(e.earlyTasks=A.body),e.loadingEarlyTasks=!1,e.cdr.markForCheck()}catch(A){e.loadingEarlyTasks=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}getLateTasks(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingLateTasks=!0;const A=yield e.api.getTasksCompletedLate(e.projectId,e.archivedTasksChoice);A.done&&(e.lateTasks=A.body),e.loadingLateTasks=!1,e.cdr.markForCheck()}catch(A){e.loadingLateTasks=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}getProjectOverviewData(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingOverviewData=!0;const A=yield e.api.getProjectOverviewData(e.projectId,e.archivedTasksChoice);A.done&&(e.overviewData=A.body),e.loadingOverviewData=!1,e.cdr.markForCheck()}catch(A){e.loadingOverviewData=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}getOverloggedTasks(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingOverlogged=!0;const A=yield e.api.getOverloggedTasks(e.projectId,e.archivedTasksChoice);A.done&&(e.overloggedTasks=A.body),e.loadingOverlogged=!1,e.cdr.markForCheck()}catch(A){e.loadingOverlogged=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}onCreateOrUpdate(){this.showTaskDrawer=!1,this.selectedTaskId=null,this.cdr.markForCheck()}trackById(e,A){return A.id}goToList(){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:"tasks-list"},queryParamsHandling:"merge"})}exportTaskInsights(e){this.tasksInsightsExportDiv&&(this.projectInsightsComponent.isLoading=!0,tl()(this.tasksInsightsExportDiv.nativeElement).then(A=>{let s=A.toDataURL("image/PNG"),o=new $c("p","mm","a4",!0);const w=o.getImageProperties(s),b=o.internal.pageSize.getWidth()-10,y=w.height*b/w.width;let k=new Image;return k.src=location.origin+"/assets/images/logo.png",o.addImage(k,"PNG",o.internal.pageSize.getWidth()/2-12,5,30,6.5),o.setFontSize(14),o.setTextColor(0,0,0,.85),o.text(["Insights - "+e+" - Tasks",`${(0,Ot.p6)(new Date,"yyyy-MM-dd","en")}`],105,17,{maxWidth:b,align:"center"}),o.addImage(s,"PNG",5,28,b,y),o}).then(A=>{A.save("Tasks Insights "+(0,Ot.p6)(new Date,"yyyy-MM-dd","en")+".pdf"),this.projectInsightsComponent.isLoading=!1}))}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(be.gz),t.Y36(TA.e),t.Y36(be.F0),t.Y36(Nr),t.Y36(Ls.w),t.Y36(ld.B),t.Y36(En.F),t.Y36(je.s),t.Y36(zo),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-task-insights"]],viewQuery:function(e,A){if(1&e&&(t.Gf(sl,5),t.Gf(ol,5),t.Gf(pd,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.projectOverviewChart=s.first),t.iGM(s=t.CRH())&&(A.tasksInsightsExportDiv=s.first),t.iGM(s=t.CRH())&&(A.memberSearchInput=s.first)}},inputs:{archived:"archived"},features:[t.TTD],decls:89,vars:40,consts:[["tasksInsightsExportDiv",""],[3,"archived"],[1,"mt-3",3,"nzGutter"],[3,"nzSpan"],[1,"h-100",3,"nzTitle","nzExtra"],["overdueTitleTemplate",""],["lastExtraTemplate",""],["nzPaginationType","small",3,"nzData","nzHideOnSinglePage","nzLoading","nzSize","nzNoResult"],["tasksTable",""],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["titleTemplate",""],["overLogTasksTable",""],["earlyTasksTable",""],[3,"nzData","nzHideOnSinglePage","nzLoading","nzSize","nzPaginationType","nzNoResult"],["lateTasksTable",""],["noDataTemplate1",""],["noDataTemplate2",""],["noDataTemplate3",""],["noDataTemplate4",""],["nz-icon","","nzType","info-circle","nzTheme","outline",2,"color","#3587ff","font-size","14px",3,"nz-tooltip","nzTooltipTitle"],[3,"click"],[1,"text-dark","rounded-pill","task-list-label",3,"nzColor"],[1,"text-center"],["nz-dropdown","",1,"py-0","editable",3,"nzClickHide","nzTrigger"],["tr",""],[1,"d-flex"],["class","d-flex",3,"names",4,"ngIf"],["class","avatar-dashed bg-white",3,"nzSize","nzIcon",4,"ngIf"],["membersDropdown","nzDropdownMenu"],["class","members-dropdown","nz-menu","",4,"ngIf"],[1,"d-flex",3,"names"],[1,"avatar-dashed","bg-white",3,"nzSize","nzIcon"],["nz-menu","",1,"members-dropdown"],[1,"px-3","py-2"],["type","text","placeholder","Search by name","nz-input","",3,"ngModel","ngModelChange"],["memberSearchInput",""],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/confetti (1).png","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"]],template:function(e,A){if(1&e&&(t.TgZ(0,"div",null,0),t._UZ(2,"worklenz-project-stats",1),t.TgZ(3,"nz-row",2)(4,"nz-col",3)(5,"nz-card",4),t.YNc(6,fd,2,2,"ng-template",null,5,t.W1O),t.YNc(8,ef,2,0,"ng-template",null,6,t.W1O),t.TgZ(10,"nz-table",7,8)(12,"thead")(13,"tr")(14,"th",9),t._uU(15,"Name"),t.qZA(),t.TgZ(16,"th",9),t._uU(17,"Status"),t.qZA(),t.TgZ(18,"th",9),t._uU(19,"End Date"),t.qZA(),t.TgZ(20,"th",10),t._uU(21,"Days overdue"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,gd,11,8,"tr",11),t.qZA()()()(),t.TgZ(24,"nz-col",3)(25,"nz-card",4),t.YNc(26,al,2,2,"ng-template",null,12,t.W1O),t.YNc(28,cl,2,0,"ng-template",null,6,t.W1O),t.TgZ(30,"nz-table",7,13)(32,"thead")(33,"tr")(34,"th",9),t._uU(35,"Name"),t.qZA(),t.TgZ(36,"th",9),t._uU(37,"Status"),t.qZA(),t.TgZ(38,"th",9),t._uU(39,"Members"),t.qZA(),t.TgZ(40,"th",9),t._uU(41,"Over Logged Time"),t.qZA()()(),t.TgZ(42,"tbody"),t.YNc(43,ll,16,9,"tr",11),t.qZA()()()()(),t.TgZ(44,"nz-row",2)(45,"nz-col",3)(46,"nz-card",4),t.YNc(47,Af,2,0,"ng-template",null,6,t.W1O),t.TgZ(49,"nz-table",7,14)(51,"thead")(52,"tr")(53,"th",9),t._uU(54,"Name"),t.qZA(),t.TgZ(55,"th",9),t._uU(56,"Status"),t.qZA(),t.TgZ(57,"th",9),t._uU(58,"End Date"),t.qZA(),t.TgZ(59,"th",9),t._uU(60,"Completed At"),t.qZA()()(),t.TgZ(61,"tbody"),t.YNc(62,nf,12,11,"tr",11),t.qZA()()()(),t.TgZ(63,"nz-col",3)(64,"nz-card",4),t.YNc(65,rf,2,0,"ng-template",null,6,t.W1O),t.TgZ(67,"nz-table",15,16)(69,"thead")(70,"tr")(71,"th",9),t._uU(72,"Name"),t.qZA(),t.TgZ(73,"th",9),t._uU(74,"Status"),t.qZA(),t.TgZ(75,"th",9),t._uU(76,"End Date"),t.qZA(),t.TgZ(77,"th",9),t._uU(78,"Completed At"),t.qZA()()(),t.TgZ(79,"tbody"),t.YNc(80,Zn,12,11,"tr",11),t.qZA()()()()()(),t.YNc(81,ul,6,0,"ng-template",null,17,t.W1O),t.YNc(83,sf,6,0,"ng-template",null,18,t.W1O),t.YNc(85,of,5,0,"ng-template",null,19,t.W1O),t.YNc(87,af,5,0,"ng-template",null,20,t.W1O)),2&e){const s=t.MAs(7),o=t.MAs(9),p=t.MAs(11),f=t.MAs(27),w=t.MAs(31),b=t.MAs(50),y=t.MAs(68),k=t.MAs(82),v=t.MAs(84),M=t.MAs(86),L=t.MAs(88);t.xp6(2),t.Q6J("archived",A.archived),t.xp6(1),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",s)("nzExtra",o),t.xp6(5),t.Q6J("nzData",A.overdueTasks)("nzHideOnSinglePage",!0)("nzLoading",A.loadingOverdue)("nzSize","small")("nzNoResult",k),t.xp6(13),t.Q6J("ngForOf",p.data),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",f)("nzExtra",o),t.xp6(5),t.Q6J("nzData",A.overloggedTasks)("nzHideOnSinglePage",!0)("nzLoading",A.loadingOverlogged)("nzSize","small")("nzNoResult",v),t.xp6(13),t.Q6J("ngForOf",w.data),t.xp6(1),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle","Tasks completed early")("nzExtra",o),t.xp6(3),t.Q6J("nzData",A.earlyTasks)("nzHideOnSinglePage",!0)("nzLoading",A.loadingEarlyTasks)("nzSize","small")("nzNoResult",M),t.xp6(13),t.Q6J("ngForOf",b.data),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle","Tasks completed late")("nzExtra",o),t.xp6(3),t.Q6J("nzData",A.lateTasks)("nzHideOnSinglePage",!0)("nzLoading",A.loadingLateTasks)("nzSize","small")("nzPaginationType","small")("nzNoResult",L),t.xp6(13),t.Q6J("ngForOf",y.data)}},dependencies:[Ot.sg,Ot.O5,jt.Fj,jt.JJ,LA.t3,LA.SK,ZA.Zp,aA.w,Ce.N8,Ce.Uo,Ce._C,Ce.Om,Ce.p0,Ce.$Z,qe.Ls,$e.ZU,mn.j,jt.On,Or.Dz,tA.SY,wn.bd,wA.wO,Xe.cm,Xe.RR,ii.o,hd,Ot.uU],styles:["nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}.no-data-img-holder[_ngcontent-%COMP%]{width:64px;margin-top:42px}"],changeDetection:0}),i})();function cf(r,i){if(1&r&&t._UZ(0,"worklenz-project-overview",7),2&r){const n=t.oxw();t.Q6J("archived",n.archived)}}function lf(r,i){if(1&r&&t._UZ(0,"worklenz-project-insights-member-overview",7),2&r){const n=t.oxw();t.Q6J("archived",n.archived)}}function uf(r,i){if(1&r&&t._UZ(0,"worklenz-task-insights",7),2&r){const n=t.oxw();t.Q6J("archived",n.archived)}}var dl=function(r){return r[r.overview=0]="overview",r[r.members=1]="members",r[r.tasks=2]="tasks",r}(dl||{});let zo=(()=>{var r;class i{constructor(e){this.cdr=e,this.projectName=null,this.includeArchivedTasks="include-archived-tasks",this.options=["Overview","Members","Tasks"],this.selectedMode=dl.overview,this.modes=dl,this.isLoading=!1,this.includeArchived=!1,this.checkArchivedChoice()}get archived(){return"true"===localStorage.getItem(this.includeArchivedTasks)}checkArchivedChoice(){null===localStorage.getItem(this.includeArchivedTasks)&&localStorage.setItem(this.includeArchivedTasks,"false"),this.includeArchived=this.archived,this.cdr.markForCheck()}handleIndexChange(e){this.selectedMode=e}exportPdf(){0==this.selectedMode&&(this.projectOverviewComponent?.exportOverview(this.projectName),this.cdr.markForCheck()),1==this.selectedMode&&(this.projectInsightsMemberOverviewComponent?.exportMembersInsight(this.projectName),this.cdr.markForCheck()),2==this.selectedMode&&(this.taskInsightsComponent?.exportTaskInsights(this.projectName),this.cdr.markForCheck())}archivedChoiceChanged(e){localStorage.setItem(this.includeArchivedTasks,e),this.cdr.markForCheck()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-insights"]],viewQuery:function(e,A){if(1&e&&(t.Gf(Mo,5),t.Gf(Cd,5),t.Gf(cd,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.projectOverviewComponent=s.first),t.iGM(s=t.CRH())&&(A.taskInsightsComponent=s.first),t.iGM(s=t.CRH())&&(A.projectInsightsMemberOverviewComponent=s.first)}},inputs:{projectName:"projectName"},decls:12,vars:8,consts:[[1,"float-start",3,"nzNoAnimation","nzOptions","nzValueChange"],[1,"float-end","ms-auto"],[1,"me-2","archived-toggler",3,"ngClass"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-icon","","nzType","download"],[3,"archived",4,"ngIf"],[3,"archived"]],template:function(e,A){1&e&&(t.TgZ(0,"nz-row")(1,"nz-segmented",0),t.NdJ("nzValueChange",function(o){return A.handleIndexChange(o)}),t.qZA(),t.TgZ(2,"div",1)(3,"span",2)(4,"label",3),t.NdJ("ngModelChange",function(o){return A.includeArchived=o})("ngModelChange",function(o){return A.archivedChoiceChanged(o)}),t._uU(5,"Include Archived Tasks"),t.qZA()(),t.TgZ(6,"button",4),t.NdJ("click",function(){return A.exportPdf()}),t._UZ(7,"span",5),t._uU(8,"Export "),t.qZA()()(),t.YNc(9,cf,1,1,"worklenz-project-overview",6),t.YNc(10,lf,1,1,"worklenz-project-insights-member-overview",6),t.YNc(11,uf,1,1,"worklenz-task-insights",6)),2&e&&(t.xp6(1),t.Q6J("nzNoAnimation",!0)("nzOptions",A.options),t.xp6(2),t.Q6J("ngClass",A.includeArchived?"archived":""),t.xp6(1),t.Q6J("ngModel",A.includeArchived),t.xp6(2),t.Q6J("nzLoading",A.isLoading),t.xp6(3),t.Q6J("ngIf",A.selectedMode===A.modes.overview),t.xp6(1),t.Q6J("ngIf",A.selectedMode===A.modes.members),t.xp6(1),t.Q6J("ngIf",A.selectedMode===A.modes.tasks))},styles:['.archived-toggler[_ngcontent-%COMP%]{padding:7px 15px;font-size:14px;border-radius:4px;background:whitesmoke}.archived-toggler[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative}.archived-toggler[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{position:absolute;content:"";right:-5px;top:-1px;width:8px;height:8px;border-radius:10px;background:#f5222d}.archived-toggler.archived[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{background:#52c41a}'],changeDetection:0}),i})();var nr=ot(47246),Lo=ot(44889);function hl(r,i){1&r&&t._UZ(0,"nz-spin")}function Bd(r,i){if(1&r&&t._UZ(0,"canvas",8),2&r){const n=t.oxw(2);t.Q6J("width",n.chartWidth)("height",300)("data",n.chartData)("options",n.chartOptions)("plugins",n.chartPlugins)("legend",!1)("type","doughnut")}}function sn(r,i){if(1&r&&(t.TgZ(0,"li",9),t._UZ(1,"nz-badge",10),t.TgZ(2,"p",11),t._uU(3),t.ALo(4,"ellipsis"),t.qZA()()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("nzColor",n.color),t.xp6(1),t.Q6J("nzTooltipTitle",n.name),t.xp6(1),t.AsE("",t.xi3(4,4,n.name,20)," (",n.y,")")}}function Eo(r,i){if(1&r&&(t.TgZ(0,"div",2)(1,"div",3),t.YNc(2,Bd,1,7,"canvas",4),t.qZA(),t.TgZ(3,"div",5)(4,"ul",6),t.YNc(5,sn,5,7,"li",7),t.qZA()()()),2&r){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",!n.isChartEmpty),t.xp6(3),t.Q6J("ngForOf",n.statusCounts)}}function df(r,i){1&r&&(t.ynx(0),t.TgZ(1,"div",12)(2,"div",13),t._UZ(3,"img",14),t.qZA(),t.TgZ(4,"span",15),t._uU(5,"No tasks to show."),t.qZA()(),t.BQk())}let hf=(()=>{var r;class i{constructor(e,A,s){this.api=e,this.route=A,this.cdr=s,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.isChartEmpty=!1,this.projectId="",this.statusCounts=[],this.options={},this.statusColors=[],this.chartPlugins=[],this.chartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.statusColors,hoverOffset:2}]},this.chartOptions={plugins:{datalabels:{display:!1}},responsive:!1},this.projectId=this.route.snapshot.paramMap.get("id")||""}get chartWidth(){const e=window.innerWidth;return e>1400?350:e<1400&&e>1200?275:220}ngOnChanges(e){this.getStatusCounts()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getStatusCounts(){var e=this;return(0,Ft.Z)(function*(){try{e.loading=!0,e.chartData.datasets[0].data=[],e.chartData.labels=[];const A=yield e.api.getTaskStatusCounts(e.projectId,e.archivedTasksChoice);A.done&&(e.statusCounts=A.body,yield e.loadChart(e.statusCounts)),e.loading=!1,e.cdr.markForCheck()}catch(A){e.loading=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}loadChart(e){var A=this;return(0,Ft.Z)(function*(){A.chartData.datasets[0].data=[],A.chartData.labels=[];for(const s of e)A.chartData.labels?.push(s.name),A.chartData.datasets[0].data.push(s.y||0),A.statusColors.push(s.color);A.chart?.update(),A.chartData.datasets[0].data.every(s=>0===s)&&(A.isChartEmpty=!0),A.cdr.markForCheck()})()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Nr),t.Y36(be.gz),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-status-overview"]],viewQuery:function(e,A){if(1&e&&t.Gf(nr.jh,5),2&e){let s;t.iGM(s=t.CRH())&&(A.chart=s.first)}},inputs:{archived:"archived"},features:[t.TTD],decls:3,vars:3,consts:[[4,"ngIf"],["class","d-flex p-3",4,"ngIf"],[1,"d-flex","p-3"],[1,"position-relative",2,"max-width","350px"],["baseChart","",3,"width","height","data","options","plugins","legend","type",4,"ngIf"],[1,"chart-details","ms-3"],[1,"ps-0"],["class","border-bottom-0 status-list list-unstyled mb-2 d-flex align-items-center",4,"ngFor","ngForOf"],["baseChart","",3,"width","height","data","options","plugins","legend","type"],[1,"border-bottom-0","status-list","list-unstyled","mb-2","d-flex","align-items-center"],[3,"nzColor"],["nz-typography","","nz-tooltip","",1,"mb-0",3,"nzTooltipTitle"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(e,A){1&e&&(t.YNc(0,hl,1,0,"nz-spin",0),t.YNc(1,Eo,6,2,"div",1),t.YNc(2,df,6,0,"ng-container",0)),2&e&&(t.Q6J("ngIf",A.loading),t.xp6(1),t.Q6J("ngIf",!A.isChartEmpty),t.xp6(1),t.Q6J("ngIf",A.isChartEmpty))},dependencies:[Ot.sg,Ot.O5,$e.ZU,tA.SY,_n.W,ur.x7,nr.jh,Lo.p],styles:[".chart-details[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.no-data-img-holder[_ngcontent-%COMP%]{width:65px}"],changeDetection:0}),i})();const bd=["statusOverviewChart"];function pl(r,i){1&r&&t._UZ(0,"nz-spin")}function pf(r,i){if(1&r&&(t.TgZ(0,"div",2),t._UZ(1,"canvas",3),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("width",n.chartWidth)("height",350)("data",n.barChartData)("options",n.barChartOptions)("plugins",n.barChartPlugins)("legend",!1)("type","bar")}}let ff=(()=>{var r;class i{constructor(e,A,s){this.api=e,this.route=A,this.cdr=s,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.projectId="",this.priorityStats=[],this.priorityColors=[],this.options={},this.barChartPlugins=[],this.barChartData={labels:[],datasets:[{data:[],label:"Tasks",backgroundColor:this.priorityColors}]},this.barChartOptions={responsive:!1,plugins:{datalabels:{display:!1}},scales:{y:{title:{display:!0,text:"Task Count",align:"end",font:{family:"Helvetica"}}},x:{title:{display:!0,text:"Priority",align:"end",font:{family:"Helvetica"}}}}},this.projectId=this.route.snapshot.paramMap.get("id")||""}get chartWidth(){const e=window.innerWidth;return e>1400?580:e<1400&&e>1200?460:350}ngOnChanges(e){this.getPriorityBreakdown()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getPriorityBreakdown(){var e=this;return(0,Ft.Z)(function*(){try{e.loading=!0,e.barChartData.datasets[0].data=[],e.barChartData.labels=[];const A=yield e.api.getPriorityOverview(e.projectId,e.archivedTasksChoice);A.done&&(e.priorityStats=A.body,e.loadChart(e.priorityStats)),e.loading=!1,e.cdr.markForCheck()}catch(A){e.loading=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}loadChart(e){var A=this;return(0,Ft.Z)(function*(){A.barChartData.datasets[0].data=[],A.barChartData.labels=[];for(const s of e)A.barChartData.labels?.push(s.name),A.barChartData.datasets[0].data.push(s.data[0]||0),A.priorityColors.push(s.color);A.barChart?.update(),A.cdr.markForCheck()})()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Nr),t.Y36(be.gz),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-priority-breakdown"]],viewQuery:function(e,A){if(1&e&&(t.Gf(nr.jh,5),t.Gf(bd,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.barChart=s.first),t.iGM(s=t.CRH())&&(A.statusOverviewChart=s.first)}},inputs:{archived:"archived"},features:[t.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["class","position-relative","style","max-width: 350px",4,"ngIf"],[1,"position-relative",2,"max-width","350px"],["baseChart","","id","chart-view",3,"width","height","data","options","plugins","legend","type"]],template:function(e,A){1&e&&(t.YNc(0,pl,1,0,"nz-spin",0),t.YNc(1,pf,2,7,"div",1)),2&e&&(t.Q6J("ngIf",A.loading),t.xp6(1),t.Q6J("ngIf",A.priorityStats.length))},dependencies:[Ot.O5,_n.W,nr.jh],changeDetection:0}),i})();var Et=ot(94489),qi=ot(34071);function gf(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"nz-tag",6),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()),2&r){const n=i.$implicit,e=t.oxw();t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Q6J("nzColor",n.status_color),t.xp6(1),t.Oqu(n.status),t.xp6(2),t.hij(" ",t.xi3(8,5,n.end_date,"mediumDate")||"-"," "),t.xp6(3),t.Oqu(e.formatEndDate(n.updated_at))}}function mf(r,i){1&r&&(t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"img",9),t.qZA(),t.TgZ(3,"span",10),t._uU(4,"No tasks have been updated recently in the project."),t.qZA()())}let _f=(()=>{var r;class i{constructor(e,A,s,o,p){this.api=e,this.utils=A,this.socket=s,this.route=o,this.cdr=p,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loadingStatuses=!1,this.loadingLastUpdatedTasks=!1,this.showTaskDrawer=!1,this.projectId="",this.selectedTaskId=null,this.lastUpdatedTasks=[],this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(e){this.getLastUpdatedTasks()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_STATUS_CHANGE.toString())}getLastUpdatedTasks(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingLastUpdatedTasks=!0;const A=yield e.api.getLastUpdatedTasks(e.projectId,e.archivedTasksChoice);A.done&&(e.lastUpdatedTasks=A.body),e.loadingLastUpdatedTasks=!1,e.cdr.markForCheck()}catch(A){e.loadingLastUpdatedTasks=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}onCreateOrUpdate(){this.getLastUpdatedTasks(),this.showTaskDrawer=!1,this.selectedTaskId=null,this.cdr.markForCheck()}formatEndDate(e){return pu(new Date(e),new Date,{addSuffix:!0})}trackById(e,A){return A.id}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Nr),t.Y36(En.F),t.Y36(je.s),t.Y36(be.gz),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-last-updated-tasks"]],inputs:{archived:"archived"},features:[t.TTD],decls:17,vars:9,consts:[["nzPaginationType","small",3,"nzData","nzLoading","nzSize","nzHideOnSinglePage","nzNoResult"],["tasksTable",""],["scope","col"],[4,"ngFor","ngForOf"],[3,"show","projectId","taskId","showChange","taskIdChange"],["noDataTemplate",""],[1,"text-dark","rounded-pill","task-list-label",3,"nzColor"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(e,A){if(1&e&&(t.TgZ(0,"nz-table",0,1)(2,"thead")(3,"tr")(4,"th",2),t._uU(5,"Name"),t.qZA(),t.TgZ(6,"th",2),t._uU(7,"Status"),t.qZA(),t.TgZ(8,"th",2),t._uU(9,"Due Date"),t.qZA(),t.TgZ(10,"th",2),t._uU(11,"Last Updated"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,gf,11,8,"tr",3),t.qZA()(),t.TgZ(14,"worklenz-task-view",4),t.NdJ("showChange",function(o){return A.showTaskDrawer=o})("taskIdChange",function(o){return A.selectedTaskId=o}),t.qZA(),t.YNc(15,mf,5,0,"ng-template",null,5,t.W1O)),2&e){const s=t.MAs(1),o=t.MAs(16);t.Q6J("nzData",A.lastUpdatedTasks)("nzLoading",A.loadingLastUpdatedTasks)("nzSize","small")("nzHideOnSinglePage",!0)("nzNoResult",o),t.xp6(13),t.Q6J("ngForOf",s.data),t.xp6(1),t.Q6J("show",A.showTaskDrawer)("projectId",A.projectId)("taskId",A.selectedTaskId)}},dependencies:[Ot.sg,Ce.N8,Ce.Uo,Ce._C,Ce.Om,Ce.p0,Ce.$Z,$e.ZU,mn.j,qi.E,Ot.uU],styles:[".no-data-img-holder[_ngcontent-%COMP%]{width:64px;margin-top:42px}"],changeDetection:0}),i})();var wf=ot(89207);function yd(r,i){if(1&r&&(t.TgZ(0,"span",15),t._uU(1),t.qZA()),2&r){const n=t.oxw(2);t.Q6J("nzType","secondary"),t.xp6(1),t.hij(" (",n.getProjectEndDate(n.deadlineStats.project_end_date),") ")}}function xd(r,i){if(1&r&&(t.TgZ(0,"span"),t._uU(1," Project Deadline "),t.YNc(2,yd,2,2,"span",14),t.qZA()),2&r){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.deadlineStats.project_end_date)}}function Td(r,i){if(1&r&&(t.TgZ(0,"nz-row",16)(1,"nz-col",17)(2,"div",18),t._UZ(3,"img",19),t.qZA()(),t.TgZ(4,"nz-col",3)(5,"h5",20),t._uU(6,"Overdue tasks (hours) "),t._UZ(7,"span",21),t.qZA(),t.TgZ(8,"h2",22),t._uU(9),t.qZA()()()),2&r){const n=t.oxw();t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("nzSpan",18),t.xp6(3),t.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that has time logged past the end date of the project"),t.xp6(2),t.Oqu(n.deadlineStats.deadline_logged_hours_string)}}function kd(r,i){if(1&r&&(t.TgZ(0,"nz-row",16)(1,"nz-col",17)(2,"div",18),t._UZ(3,"img",19),t.qZA()(),t.TgZ(4,"nz-col",3)(5,"h5",20),t._uU(6,"Overdue tasks "),t._UZ(7,"span",21),t.qZA(),t.TgZ(8,"h2",22),t._uU(9),t.qZA()()()),2&r){const n=t.oxw();t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",6),t.xp6(3),t.Q6J("nzSpan",18),t.xp6(3),t.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that are past the end date of the project"),t.xp6(2),t.Oqu(n.deadlineStats.deadline_tasks_count||0)}}function fl(r,i){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"nz-tag",23),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"date"),t.qZA()()),2&r){const n=i.$implicit;t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("nzColor",n.status_color),t.xp6(1),t.Oqu(n.status),t.xp6(2),t.hij(" ",t.xi3(8,4,n.end_date,"mediumDate")||"-"," ")}}function vf(r,i){1&r&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"img",26),t.qZA(),t.TgZ(3,"div")(4,"span",27),t._uU(5,"All tasks completed on time."),t.qZA()()())}const Cf=function(){return{"padding-right":0}},Qd=function(){return{rows:3}},Fd=function(){return{size:"large",shape:"square"}},Sa=function(){return[]};let za=(()=>{var r;class i{constructor(e,A,s,o,p,f,w){this.socket=e,this.utils=A,this.api=s,this.statusesApi=o,this.route=p,this.router=f,this.cdr=w,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.loadingStatuses=!1,this.showTaskDrawer=!1,this.deadlineStats={},this.taskStatuses=[],this.selectedTaskId=null,this.projectId="",this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(e){this.get()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}get(){var e=this;return(0,Ft.Z)(function*(){try{e.loading=!0;const A=yield e.api.getProjectDeadlineStats(e.projectId,e.archivedTasksChoice);A.done&&(e.deadlineStats=A.body),e.loading=!1,e.cdr.markForCheck()}catch(A){e.loading=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}trackById(e,A){return A.id}getProjectEndDate(e=""){return e?(0,wf.Z)(new Date(e),"yyyy-MM-dd"):""}back(){this.router.navigate(["/opom/projects"])}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(En.F),t.Y36(Nr),t.Y36(Ls.w),t.Y36(be.gz),t.Y36(be.F0),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-deadline"]],viewQuery:function(e,A){if(1&e&&t.Gf(cr.g,5),2&e){let s;t.iGM(s=t.CRH())&&(A.projectsForm=s.first)}},inputs:{archived:"archived"},features:[t.TTD],decls:27,vars:29,consts:[[1,"h-100",3,"nzTitle"],["deadlineCardTitle",""],[1,"justify-content-between",3,"nzGutter"],[3,"nzSpan"],[1,"h-100",3,"nzBodyStyle"],[3,"nzLoading","nzActive","nzTitle","nzParagraph","nzAvatar"],[3,"nzGutter",4,"ngIf"],[1,"h-100"],["nzPaginationType","small",1,"mt-3",3,"nzData","nzLoading","nzSize","nzHideOnSinglePage","nzNoResult"],["tasksTable",""],["scope","col"],[4,"ngFor","ngForOf"],["noDataTemplate",""],[3,"onDelete","onUpdate"],["nz-typography","",3,"nzType",4,"ngIf"],["nz-typography","",3,"nzType"],[3,"nzGutter"],[1,"d-flex","justify-content-center","align-items-center",3,"nzSpan"],[1,"icon-img-holder"],["src","/assets/images/warning.png","alt","",1,"img-fluid"],["nz-typography","",1,"m-0","fw-normal"],["nz-icon","","nzType","info-circle","nzTheme","outline",2,"color","#3587ff","font-size","14px",3,"nz-tooltip","nzTooltipTitle"],["nz-typography","",1,"m-0"],[1,"text-dark","rounded-pill","task-list-label",3,"nzColor"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/confetti (1).png","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(e,A){if(1&e&&(t.TgZ(0,"nz-card",0),t.YNc(1,xd,3,1,"ng-template",null,1,t.W1O),t.TgZ(3,"nz-row",2)(4,"nz-col",3)(5,"nz-card",4),t._UZ(6,"nz-skeleton",5),t.YNc(7,Td,10,6,"nz-row",6),t.qZA()(),t.TgZ(8,"nz-col",3)(9,"nz-card",7),t._UZ(10,"nz-skeleton",5),t.YNc(11,kd,10,6,"nz-row",6),t.qZA()()(),t.TgZ(12,"nz-table",8,9)(14,"thead")(15,"tr")(16,"th",10),t._uU(17,"Name"),t.qZA(),t.TgZ(18,"th",10),t._uU(19,"Status"),t.qZA(),t.TgZ(20,"th",10),t._uU(21,"End Date"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,fl,9,7,"tr",11),t.qZA()()(),t.YNc(24,vf,6,0,"ng-template",null,12,t.W1O),t.TgZ(26,"worklenz-project-form-modal",13),t.NdJ("onDelete",function(){return A.back()})("onUpdate",function(){return A.get()}),t.qZA()),2&e){const s=t.MAs(2),o=t.MAs(13),p=t.MAs(25);t.Q6J("nzTitle",s),t.xp6(3),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzBodyStyle",t.DdM(23,Cf)),t.xp6(1),t.Q6J("nzLoading",A.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(24,Qd))("nzAvatar",t.DdM(25,Fd)),t.xp6(1),t.Q6J("ngIf",!A.loading),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(2),t.Q6J("nzLoading",A.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",t.DdM(26,Qd))("nzAvatar",t.DdM(27,Fd)),t.xp6(1),t.Q6J("ngIf",!A.loading),t.xp6(1),t.Q6J("nzData",A.deadlineStats.tasks||t.DdM(28,Sa))("nzLoading",A.loading)("nzSize","small")("nzHideOnSinglePage",!0)("nzNoResult",p),t.xp6(11),t.Q6J("ngForOf",o.data)}},dependencies:[Ot.sg,Ot.O5,LA.t3,LA.SK,aA.w,Ce.N8,Ce.Uo,Ce._C,Ce.Om,Ce.p0,Ce.$Z,qe.Ls,$e.ZU,mn.j,tA.SY,ln.ng,wn.bd,cr.g,Ot.uU],styles:[".fs-16[_ngcontent-%COMP%]{font-size:16px}.fs-26[_ngcontent-%COMP%]{font-size:26px}.fs-50[_ngcontent-%COMP%]{font-size:50px}.icon-img-holder[_ngcontent-%COMP%]{width:90%}.no-data-img-holder[_ngcontent-%COMP%]{width:64px;margin-top:42px}"],changeDetection:0}),i})();const Bf=["overviewExportDiv"];function Ud(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"a",7),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.goToList())}),t._uU(1,"See all"),t.qZA()}}let Mo=(()=>{var r;class i{constructor(e,A,s,o,p,f,w,b,y){this.api=e,this.route=A,this.router=s,this.socket=o,this.utils=p,this.prioritiesApi=f,this.statusesApi=w,this.projectInsightsComponent=b,this.cdr=y,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.loadingProjectLogs=!1,this.loadingCategories=!1,this.projectId="",this.projectLogs=[],this.categories=[],this.toDoColorCode="",this.pendingColorCode="",this.completedColorCode="",this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){this.getCategories(),this.getProjectLogs()}getCategories(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingCategories=!0;const A=yield e.statusesApi.getCategories();A.done&&(e.categories=A.body,e.toDoColorCode=e.categories.find(s=>"To do"===s.name)?.color_code||"",e.pendingColorCode=e.categories.find(s=>"Doing"===s.name)?.color_code||"",e.completedColorCode=e.categories.find(s=>"Done"===s.name)?.color_code||""),e.loadingCategories=!1,e.cdr.markForCheck()}catch(A){(0,le.tu)(A),e.loadingCategories=!1,e.cdr.markForCheck()}})()}getProjectLogs(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingProjectLogs=!0;const A=yield e.api.getProjectLogs(e.projectId);A.done&&(e.projectLogs=A.body),e.loadingProjectLogs=!1,e.cdr.markForCheck()}catch(A){e.loadingProjectLogs=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}formatEndDate(e){return pu(new Date(e),new Date,{addSuffix:!0})}goToList(){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:"tasks-list"},queryParamsHandling:"merge"})}exportOverview(e){this.overviewExportDiv&&(this.projectInsightsComponent.isLoading=!0,tl()(this.overviewExportDiv.nativeElement).then(A=>{let s=A.toDataURL("image/PNG"),o=new $c("p","mm","a4",!0);const w=o.getImageProperties(s),b=o.internal.pageSize.getWidth()-10,y=w.height*b/w.width;let k=new Image;return k.src=location.origin+"/assets/images/logo.png",o.addImage(k,"PNG",o.internal.pageSize.getWidth()/2-12,5,30,6.5),o.setFontSize(14),o.setTextColor(0,0,0,.85),o.text(["Insights - "+e+" - Overview",`${(0,Ot.p6)(new Date,"yyyy-MM-dd","en")}`],105,17,{maxWidth:b,align:"center"}),o.addImage(s,"PNG",5,28,b,y),o}).then(A=>{A.save("Overview "+(0,Ot.p6)(new Date,"yyyy-MM-dd","en")+".pdf"),this.projectInsightsComponent.isLoading=!1}),this.cdr.markForCheck())}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Nr),t.Y36(be.gz),t.Y36(be.F0),t.Y36(je.s),t.Y36(En.F),t.Y36(Al.s),t.Y36(Ls.w),t.Y36(zo),t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-overview"]],viewQuery:function(e,A){if(1&e&&t.Gf(Bf,5),2&e){let s;t.iGM(s=t.CRH())&&(A.overviewExportDiv=s.first)}},inputs:{archived:"archived"},decls:18,vars:15,consts:[["overviewExportDiv",""],[3,"archived"],[1,"mt-3",3,"nzGutter"],[3,"nzSpan"],[1,"h-100",3,"nzTitle"],[1,"h-100",3,"nzExtra","nzTitle"],["lastExtraTemplate",""],[3,"click"]],template:function(e,A){if(1&e&&(t.TgZ(0,"div",null,0),t._UZ(2,"worklenz-project-stats",1),t.TgZ(3,"nz-row",2)(4,"nz-col",3)(5,"nz-card",4),t._UZ(6,"worklenz-status-overview",1),t.qZA()(),t.TgZ(7,"nz-col",3)(8,"nz-card",4),t._UZ(9,"worklenz-priority-breakdown",1),t.qZA()()(),t.TgZ(10,"nz-row",2)(11,"nz-col",3)(12,"nz-card",5),t._UZ(13,"worklenz-last-updated-tasks",1),t.YNc(14,Ud,2,0,"ng-template",null,6,t.W1O),t.qZA()(),t.TgZ(16,"nz-col",3),t._UZ(17,"worklenz-project-deadline",1),t.qZA()()()),2&e){const s=t.MAs(15);t.xp6(2),t.Q6J("archived",A.archived),t.xp6(1),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle","Status Overview"),t.xp6(1),t.Q6J("archived",A.archived),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle","Priority Overview"),t.xp6(1),t.Q6J("archived",A.archived),t.xp6(1),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzExtra",s)("nzTitle","Last Updated Tasks"),t.xp6(1),t.Q6J("archived",A.archived),t.xp6(3),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("archived",A.archived)}},dependencies:[LA.t3,LA.SK,wn.bd,hf,ff,_f,hd,za],styles:["nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}"],changeDetection:0}),i})();var Id=ot(81089),Sd=ot(59556),_i=ot(32181),gl=ot(63392),Es=ot(670),ml=ot(34554),Vi=ot(18223),bf=ot(85080),zd=ot(48327),Wi=ot(74764),Xi=ot(45019),_l=ot(78066),La=ot(88019),wi=ot(5882),Ea=ot(81221),$i=ot(79382),Ld=ot(66770),wl=ot(58684),vl=ot(8180),_r=ot(26236),No=ot(63019);class Cl{constructor(i){this.columns=i}}var Ed=ot(16676),me=ot.n(Ed),Oo=ot(78027),Ma=ot(8725),Na=ot(82803),Ms=ot(25335),wr=ot(52682),vr=ot(9691),Oa=ot(77835),Pa=ot(93903),Ns=ot(76643);let Md=(()=>{var r;class i{constructor(e){this.utils=e}transform(e,...A){return this.utils.checkForMinDate(e)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(En.F,16))},r.\u0275pipe=t.Yjl({name:"validateMinDate",type:r,pure:!0}),i})(),Os=(()=>{var r;class i{constructor(e,A,s){this.socket=e,this.cdr=A,this.auth=s,this.task={},this.handleResponse=o=>{o.id===this.task.id&&this.task.end_date!==o.end_date&&(this.task.end_date=o.end_date,this.cdr.markForCheck())}}ngOnInit(){this.socket.on(Et.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse)}handleEndDateChange(e,A){this.socket.emit(Et.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:A.id,end_date:(0,le.A6)(e)||null,parent_task:A.parent_task_id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}checkForPastDate(e){return me()(e).format("YYYY-MM-DD")<me()().format("YYYY-MM-DD")}checkForSoonDate(e){const A=me()(e).format("YYYY-MM-DD"),s=me()().add(1,"day").format("YYYY-MM-DD");return A===me()().format("YYYY-MM-DD")||A===s}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(t.sBO),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-task-end-date"]],inputs:{task:"task"},decls:7,vars:15,consts:[[1,"h-100","d-flex","w-100",3,"ngClass"],["elementDueDate",""],["nz-typography","",1,"date-text"],[1,"bg-transparent","w-100","kanban-task-card-due-date",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0,1)(2,"span",2),t._uU(3),t.ALo(4,"dateFormatter"),t.qZA(),t.TgZ(5,"nz-date-picker",3),t.NdJ("ngModelChange",function(o){return A.task.end_date=o})("ngModelChange",function(o){return A.handleEndDateChange(o,A.task)}),t.ALo(6,"validateMinDate"),t.qZA()()),2&e&&(t.Q6J("ngClass",A.task.end_date?"show-def":"show-hover"),t.xp6(2),t.ekj("past-date",A.checkForPastDate(A.task.end_date))("soon-date",A.checkForSoonDate(A.task.end_date)),t.xp6(1),t.Oqu(t.lcZ(4,11,A.task.end_date)),t.xp6(2),t.Q6J("ngModel",A.task.end_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Due date")("nzDisabledDate",t.lcZ(6,13,A.task.start_date)))},dependencies:[Ot.mk,wr.uw,$e.ZU,jt.JJ,jt.On,Ns.l,Md],styles:["nz-date-picker[_ngcontent-%COMP%]{padding:1px 4px;max-width:105px;height:24px;margin-left:-4px;border-color:transparent!important}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.date-text[_ngcontent-%COMP%]{font-size:12px;line-height:24px}.past-date[_ngcontent-%COMP%]{color:#ff4d4f}.soon-date[_ngcontent-%COMP%]{color:#52c41a}.show-hover[_ngcontent-%COMP%]{opacity:0}.show-hover[_ngcontent-%COMP%]:hover, .show-def[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),i})();var SA=ot(78645),Ve=ot(59773);function ts(r,i){1&r&&t._UZ(0,"span",6)}function Ps(r,i){1&r&&t._UZ(0,"span",7)}function vi(r,i){if(1&r&&(t.TgZ(0,"div",2)(1,"nz-tag",3),t._uU(2),t.YNc(3,ts,1,0,"span",4),t.YNc(4,Ps,1,0,"span",5),t.qZA()()),2&r){const n=t.oxw(),e=t.MAs(2);t.xp6(1),t.Q6J("nzTooltipTitle",e),t.xp6(1),t.hij(" ",null==n.task.all_labels?null:n.task.all_labels.length," "),t.xp6(1),t.Q6J("ngIf",1===(null==n.task.labels?null:n.task.labels.length)),t.xp6(1),t.Q6J("ngIf",n.task.labels&&n.task.labels.length>1)}}function Ci(r,i){if(1&r&&(t.ynx(0),t.TgZ(1,"p",9),t._uU(2),t.qZA(),t.BQk()),2&r){const n=i.$implicit;t.xp6(2),t.Oqu(n.name)}}function Po(r,i){if(1&r&&t.YNc(0,Ci,3,1,"ng-container",8),2&r){const n=t.oxw();t.Q6J("ngForOf",n.task.all_labels)}}let Pr=(()=>{var r;class i{constructor(e,A,s,o){this.cdr=e,this.socket=A,this.service=s,this.map=o,this.task={},this.alpha=Ze.Yj,this.labels=[],this.labelsCount=null,this.destroy$=new SA.x,this.handleLabelsChange=p=>{if(p&&p.id===this.task.id){if(this.task.labels=p.labels,this.task.all_labels=p.all_labels,p.new_label)if(p.is_new){const f=[...this.service.labels];f.push(p.new_label),this.service.labels=[...f]}else{const f=this.labels.find(w=>w.id===p.new_label.id);f&&(f.selected=!0)}this.cdr.markForCheck()}},this.service.onLabelsChange$.pipe((0,Ve.R)(this.destroy$)).subscribe(()=>{this.updateLabels(),this.cdr.markForCheck()})}ngOnInit(){this.updateLabels(),this.socket.on(Et.C.TASK_LABELS_CHANGE.toString(),this.handleLabelsChange),this.socket.on(Et.C.CREATE_LABEL.toString(),this.handleLabelsChange)}ngOnDestroy(){this.labels=[],this.destroy$.next(),this.destroy$.complete(),this.socket.removeListener(Et.C.TASK_LABELS_CHANGE.toString(),this.handleLabelsChange),this.socket.removeListener(Et.C.CREATE_LABEL.toString(),this.handleLabelsChange)}updateLabels(){this.labels=this.service.labels}trackById(e,A){return A.id}handleLabelChange(e){this.socket.emit(Et.C.TASK_LABELS_CHANGE.toString(),JSON.stringify({task_id:this.task.id,label_id:e.id,parent_task:this.task.parent_task_id}))}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(t.sBO),t.Y36(je.s),t.Y36(Mn.b),t.Y36(Oo.g))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-task-labels"]],inputs:{task:"task"},decls:3,vars:1,consts:[["class","labels-section",4,"ngIf"],["labelsList",""],[1,"labels-section"],["nz-tooltip","",1,"ms-1",3,"nzTooltipTitle"],["nz-icon","","nzType","tag","nzTheme","outline","style","font-size: 13px;",4,"ngIf"],["nz-icon","","nzType","tags","nzTheme","outline","style","font-size: 13px;",4,"ngIf"],["nz-icon","","nzType","tag","nzTheme","outline",2,"font-size","13px"],["nz-icon","","nzType","tags","nzTheme","outline",2,"font-size","13px"],[4,"ngFor","ngForOf"],[1,"pb-0","mb-0"]],template:function(e,A){1&e&&(t.YNc(0,vi,5,4,"div",0),t.YNc(1,Po,1,1,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("ngIf",null==A.task.labels?null:A.task.labels.length)},dependencies:[Ot.sg,Ot.O5,aA.w,qe.Ls,mn.j,tA.SY],styles:["nz-tag[_ngcontent-%COMP%]{border:none;color:#000000a6}"],changeDetection:0}),i})();function Nd(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"nz-tag",4),t.NdJ("mouseover",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.getParentTaskName(A.task.id))})("nzTooltipVisibleChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(A?null:s.taskName)}),t._UZ(1,"span",5),t.qZA()}if(2&r){t.oxw();const n=t.MAs(5);t.Q6J("nzTooltipTitle",n)}}function Od(r,i){1&r&&(t.TgZ(0,"div"),t._uU(1,"Loading..."),t.qZA())}function Pd(r,i){if(1&r&&(t.TgZ(0,"p",8),t._uU(1),t.qZA()),2&r){const n=t.oxw(2);t.xp6(1),t.hij("Sub-task of ",n.taskName,"")}}function Bl(r,i){if(1&r&&(t.YNc(0,Od,2,0,"div",6),t.YNc(1,Pd,2,1,"p",7)),2&r){const n=t.oxw();t.Q6J("ngIf",n.loadingName),t.xp6(1),t.Q6J("ngIf",!n.loadingName)}}let Do=(()=>{var r;class i{constructor(e,A,s,o,p){this.socket=e,this.cdr=A,this.kanbanService=s,this.map=o,this.list=p,this.loadingName=!1,this.taskName=null,this.destroy$=new SA.x,this.handleResponse=f=>{f.id===this.task.id&&this.task.name!==f.name&&(this.task.name=f.name,this.cdr.markForCheck())},this.kanbanService.onCreateSubTask.pipe((0,Ve.R)(this.destroy$)).subscribe(f=>{})}ngOnInit(){this.socket.on(Et.C.TASK_NAME_CHANGE.toString(),this.handleResponse)}getParentTaskName(e){var A=this;return(0,Ft.Z)(function*(){if(e){try{A.loadingName=!0;const s=A.map.getGroupId(A.task.parent_task_id);if(!s||!A.task.parent_task_id)return;const o=A.list.groups.find(f=>f.id===s);if(!o)return;const p=o.tasks.find(f=>f.id===A.task.parent_task_id);A.taskName=p?.name,A.loadingName=!1}catch(s){(0,le.tu)(s),A.loadingName=!1}A.cdr.markForCheck()}})()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(t.sBO),t.Y36(Ms.m),t.Y36(Oo.g),t.Y36(Mn.b))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-task-name"]],inputs:{task:"task"},decls:6,vars:2,consts:[[1,"task-name-kanban"],["nz-tooltip","","style","cursor: help;","class","subtask-icon-main me-1",3,"nzTooltipTitle","mouseover","nzTooltipVisibleChange",4,"ngIf"],["nz-typography",""],["subTasksTitle",""],["nz-tooltip","",1,"subtask-icon-main","me-1",2,"cursor","help",3,"nzTooltipTitle","mouseover","nzTooltipVisibleChange"],["nz-icon","","nzType","double-right","nzTheme","outline"],[4,"ngIf"],["class","mb-0",4,"ngIf"],[1,"mb-0"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Nd,2,1,"nz-tag",1),t.TgZ(2,"span",2),t._uU(3),t.qZA()(),t.YNc(4,Bl,2,2,"ng-template",null,3,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngIf",A.task.is_sub_task&&A.task.parent_task_id),t.xp6(2),t.hij(" ",A.task.name," "))},dependencies:[Ot.O5,aA.w,qe.Ls,mn.j,tA.SY,$e.ZU],styles:["nz-tag[_ngcontent-%COMP%]{border:none;color:#000000a6}.task-name-kanban[_ngcontent-%COMP%]{font-weight:500}"],changeDetection:0}),i})();function Dd(r,i){1&r&&t._UZ(0,"span",5)}function Hd(r,i){1&r&&t._UZ(0,"span",6)}function Da(r,i){1&r&&t._UZ(0,"span",7)}let yf=(()=>{var r;class i{constructor(e,A,s){this.socket=e,this.cdr=A,this.service=s,this.task={},this.priorities=[],this.destroy$=new SA.x,this.handleResponse=o=>{o&&o.id===this.task.id&&(this.task.priority_color=o.color_code,this.task.priority=o.priority_id,this.cdr.markForCheck())}}ngOnInit(){this.updatePriorities(),this.socket.on(Et.C.TASK_PRIORITY_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.priorities=[],this.destroy$.next(),this.destroy$.complete(),this.socket.removeListener(Et.C.TASK_PRIORITY_CHANGE.toString(),this.handleResponse)}trackById(e,A){return A.id}updatePriorities(){this.priorities=this.service.priorities}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(t.sBO),t.Y36(Mn.b))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-task-priority"]],inputs:{task:"task"},decls:5,vars:3,consts:[[1,"priority-section"],[1,"priority-tab","priority-tab-medium","me-1"],["class","high-priority","nz-icon","","nzType","double-left","nz-tooltip","",4,"ngIf"],["class","medium-priority","nz-icon","","nzType","pause","nz-tooltip","",4,"ngIf"],["class","low-priority","nz-icon","","nzType","minus","nz-tooltip","",4,"ngIf"],["nz-icon","","nzType","double-left","nz-tooltip","",1,"high-priority"],["nz-icon","","nzType","pause","nz-tooltip","",1,"medium-priority"],["nz-icon","","nzType","minus","nz-tooltip","",1,"low-priority"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Dd,1,0,"span",2),t.YNc(3,Hd,1,0,"span",3),t.YNc(4,Da,1,0,"span",4),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf","#f3707069"===A.task.priority_color),t.xp6(1),t.Q6J("ngIf","#fbc84c69"===A.task.priority_color),t.xp6(1),t.Q6J("ngIf","#75c99769"===A.task.priority_color))},dependencies:[Ot.O5,aA.w,qe.Ls,tA.SY],styles:[".low-priority[_ngcontent-%COMP%]{color:#52c41a}.medium-priority[_ngcontent-%COMP%]{color:#faad14;transform:rotate(90deg)}.high-priority[_ngcontent-%COMP%]{color:#f5222d;transform:rotate(90deg)}"],changeDetection:0}),i})();function xf(r,i){if(1&r&&t._UZ(0,"nz-progress",2),2&r){const n=t.oxw();t.Q6J("nzPercent",n.percent)("nzType","circle")("nzStrokeWidth",8)("nzWidth",26)}}let Tf=(()=>{var r;class i{constructor(e,A,s,o,p){this.socket=e,this.cdr=A,this.list=s,this.kanbanService=o,this.map=p,this.destroy$=new SA.x,this.loadingProgress=!1,this.progress=null,this.handleResponse=f=>{f&&(f.parent_task===this.task.id||f.id===this.task.id)&&(this.task.complete_ratio=+f.complete_ratio,this.task.total_tasks_count=f.total_tasks_count,this.task.completed_count=f.completed_count),this.cdr.markForCheck()}}get percent(){return this.task.complete_ratio||0}ngOnInit(){this.socket.on(Et.C.GET_TASK_PROGRESS.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.GET_TASK_PROGRESS.toString(),this.handleResponse),this.destroy$.next(),this.destroy$.complete()}get tooltipTitle(){return(this.task.completed_count||0)+"/"+(this.task.total_tasks_count||0)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(t.sBO),t.Y36(Mn.b),t.Y36(Ms.m),t.Y36(Oo.g))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-task-progress"]],inputs:{task:"task"},decls:2,vars:2,consts:[["nz-tooltip","",1,"task-progress-section","ms-1",3,"nzTooltipTitle"],[3,"nzPercent","nzType","nzStrokeWidth","nzWidth",4,"ngIf"],[3,"nzPercent","nzType","nzStrokeWidth","nzWidth"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0),t.YNc(1,xf,1,4,"nz-progress",1),t.qZA()),2&e&&(t.Q6J("nzTooltipTitle",A.tooltipTitle),t.xp6(1),t.Q6J("ngIf",!A.task.is_sub_task))},dependencies:[Ot.O5,_s.M,tA.SY],changeDetection:0}),i})();var kf=ot(38365);function Qf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"nz-tag",3),t.NdJ("mouseover",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.getSubTasks(A.task.id))})("nzTooltipVisibleChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(A?null:s.subTasks=[])}),t._uU(1),t._UZ(2,"span",4),t.qZA()}if(2&r){const n=t.oxw(),e=t.MAs(3);t.Q6J("nzTooltipTitle",e),t.xp6(1),t.hij("",n.task.sub_tasks_count," ")}}function bl(r,i){1&r&&(t.TgZ(0,"div"),t._uU(1,"Loading..."),t.qZA())}function Ff(r,i){1&r&&(t.TgZ(0,"p",8),t._uU(1,"Sub-tasks"),t.qZA())}function Uf(r,i){if(1&r&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Oqu(n.name)}}function If(r,i){if(1&r&&(t.YNc(0,bl,2,0,"div",5),t.YNc(1,Ff,2,0,"p",6),t.YNc(2,Uf,2,1,"p",7)),2&r){const n=t.oxw();t.Q6J("ngIf",n.loadingSubTasks),t.xp6(1),t.Q6J("ngIf",!n.loadingSubTasks),t.xp6(1),t.Q6J("ngForOf",n.subTasks)("ngForTrackBy",n.trackByFn)}}let Sf=(()=>{var r;class i{constructor(e,A,s,o,p){this.subTasksApi=e,this.cdr=A,this.socket=s,this.kanbanService=o,this.service=p,this.task={},this.count=null,this.subTasks=[],this.loadingSubTasks=!1,this.destroy$=new SA.x,this.kanbanService.onDeleteSubTask.pipe((0,Ve.R)(this.destroy$)).subscribe(f=>{this.handelSubtaskDelete(f)}),this.kanbanService.onCreateSubTask.pipe((0,Ve.R)(this.destroy$)).subscribe(f=>{A.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}handelSubtaskDelete(e){this.task.id===e.parent_task_id&&this.task.sub_tasks_count&&(this.task.sub_tasks_count=Math.max(+this.task.sub_tasks_count-1,0)),this.cdr.markForCheck()}getSubTasks(e){var A=this;return(0,Ft.Z)(function*(){if(e){try{A.subTasks=[],A.loadingSubTasks=!0;const s=yield A.subTasksApi.getNames(e);s.done&&(A.subTasks=s.body),A.loadingSubTasks=!1}catch(s){(0,le.tu)(s),A.loadingSubTasks=!1}A.cdr.markForCheck()}})()}trackByFn(e,A){return A.id}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(kf.s),t.Y36(t.sBO),t.Y36(je.s),t.Y36(Ms.m),t.Y36(Mn.b))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-task-subtask-count"]],inputs:{task:"task"},decls:4,vars:1,consts:[[1,"subtask-count-section"],["nz-tooltip","","nzColor","default","style","cursor: help;",3,"nzTooltipTitle","mouseover","nzTooltipVisibleChange",4,"ngIf"],["subTasksTitle",""],["nz-tooltip","","nzColor","default",2,"cursor","help",3,"nzTooltipTitle","mouseover","nzTooltipVisibleChange"],["nz-icon","","nzType","double-right","nzTheme","outline"],[4,"ngIf"],["class","mb-0 border-bottom",4,"ngIf"],["class","mb-0",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mb-0","border-bottom"],[1,"mb-0"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Qf,3,2,"nz-tag",1),t.qZA(),t.YNc(2,If,3,4,"ng-template",null,2,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngIf",A.task.sub_tasks_count))},dependencies:[Ot.sg,Ot.O5,aA.w,qe.Ls,mn.j,tA.SY],styles:["nz-tag[_ngcontent-%COMP%]{border:none;color:#000000a6}"],changeDetection:0}),i})();var Zd=ot(9172),es=ot(2919),Ha=ot(27476);const jd=["memberSearchInput"];function zf(r,i){if(1&r&&(t._UZ(0,"worklenz-avatars",10),t.ALo(1,"wlSafeArray")),2&r){const n=t.oxw();t.Q6J("names",t.lcZ(1,1,n.task.names))}}function Lf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",11)(1,"input",12,13),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.searchText=A)})("keydown.enter",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.selectLastValue(A))}),t.qZA()()}if(2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngModel",n.searchText)}}function Rd(r,i){1&r&&(t.TgZ(0,"small",23),t._uU(1,"(Pending Invitation)"),t.qZA())}function Ef(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",16),t.NdJ("nzCheckedChange",function(A){const o=t.CHM(n).$implicit;return t.KtG(o.selected=A)})("nzCheckedChange",function(A){const o=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.handleMemberChange(o,A))}),t.TgZ(1,"div",17),t._UZ(2,"nz-avatar",18),t.ALo(3,"firstCharUpper"),t.TgZ(4,"div",19)(5,"span",20),t._uU(6),t.qZA(),t.TgZ(7,"small",21),t._uU(8),t.YNc(9,Rd,2,0,"small",22),t.qZA()()()()}if(2&r){const n=i.$implicit;t.Q6J("nzChecked",n.selected)("nzDisabled",n.is_pending&&!n.selected)("ngClass",n.is_pending&&!n.selected?"disable":""),t.xp6(2),t.Udp("background-color",n.avatar_url?"#ececec":n.color_code),t.Q6J("nzSize",28)("nzText",t.lcZ(3,14,n.name))("nzTooltipTitle",n.name)("nzSrc",n.avatar_url)("nzTooltipPlacement","top"),t.xp6(4),t.Oqu(n.name),t.xp6(1),t.Q6J("nzType","secondary"),t.xp6(1),t.hij(" ",n.email," "),t.xp6(1),t.Q6J("ngIf",n.is_pending)}}function Mf(r,i){if(1&r&&(t.TgZ(0,"ul",14),t.YNc(1,Ef,10,16,"li",15),t.ALo(2,"searchByName"),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,n.members,n.searchText))("ngForTrackBy",n.trackById)}}function Nf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.onInviteClick())}),t._UZ(1,"span",25),t._uU(2," Invite a new member by email "),t.qZA()}}function Of(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",26)(1,"button",27),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.closeDropdown())}),t._uU(2,"OK"),t.qZA()()}if(2&r){const n=t.oxw();t.ekj("justify-content-between",n.isOwnerOrAdmin)("justify-content-end",!n.isOwnerOrAdmin)}}let Pf=(()=>{var r;class i{get avatarClass(){return this.task.assignees?.length?"add-button avatar-dashed ms-1 bg-white":"avatar-dashed bg-white"}constructor(e,A,s,o,p,f){this.service=e,this.cdr=A,this.socket=s,this.auth=o,this.utils=p,this.ngZone=f,this.task={},this.cls="flex-row task-members",this.searchText=null,this.members=[],this.session=null,this.show=!1,this.isOwnerOrAdmin=!1,this.destroy$=new SA.x,this.handleResponse=w=>{try{w&&w.id===this.task.id&&(this.task.assignees=w.assignees||[],this.task.names=w.names||[],this.cdr.markForCheck())}catch{}},this.service.onMembersChange$.pipe((0,Ve.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck(),this.updateMembers()}),this.service.onAssignMe$.pipe((0,Ve.R)(this.destroy$),(0,_i.h)(w=>w.id===this.task.id)).subscribe(w=>{this.handleResponse(w)})}ngOnInit(){this.session=this.auth.getCurrentSession(),this.isOwnerOrAdmin=this.auth.isOwnerOrAdmin(),this.updateMembers(),this.socket.on(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),this.handleResponse)}ngOnDestroy(){this.members=[],this.destroy$.next(),this.destroy$.complete(),this.socket.removeListener(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),this.handleResponse)}updateMembers(){this.members=this.service.members}sortMembersBySelection(e){this.utils.sortBySelection(e),this.utils.sortByPending(e)}trackById(e,A){return A.id}handleVisibleChange(e){if(this.show=e,e){const A=this.task.assignees?.map(s=>s.team_member_id)||[];for(const s of this.members)s.selected=A.includes(s.id);this.focusMemberSearchInput()}else{this.searchText=null;for(const A of this.members)A.selected=!1}this.sortMembersBySelection(this.members)}focusMemberSearchInput(){setTimeout(()=>{this.memberSearchInput?.nativeElement?.focus()},100)}handleMemberChange(e,A){if(!this.session)return;const s={team_member_id:e.id,project_id:this.projectId,task_id:this.task.id,reporter_id:this.session.id,mode:A?0:1,parent_task:this.task.parent_task_id};this.socket.emit(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),JSON.stringify(s)),this.sortMembersBySelection(this.members)}closeDropdown(){this.ngZone.runOutsideAngular(()=>{document.body.click()})}onInviteClick(){document.body.click(),this.service.emitInviteMembers()}selectLastValue(e){if(e.target.value){const A=this.members.filter(s=>s.name&&s.name.toLowerCase().includes(e.target.value.toLowerCase()));1==A.length&&(this.handleMemberChange(A[0],!A[0].selected),A[0].selected=!A[0].selected)}}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Mn.b),t.Y36(t.sBO),t.Y36(je.s),t.Y36(TA.e),t.Y36(En.F),t.Y36(t.R0b))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-task-members"]],viewQuery:function(e,A){if(1&e&&t.Gf(jd,5),2&e){let s;t.iGM(s=t.CRH())&&(A.memberSearchInput=s.first)}},hostVars:2,hostBindings:function(e,A){2&e&&t.Tol(A.cls)},inputs:{task:"task",projectId:"projectId"},decls:11,vars:14,consts:[["nz-dropdown","",1,"editable","w-100","h-100","d-flex","align-items-center",3,"nzDropdownMenu","nzOverlayClassName","nzClickHide","nzTrigger","ngClass","click","nzVisibleChange"],["tr",""],[1,"d-flex"],["class","d-flex kanban-avatars",3,"names",4,"ngIf"],[3,"nzSize","nzIcon"],["membersDropdown","nzDropdownMenu"],["class","bg-white px-3 py-2 border-bottom",4,"ngIf"],["class","members-dropdown","style","box-shadow: none;min-width:300px;","nz-menu","",4,"ngIf"],["nz-button","","nzType","link","class","border-top bg-white w-100",3,"click",4,"ngIf"],["class","bg-white text-end align-items-center p-2 border-top",3,"justify-content-between","justify-content-end",4,"ngIf"],[1,"d-flex","kanban-avatars",3,"names"],[1,"bg-white","px-3","py-2","border-bottom"],["type","text","placeholder","Search by name","nz-input","",3,"ngModel","ngModelChange","keydown.enter"],["memberSearchInput",""],["nz-menu","",1,"members-dropdown",2,"box-shadow","none","min-width","300px"],["class","m-0","nz-checkbox","","nz-menu-item","",3,"nzChecked","nzDisabled","ngClass","nzCheckedChange",4,"ngFor","ngForOf","ngForTrackBy"],["nz-checkbox","","nz-menu-item","",1,"m-0",3,"nzChecked","nzDisabled","ngClass","nzCheckedChange"],[1,"d-flex","align-items-center","justify-content-center","user-select-none"],["nz-tooltip","",1,"mt-auto","mb-auto","me-2",3,"nzSize","nzText","nzTooltipTitle","nzSrc","nzTooltipPlacement"],[2,"line-height","15px"],["nz-typography","",1,"d-block"],["nz-typography","",3,"nzType"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-typography","","nzType","danger"],["nz-button","","nzType","link",1,"border-top","bg-white","w-100",3,"click"],["nz-icon","","nzType","usergroup-add","nzTheme","outline"],[1,"bg-white","text-end","align-items-center","p-2","border-top"],["nz-button","","nzType","primary","nzSize","small",3,"click"]],template:function(e,A){if(1&e&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(o){return o.stopPropagation()})("nzVisibleChange",function(o){return A.handleVisibleChange(o)}),t.TgZ(2,"div",2),t.YNc(3,zf,2,3,"worklenz-avatars",3),t._UZ(4,"nz-avatar",4),t.qZA()(),t.TgZ(5,"nz-dropdown-menu",null,5),t.YNc(7,Lf,3,1,"div",6),t.YNc(8,Mf,3,5,"ul",7),t.YNc(9,Nf,3,0,"button",8),t.YNc(10,Of,3,4,"div",9),t.qZA()),2&e){const s=t.MAs(6);t.Q6J("nzDropdownMenu",s)("nzOverlayClassName","custom-shadow")("nzClickHide",!1)("nzTrigger","click")("ngClass",null!=A.task.names&&A.task.names.length?"show-def":"show-hover"),t.xp6(3),t.Q6J("ngIf",null==A.task.names?null:A.task.names.length),t.xp6(1),t.Tol(A.avatarClass),t.Q6J("nzSize",24)("nzIcon","plus"),t.xp6(3),t.Q6J("ngIf",A.show),t.xp6(1),t.Q6J("ngIf",A.show&&A.members.length),t.xp6(1),t.Q6J("ngIf",A.isOwnerOrAdmin&&A.show),t.xp6(1),t.Q6J("ngIf",A.show)}},dependencies:[Ot.mk,Ot.sg,Ot.O5,Or.Dz,xA.ix,aA.w,pn.dQ,Nn.Ie,wA.wO,wA.r9,Xe.cm,Xe.RR,qe.Ls,ZA.Zp,tA.SY,$e.ZU,jt.Fj,jt.JJ,jt.On,ii.o,Zd.g,es.I,Ha.g],styles:['.show-hover[_ngcontent-%COMP%]{opacity:0}.show-hover[_ngcontent-%COMP%]:hover, .show-def[_ngcontent-%COMP%]{opacity:1}.editable[_ngcontent-%COMP%]{border-radius:4px}.disable[_ngcontent-%COMP%]{position:relative}.disable[_ngcontent-%COMP%]:after{position:absolute;content:"";background:rgba(231,231,231,.4117647059);inset:0;width:100%}.z-top[_ngcontent-%COMP%]{z-index:9}'],changeDetection:0}),i})(),yl=(()=>{var r;class i{}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-task-card"]],inputs:{task:"task",projectId:"projectId"},decls:13,vars:8,consts:[[1,"grid-list"],[1,"d-flex"],[1,"mb-1","task-name","d-flex","justify-content-between"],[3,"task"],[1,"progress-container","ms-auto",2,"max-width","30px","height","30px"],[1,"task-footer","d-flex","mt-2","pt-1"],[1,"ms-auto",3,"task","projectId"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"worklenz-kanban-task-name",3),t.qZA(),t.TgZ(4,"div",4),t._UZ(5,"worklenz-kanban-task-progress",3),t.qZA()(),t.TgZ(6,"div",1),t._UZ(7,"worklenz-kanban-task-priority",3)(8,"worklenz-kanban-task-labels",3)(9,"worklenz-kanban-task-subtask-count",3),t.qZA(),t.TgZ(10,"div",5),t._UZ(11,"worklenz-kanban-task-end-date",3)(12,"worklenz-kanban-task-members",6),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("task",A.task),t.xp6(2),t.Q6J("task",A.task),t.xp6(2),t.Q6J("task",A.task),t.xp6(1),t.Q6J("task",A.task),t.xp6(1),t.Q6J("task",A.task),t.xp6(2),t.Q6J("task",A.task),t.xp6(1),t.Q6J("task",A.task)("projectId",A.projectId))},dependencies:[Os,Pr,Do,yf,Tf,Sf,Pf]}),i})();const Df=["memberSearchInput"],Za=function(){return[]};function Hf(r,i){if(1&r&&t._UZ(0,"worklenz-avatars",15),2&r){const n=t.oxw();t.Q6J("names",(null==n.service.model.task?null:n.service.model.task.names)||t.DdM(1,Za))}}function qt(r,i){if(1&r&&t._UZ(0,"nz-spin",16),2&r){t.oxw();const n=t.MAs(17);t.Q6J("nzIndicator",n)}}function Ds(r,i){1&r&&(t.TgZ(0,"small",26),t._uU(1,"(Pending Invitation)"),t.qZA())}function ja(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",19),t.NdJ("nzCheckedChange",function(A){const o=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.handleMemberChange(o,A))})("nzCheckedChange",function(A){const o=t.CHM(n).$implicit;return t.KtG(o.selected=A)}),t.TgZ(1,"div",20),t._UZ(2,"nz-avatar",21),t.ALo(3,"firstCharUpper"),t.TgZ(4,"div",22)(5,"span",23),t._uU(6),t.qZA(),t.TgZ(7,"small",24),t._uU(8),t.YNc(9,Ds,2,0,"small",25),t.qZA()()()()}if(2&r){const n=i.$implicit;t.Q6J("nzChecked",n.selected)("nzDisabled",n.is_pending&&!n.selected)("ngClass",n.is_pending&&!n.selected?"disable":""),t.xp6(2),t.Udp("background-color",n.avatar_url?"#ececec":n.color_code),t.Q6J("nzSize",28)("nzText",t.lcZ(3,14,n.name))("nzTooltipTitle",n.name)("nzSrc",n.avatar_url)("nzTooltipPlacement","top"),t.xp6(4),t.Oqu(n.name),t.xp6(1),t.Q6J("nzType","secondary"),t.xp6(1),t.hij(" ",n.email," "),t.xp6(1),t.Q6J("ngIf",n.is_pending)}}function jn(r,i){if(1&r&&(t.TgZ(0,"ul",17),t.YNc(1,ja,10,16,"li",18),t.ALo(2,"searchByName"),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,n.taskListService.members||t.DdM(5,Za),n.searchText))("ngForTrackBy",n.trackById)}}function Zf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.onInviteClick())}),t._UZ(1,"span",28),t._uU(2," Invite a new member by email "),t.qZA()}}function AA(r,i){1&r&&t._UZ(0,"span",29)}let vA=(()=>{var r;class i{constructor(e,A,s,o,p,f,w,b){this.auth=e,this.projectsService=A,this.socket=s,this.ngZone=o,this.cdr=p,this.service=f,this.taskListService=w,this.utils=b,this.searchText=null,this.isOwnerOrAdmin=!1,this.handleResponse=y=>{if(this.service.model.task)try{y&&(this.service.emitOnAssignMembers(y),this.service.model.task.assignees=y.assignees||[],this.service.model.task.names=y.names||[],this.service.emitRefresh(y.id),this.sortMembersBySelection(this.taskListService.members),this.cdr.markForCheck())}catch{}}}ngOnInit(){this.isOwnerOrAdmin=this.auth.isOwnerOrAdmin(),this.socket.on(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),this.handleResponse)}sortMembersBySelection(e){this.utils.sortBySelection(e),this.utils.sortByPending(e)}handleMembersVisibleChange(e){if(!this.service.model.task)return;const A=[...this.taskListService.members];if(e){const s=this.service.model.task.assignees?.map(o=>o.team_member_id)||[];for(const o of A)o.id&&(o.selected=s.includes(o.id));this.focusMemberSearchInput()}else{this.searchText=null;for(const s of A)s.selected=!1}this.taskListService.members=A,this.sortMembersBySelection(this.taskListService.members),this.cdr.markForCheck()}focusMemberSearchInput(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.memberSearchInput?.nativeElement?.focus()},100)})}handleMemberChange(e,A){const s=this.service.model.task;if(!s)return;const o=this.auth.getCurrentSession(),p={team_member_id:e.id,project_id:this.projectsService.id,task_id:s.id,reporter_id:o?.id,mode:A?0:1,parent_task:s.parent_task_id};this.socket.emit(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),JSON.stringify(p))}trackById(e,A){return A.id}onInviteClick(){document.body.click(),this.taskListService.emitInviteMembers()}closeDropdown(){this.ngZone.runOutsideAngular(()=>{document.body.click()})}selectLastValue(e){if(e.target.value){const A=this.taskListService.members.filter(s=>s.name&&s.name.toLowerCase().includes(e.target.value.toLowerCase()));1==A.length&&(this.handleMemberChange(A[0],!A[0].selected),A[0].selected=!A[0].selected)}}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(TA.e),t.Y36(Vi.m),t.Y36(je.s),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(Ms.m),t.Y36(Mn.b),t.Y36(En.F))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-task-creation-assignees"]],viewQuery:function(e,A){if(1&e&&t.Gf(Df,5),2&e){let s;t.iGM(s=t.CRH())&&(A.memberSearchInput=s.first)}},decls:18,vars:15,consts:[["nz-dropdown","",1,"w-100","h-100","d-flex","align-items-center",3,"nzDropdownMenu","nzOverlayClassName","nzClickHide","nzTrigger","nzVisibleChange"],["tr",""],[1,"d-flex"],["class","d-flex cursor-pointer  kanban-avatars",3,"names",4,"ngIf"],[1,"avatar-dashed","ms-1","bg-white",3,"nzSize","nzIcon"],["membersDropdown","nzDropdownMenu"],["nzSimple","",3,"nzIndicator",4,"ngIf"],[1,"bg-white","px-3","py-2","border-bottom"],["type","text","placeholder","Search by name","nz-input","",3,"ngModel","ngModelChange","keydown.enter"],["memberSearchInput",""],["class","members-dropdown","style","box-shadow: none;min-width:300px;","nz-menu","",4,"ngIf"],["nz-button","","nzType","link","class","border-top bg-white w-100",3,"click",4,"ngIf"],[1,"bg-white","text-end","align-items-center","p-2","border-top"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["indicatorTemplate",""],[1,"d-flex","cursor-pointer","kanban-avatars",3,"names"],["nzSimple","",3,"nzIndicator"],["nz-menu","",1,"members-dropdown",2,"box-shadow","none","min-width","300px"],["class","m-0","nz-checkbox","","nz-menu-item","",3,"nzChecked","nzDisabled","ngClass","nzCheckedChange",4,"ngFor","ngForOf","ngForTrackBy"],["nz-checkbox","","nz-menu-item","",1,"m-0",3,"nzChecked","nzDisabled","ngClass","nzCheckedChange"],[1,"d-flex","align-items-center","justify-content-center","user-select-none"],["nz-tooltip","",1,"mt-auto","mb-auto","me-2",3,"nzSize","nzText","nzTooltipTitle","nzSrc","nzTooltipPlacement"],[2,"line-height","15px"],["nz-typography","",1,"d-block"],["nz-typography","",3,"nzType"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-typography","","nzType","danger"],["nz-button","","nzType","link",1,"border-top","bg-white","w-100",3,"click"],["nz-icon","","nzType","usergroup-add","nzTheme","outline"],["nz-icon","","nzType","loading"]],template:function(e,A){if(1&e&&(t.TgZ(0,"div",0,1),t.NdJ("nzVisibleChange",function(o){return A.handleMembersVisibleChange(o)}),t.TgZ(2,"div",2),t.YNc(3,Hf,1,2,"worklenz-avatars",3),t._UZ(4,"nz-avatar",4),t.qZA()(),t.TgZ(5,"nz-dropdown-menu",null,5),t.YNc(7,qt,1,1,"nz-spin",6),t.TgZ(8,"div",7)(9,"input",8,9),t.NdJ("ngModelChange",function(o){return A.searchText=o})("keydown.enter",function(o){return A.selectLastValue(o)}),t.qZA()(),t.YNc(11,jn,3,6,"ul",10),t.YNc(12,Zf,3,0,"button",11),t.TgZ(13,"div",12)(14,"button",13),t.NdJ("click",function(){return A.closeDropdown()}),t._uU(15,"OK"),t.qZA()()(),t.YNc(16,AA,1,0,"ng-template",null,14,t.W1O)),2&e){const s=t.MAs(6);t.Q6J("nzDropdownMenu",s)("nzOverlayClassName","custom-shadow")("nzClickHide",!1)("nzTrigger","click"),t.xp6(3),t.Q6J("ngIf",null==A.service.model.task||null==A.service.model.task.names?null:A.service.model.task.names.length),t.xp6(1),t.Q6J("nzSize",24)("nzIcon","plus"),t.xp6(3),t.Q6J("ngIf",!A.taskListService.members),t.xp6(2),t.Q6J("ngModel",A.searchText),t.xp6(2),t.Q6J("ngIf",A.taskListService.members),t.xp6(1),t.Q6J("ngIf",A.isOwnerOrAdmin),t.xp6(1),t.ekj("justify-content-between",A.isOwnerOrAdmin)("justify-content-end",!A.isOwnerOrAdmin)}},dependencies:[Ot.mk,Ot.sg,Ot.O5,Or.Dz,xA.ix,aA.w,pn.dQ,Nn.Ie,wA.wO,wA.r9,Xe.cm,Xe.RR,qe.Ls,ZA.Zp,_n.W,tA.SY,$e.ZU,jt.Fj,jt.JJ,jt.On,ii.o,Zd.g,es.I],styles:['.disable[_ngcontent-%COMP%]{position:relative}.disable[_ngcontent-%COMP%]:after{position:absolute;content:"";background:rgba(231,231,231,.4117647059);inset:0;width:100%}.z-top[_ngcontent-%COMP%]{z-index:9}'],changeDetection:0}),i})();const Ra=["inputValue"],jf=["tasksContainer"],Ka=["taskCreateCard"];function Rf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"span",42),t.NdJ("click",function(){t.CHM(n);const A=t.oxw(2).$implicit,s=t.oxw();return t.KtG(s.editColumn(A))}),t._uU(1),t.qZA()}if(2&r){const n=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",n.name," (",n.tasks.length,") ")}}function Ga(r,i){if(1&r&&(t.TgZ(0,"button",43),t._UZ(1,"span",44),t.qZA()),2&r){t.oxw();const n=t.MAs(4);t.Q6J("nzDropdownMenu",n)}}function Kf(r,i){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const n=t.oxw().$implicit,e=t.oxw(2).$implicit;t.Udp("font-weight",n.id===e.category_id?"bold":null),t.xp6(1),t.hij(" ",(null==n?null:n.name)||null," ")}}function Gf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",45),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw(2).$implicit,p=t.oxw();return t.KtG(p.changeStatusCategory(o,s.id))}),t.ALo(1,"safeString"),t._UZ(2,"nz-badge",46),t.ALo(3,"safeString"),t.YNc(4,Kf,2,3,"ng-template",null,47,t.W1O),t.qZA()}if(2&r){const n=i.$implicit,e=t.MAs(5);t.Q6J("nzTooltipTitle",t.lcZ(1,4,n.description))("nzTooltipPlacement","right"),t.xp6(2),t.Q6J("nzColor",t.lcZ(3,6,n.color_code))("nzText",e)}}function Kd(r,i){1&r&&(t._UZ(0,"span",48),t._uU(1," Change category "))}function Jf(r,i){1&r&&t._UZ(0,"span",52)}function Gd(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"span",49),t.YNc(1,Jf,1,0,"span",50),t.TgZ(2,"input",51),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw(2).$implicit;return t.KtG(s.name=A)})("keydown.enter",function(){t.CHM(n);const A=t.oxw(2).$implicit,s=t.oxw();return t.KtG(s.onNameChange(A))})("blur",function(){t.CHM(n);const A=t.oxw(2).$implicit,s=t.oxw();return t.KtG(s.onNameChange(A))}),t.qZA()()}if(2&r){const n=t.oxw(2).$implicit,e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isEditColProgress),t.xp6(1),t.ekj("bg-white",!e.isEditColProgress),t.Q6J("id","kanban-col-"+n.id)("disabled",e.isEditColProgress)("ngModel",n.name)}}function Yf(r,i){if(1&r){const n=t.EpF();t.ynx(0,31),t.YNc(1,Rf,2,2,"span",32),t.YNc(2,Ga,2,1,"button",33),t.TgZ(3,"nz-dropdown-menu",null,34)(5,"ul",27)(6,"li",28),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw();return t.KtG(s.editColumn(A))}),t._UZ(7,"span",35),t._uU(8," Rename "),t.qZA(),t.TgZ(9,"li",36)(10,"ul"),t.YNc(11,Gf,6,8,"li",37),t.qZA()(),t.TgZ(12,"li",38),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw();return t.KtG(s.deleteStatus(A))}),t._UZ(13,"span",39),t._uU(14," Delete "),t.qZA()()(),t.YNc(15,Kd,2,0,"ng-template",null,40,t.W1O),t.YNc(17,Gd,3,6,"span",41),t.BQk()}if(2&r){const n=t.MAs(16),e=t.oxw().$implicit,A=t.oxw();t.Q6J("ngSwitch",(null==A.editingColumn?null:A.editingColumn.id)===e.id),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(7),t.Q6J("nzTitle",n),t.xp6(2),t.Q6J("ngForOf",A.categories)("ngForTrackBy",A.trackByFn),t.xp6(1),t.Q6J("nzTooltipTitle",e.tasks.length?"Move all tasks to a different section.":null),t.xp6(5),t.Q6J("ngSwitchCase",!0)}}function Jd(r,i){if(1&r&&t._uU(0),2&r){const n=t.oxw().$implicit;t.AsE("",n.name," (",n.tasks.length,") ")}}function Yd(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",53),t.NdJ("click",function(A){const o=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.editModal(o,A))})("contextmenu",function(A){const o=t.CHM(n).$implicit;t.oxw();const p=t.MAs(15),f=t.oxw();return t.KtG(f.contextMenu(A,p,o))}),t._UZ(1,"worklenz-kanban-task-card",54),t.qZA()}if(2&r){const n=i.$implicit,e=t.oxw(2);t.Q6J("cdkDragData",n),t.xp6(1),t.Q6J("task",n)("projectId",e.projectId)}}function xl(r,i){if(1&r&&(t.ynx(0),t.TgZ(1,"div",69),t._UZ(2,"nz-spin",70),t.qZA(),t.BQk()),2&r){t.oxw();const n=t.MAs(4);t.xp6(2),t.Q6J("nzIndicator",n)}}function qd(r,i){1&r&&t._UZ(0,"span",71)}function qf(r,i){if(1&r&&(t.TgZ(0,"small",72),t._uU(1),t.qZA()),2&r){const n=t.oxw(3);t.xp6(1),t.hij("",null==n.newTaskName?null:n.newTaskName.length," /100")}}function Vd(r,i){1&r&&t._UZ(0,"worklenz-kanban-task-creation-assignees")}function Vf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",55,56),t.YNc(2,xl,3,1,"ng-container",57),t.YNc(3,qd,1,0,"ng-template",null,58,t.W1O),t.TgZ(5,"input",59,60),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw(2);return t.KtG(s.newTaskName=A)})("keydown.enter",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw();return t.KtG(s.onCreateButtonClicked(A.id))}),t.qZA(),t.YNc(7,qf,2,1,"small",61),t.TgZ(8,"div",62)(9,"div",63)(10,"span",64),t._uU(11),t.ALo(12,"dateFormatter"),t.qZA(),t.TgZ(13,"nz-date-picker",65),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw(2);return t.KtG(s.createTaskEndDate=A)}),t.qZA()(),t.TgZ(14,"div",66),t.YNc(15,Vd,1,0,"worklenz-kanban-task-creation-assignees",57),t.qZA()(),t.TgZ(16,"div")(17,"button",67),t.NdJ("click",function(){t.CHM(n);const A=t.oxw(2);return A.deleteTask(),t.KtG(A.resetAll())}),t._uU(18,"Cancel "),t.qZA(),t.TgZ(19,"button",68),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw();return t.KtG(s.onCreateButtonClicked(A.id))}),t._uU(20,"Add task "),t.qZA()()()}if(2&r){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.creatingTask),t.xp6(3),t.Q6J("placeholder","Enter task name")("ngModel",n.newTaskName)("disabled",n.creatingTask),t.xp6(2),t.Q6J("ngIf",null==n.newTaskName?null:n.newTaskName.length),t.xp6(1),t.Q6J("ngClass",null!=n.newTaskName&&n.newTaskName.length?"visible":"invisible"),t.xp6(2),t.ekj("past-date",n.checkForPastDate(n.createTaskEndDate))("soon-date",n.checkForSoonDate(n.createTaskEndDate)),t.xp6(1),t.Oqu(t.lcZ(12,17,n.createTaskEndDate)),t.xp6(2),t.Q6J("nzPlaceHolder","Due date")("nzSuffixIcon","")("ngModel",n.createTaskEndDate),t.xp6(2),t.Q6J("ngIf",null==n.newTaskName?null:n.newTaskName.length),t.xp6(4),t.Q6J("disabled",!(null!=n.newTaskName&&n.newTaskName.length))("nzLoading",n.updatingTask)}}function Wf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",28),t.NdJ("click",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.archiveSelected())}),t._UZ(1,"span",29),t._uU(2," Archive "),t.qZA()}if(2&r){const n=t.oxw(2);t.xp6(1),t.Q6J("nzType",n.archivingTasks?"loading":"inbox")}}function Xf(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"div",16),t.YNc(3,Yf,18,8,"ng-container",17),t.YNc(4,Jd,1,2,"ng-template",null,18,t.W1O),t.qZA()(),t.TgZ(6,"div",19,20),t.NdJ("cdkDropListDropped",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.drop(A))}),t.YNc(8,Yd,2,3,"div",21),t.TgZ(9,"div",22),t.YNc(10,Vf,21,19,"div",23),t.TgZ(11,"button",24),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.MAs(7),p=t.oxw();return t.KtG(p.showTaskCreateInput(s.id,o))}),t._UZ(12,"span",25),t._uU(13," Create Task "),t.qZA()(),t.TgZ(14,"nz-dropdown-menu",null,26)(16,"ul",27)(17,"li",28),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.assignToMe())}),t._UZ(18,"span",29),t._uU(19," Assign to me "),t.qZA(),t.YNc(20,Wf,3,1,"li",30),t.TgZ(21,"li",28),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.deleteSelected())}),t._UZ(22,"span",29),t._uU(23," Delete "),t.qZA()()()()()}if(2&r){const n=i.$implicit,e=t.MAs(5),A=t.oxw();t.Q6J("cdkDragData",n.id),t.xp6(3),t.Q6J("ngIf",A.isOwnerOrAdmin()||A.isProjectManager())("ngIfElse",e),t.xp6(3),t.Q6J("id",n.id)("cdkDropListConnectedTo",A.groupIds)("cdkDropListData",n),t.xp6(2),t.Q6J("ngForOf",n.tasks)("ngForTrackBy",A.trackByFn),t.xp6(2),t.Q6J("ngIf",A.statusesColumns[n.id]),t.xp6(1),t.Q6J("nzLoading",A.createButtons[n.id]),t.xp6(7),t.Q6J("nzType",A.assigningTasks?"loading":"user-add"),t.xp6(2),t.Q6J("ngIf",!(null!=A.contextSelectedTask&&A.contextSelectedTask.is_sub_task)),t.xp6(2),t.Q6J("nzType",A.deletingTasks?"loading":"delete")}}function Ja(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",73)(1,"div",74),t._UZ(2,"img",75),t.qZA(),t.TgZ(3,"span",76),t._uU(4,"There are no status groups to show in this project."),t.qZA(),t.TgZ(5,"div")(6,"span",77),t._uU(7," Click on "),t.TgZ(8,"button",78),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.openCreateStatusDrawer())}),t._UZ(9,"span",79),t.qZA(),t._uU(10," button to create status groups as you desire. "),t.qZA()()()}}function Rn(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",80)(1,"button",81),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.openCreateStatusDrawer())}),t._UZ(2,"span",79),t.qZA()()}}function Wd(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"worklenz-status-form",82),t.NdJ("onCancel",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.showStatusModal=!1)})("onCreateOrUpdate",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.onStatusCreateOrUpdate())}),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("show",n.showStatusModal)("statusId",null)("projectId",n.projectId)}}function Ya(r,i){if(1&r&&(t.TgZ(0,"nz-option",91),t._UZ(1,"nz-badge",46),t.qZA()),2&r){const n=i.$implicit,e=t.oxw(2);t.Q6J("nzDisabled",n.id===(null==e.selectedForDelete?null:e.selectedForDelete.id))("nzLabel",n.name||null)("nzValue",n.id),t.xp6(1),t.Udp("opacity",n.id===(null==e.selectedForDelete?null:e.selectedForDelete.id)?"0.5":null),t.Q6J("nzColor",n.color_code)("nzText",(null==n?null:n.name)||null)}}function $f(r,i){if(1&r){const n=t.EpF();t.ynx(0),t._UZ(1,"nz-alert",83),t.TgZ(2,"nz-card",84)(3,"h5",85),t._uU(4),t.qZA(),t.TgZ(5,"h4",86),t._UZ(6,"span",87),t.qZA(),t.TgZ(7,"nz-select",88),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.replacingStatus=A)}),t.YNc(8,Ya,2,7,"nz-option",89),t.qZA(),t.TgZ(9,"button",90),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.moveAndDelete())}),t._uU(10," Done "),t.qZA()(),t.BQk()}if(2&r){const n=t.oxw();t.xp6(1),t.Q6J("nzMessage",n.statusDeleteWarning),t.xp6(3),t.Oqu(null==n.selectedForDelete?null:n.selectedForDelete.name),t.xp6(3),t.Q6J("ngModel",n.replacingStatus)("nzDropdownMatchSelectWidth",!1),t.xp6(1),t.Q6J("ngForOf",n.service.groups)("ngForTrackBy",n.trackByFn),t.xp6(1),t.Q6J("nzLoading",n.deletingStatus)("disabled",n.deletingStatus)}}const tg=function(){return{rows:12}};let qa=(()=>{var r;class i{get defaultStatus(){return this.taskStatuses[0]||null}get profile(){return this.auth.getCurrentSession()}get groups(){return this.service.groups}constructor(e,A,s,o,p,f,w,b,y,k,v,M,L,Z,z,j,W){this.api=e,this.auth=A,this.statusesApi=s,this.route=o,this.contextMenuService=p,this.cdr=f,this.ngZone=w,this.socket=b,this.map=y,this.view=k,this.tmApi=v,this.labelsApi=M,this.prioritiesApi=L,this.taskTemplates=Z,this.kanbanService=z,this.service=j,this.projectsService=W,this.session=null,this.board=new Cl([]),this.taskStatuses=[],this.loaders={},this.projectId=null,this.tasks={},this.statusIds=[],this.categories=[],this.loadingStatuses=!1,this.showTaskModal=!1,this.updateLoading=!1,this.showStatusModal=!1,this.loadingTasks=!1,this.loadingSubTasks=!1,this.taskDragging=!1,this.isEditColProgress=!1,this.loadingCategories=!1,this.assigningTasks=!1,this.archivingTasks=!1,this.deletingTasks=!1,this.showStatusesReplaceModal=!1,this.deletingStatus=!1,this.taskUpdated=!1,this.creatingTask=!1,this.updatingTask=!1,this.isCreateButtonClicked=!1,this.loadingGroups=!1,this.loadingMembers=!1,this.loadingLabels=!1,this.loadingPriorities=!1,this.selectedTaskId=null,this.selectedStatusId=null,this.statusDeleteWarning=null,this.newTaskName=null,this.createdTaskId=null,this.createTaskEndDate=null,this.previousColumnName=null,this.editingColumn=null,this.selectedForDelete=null,this.createdTask=null,this.subTasks=[],this.createdMainTask=null,this.taskStatuses_=[],this.contextSelectedTask=null,this.replacingStatus=null,this.selectedTask=null,this.statusesColumns={},this.createButtons={},this.tasksContainerMain=null,this.selectedGroupFilter=null,this.handleStatusChangeResponse=it=>{if(it&&it.id){const gt=this.map.getGroupId(it.id);if(!gt||!it.id)return;const It=this.service.groups.find(Y=>Y.id===gt);if(!It)return;const ut=It.tasks.find(Y=>Y.id===it.id);if(!ut)return;if(ut.status=it.status_id,this.isGroupByStatus()&&(this.service.updateTaskGroup(ut,!1),ut.parent_task_id)){const Y=this.service.getGroupIdByGroupedColumn(ut),Tt=this.groups.find(kt=>kt.id===Y);if(!Tt)return;Tt.tasks.push(ut)}this.cdr.markForCheck()}},this.handleSortOrderResponse=it=>{for(const gt of it){const It=gt.id;if(It){const ut=this.map.tasks.get(It);ut&&(ut.sort_order=gt.sort_order,this.map.tasks.set(It,ut))}}},this.groupIds=[],this.handleNewTaskAssignees=it=>{if(this.createdMainTask)try{it&&(this.createdMainTask.assignees=(it.assignees||[]).map(gt=>gt.team_member_id),this.createdMainTask.names=it.names||[],this.cdr.markForCheck())}catch{}},this.projectId=this.route.snapshot.paramMap.get("id"),this.taskTemplates.onTemplateImport.pipe((0,ue.sL)()).subscribe(()=>{this.getGroups()}),(0,No.T)(this.view.onSelectTask,this.view.onSelectSubTask).pipe((0,ue.sL)()).subscribe(it=>{if("string"==typeof it){const gt=this.map.tasks.get(it);gt&&this.handleTaskSelectFromView(gt)}else this.handleTaskSelectFromView(it)}),this.kanbanService.onCreateStatus.pipe((0,ue.sL)()).subscribe(it=>{this.onStatusCreate(it)}),this.service.onTaskAddOrDelete$.pipe((0,ue.sL)()).subscribe(it=>{it&&this.handleNewTaskReceive(it)}),this.kanbanService.onCreateSubTask.pipe((0,ue.sL)()).subscribe(it=>{this.onSubtaskCreate(it)}),this.kanbanService.onAssignMembers.pipe((0,ue.sL)()).subscribe(it=>{this.handleNewTaskAssignees(it)}),this.kanbanService.onDeleteTask.pipe((0,ue.sL)()).subscribe(it=>{this.service.deleteTask(it.id),this.cdr.markForCheck()})}ngOnInit(){this.init(),this.socket.on(Et.C.TASK_SORT_ORDER_CHANGE.toString(),this.handleSortOrderResponse),this.socket.on(Et.C.TASK_STATUS_CHANGE.toString(),this.handleStatusChangeResponse),this.session=this.auth.getCurrentSession(),this.selectedGroupFilter=this.service.getCurrentGroup(),this.service.setCurrentGroup(this.service.GROUP_BY_OPTIONS[0])}init(){var e=this;return(0,Ft.Z)(function*(){e.getGroups(),e.getCategories(),e.getStatuses(),e.getTeamMembers(),e.getLabels(),e.getPriorities()})()}ngOnDestroy(){this.board.columns=[],this.tasks={},this.statusIds=[],this.loaders={},this.socket.removeListener(Et.C.TASK_SORT_ORDER_CHANGE.toString(),this.handleSortOrderResponse),this.selectedGroupFilter&&this.service.setCurrentGroup(this.selectedGroupFilter)}isProjectManager(){return!!this.projectsService.projectOwnerTeamMemberId&&this.auth.getCurrentSession()?.team_member_id===this.projectsService.projectOwnerTeamMemberId}handleNewTaskReceive(e){e.isSubTask&&this.cdr.detectChanges(),this.cdr.markForCheck()}onSubtaskCreate(e){if(e){const A=this.service.groups.find(s=>s.id===e.status);A&&A.tasks.push(e)}this.cdr.markForCheck()}getConf(e){const A={id:this.projectId,statuses:null,group:this.service.GROUP_BY_STATUS_VALUE,field:null,order:null,search:null,members:null,projects:null,isSubtasksInclude:!0};return e&&(A.parent_task=e),A}getGroups(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId){try{e.map.deselectAll(),e.loadingGroups=!0;const A=e.getConf(),s=yield e.api.getTaskListV2(A);s.done&&(e.service.groups=s.body,e.groupIds=s.body.map(o=>o.id),e.mapTasks(e.service.groups))}catch{e.loadingGroups=!1}e.cdr.detectChanges()}})()}mapTasks(e){for(const A of e){this.map.registerGroup(A);for(const s of A.tasks)s.start_date&&(s.start_date=new Date(s.start_date)),s.end_date&&(s.end_date=new Date(s.end_date))}this.loadingGroups=!1}trackById(e,A){return A.id}onStatusCreate(e){this.service.groups.push({id:e.id,name:e.name,color_code:e.color_code,category_id:e.category_id,tasks:[]}),e.id&&this.groupIds.push(e.id),this.cdr.markForCheck()}onClick(e){this.taskCreateCard&&!this.taskCreateCard.nativeElement.contains(e)&&(!this.newTaskName||""===this.newTaskName.trim())&&(this.deleteTask(),this.resetAll())}handleBeforeUnload(e){this.newTaskName||this.deleteTask()}getTeamMembers(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingMembers=!0;const A=yield e.tmApi.getAll(e.projectId);A.done&&(e.service.members=A.body),e.loadingMembers=!1}catch{e.loadingMembers=!1}})()}getLabels(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingLabels=!0;const A=yield e.labelsApi.get(e.projectId);A.done&&(e.service.labels=A.body),e.loadingLabels=!1}catch{e.loadingLabels=!1}})()}getPriorities(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingPriorities=!0;const A=yield e.prioritiesApi.get();A.done&&(e.service.priorities=A.body),e.loadingPriorities=!1}catch{e.loadingPriorities=!1}})()}isGroupByStatus(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_STATUS_VALUE}isOwnerOrAdmin(){return this.profile?.owner||this.profile?.is_admin}onShowChange(e){e||(this.selectedTask=null)}editModal(e,A){var s=this;return(0,Ft.Z)(function*(){e&&e.id&&!s.taskDragging&&(s.selectedTask=e,s.selectedTaskId=e.id,s.showTaskModal=!0),A?.preventDefault()})()}handleTaskSelectFromView(e){this.showTaskModal=!1,this.cdr.detectChanges(),setTimeout(()=>{e&&(this.editModal(e),this.cdr.markForCheck())},Ze.GR)}drop(e){if(this.projectId){const A=e.previousIndex,s=e.currentIndex,o=e.previousContainer.data,p=e.container.data,f=e.item.data,w=p.tasks[s]?.sort_order,b={project_id:this.projectId,from_index:o.tasks[A].sort_order,to_index:w||p.tasks[p.tasks.length-1]?.sort_order||-1,to_last_index:!w,from_group:o.id,to_group:p.id,group_by:this.service.GROUP_BY_STATUS_VALUE,task:f,team_id:this.auth.getCurrentSession()?.team_id};this.socket.emit(Et.C.TASK_SORT_ORDER_CHANGE.toString(),b),this.socket.once(Et.C.TASK_SORT_ORDER_CHANGE.toString(),()=>{this.socket.emit(Et.C.GET_TASK_PROGRESS.toString(),f.is_sub_task?f.parent_task_id:f.id)}),o.id===p.id?(0,_r.bA)(e.container.data.tasks,A,s):((0,_r.EA)(e.previousContainer.data.tasks,e.container.data.tasks,e.previousIndex,e.currentIndex),this.map.remove(f),this.map.add(p.id,f),this.service.emitGroupChange(p.id,f.id,p.color_code)),this.cdr.markForCheck()}}dropGrid(e){var A=this;return(0,Ft.Z)(function*(){(0,_r.bA)(A.service.groups,e.previousIndex,e.currentIndex);const s=[];for(const p of A.service.groups)s.push(p.id);(yield A.statusesApi.updateStatus(e.item.data||"",{status_order:s},A.projectId)).done||(0,_r.bA)(A.service.groups,e.currentIndex,e.previousIndex)})()}getStatuses(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId){try{e.loadingStatuses=!e.taskUpdated;const A=yield e.statusesApi.get(e.projectId);A.done&&(e.taskStatuses=A.body),e.loadingStatuses=!1}catch(A){(0,le.tu)(A),e.loadingStatuses=!1}e.cdr.markForCheck()}})()}getCategories(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingCategories=!0;const A=yield e.statusesApi.getCategories();A.done&&(e.categories=A.body),e.loadingCategories=!1}catch(A){(0,le.tu)(A),e.loadingCategories=!1}e.cdr.markForCheck()})()}onTaskCreateOrUpdate(){var e=this;return(0,Ft.Z)(function*(){yield e.refresh()})()}onStatusCreateOrUpdate(){var e=this;return(0,Ft.Z)(function*(){yield e.refresh()})()}isLoading(){return this.loadingGroups}onDragStart(){this.taskDragging=!0}onDragEnded(){this.taskDragging=!1}refresh(){var e=this;return(0,Ft.Z)(function*(){e.updateLoading||(e.kanbanService.resetModel(),e.updateLoading=!0,e.tasks={},e.statusIds=[],e.loaders={},yield e.getStatuses(),e.updateLoading=!1,e.ngZone.runOutsideAngular(()=>{setTimeout(()=>{document.querySelectorAll(".bottom-task-add").forEach(function(A){A.classList.remove("hide")})})}))})()}editColumn(e){this.editingColumn=e,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{const A=document.querySelector(`#kanban-col-${e.id}`);A&&(A.focus(),A.select(),this.previousColumnName=e.name)})})}changeStatusCategory(e,A){var s=this;return(0,Ft.Z)(function*(){A&&(e.old_category_id=e.category_id,e.category_id=A,yield s.onBlurEditColumn(e),s.cdr.markForCheck())})()}onBlurEditColumn(e){var A=this;return(0,Ft.Z)(function*(){if(A.projectId&&!A.isEditColProgress){if(!e.name||!e.name.trim().length)return void(A.previousColumnName&&(e.name=A.previousColumnName));try{A.isEditColProgress=!0;const s={name:e.name,project_id:A.projectId,category_id:e.category_id},o=yield A.statusesApi.update(e.id,s,A.projectId);if(o.done){e.color_code=o.body.color_code;for(const p of e.tasks)A.socket.emit(Et.C.GET_TASK_PROGRESS.toString(),p.id),p.parent_task_id&&A.socket.emit(Et.C.GET_TASK_PROGRESS.toString(),p.parent_task_id)}else e.category_id=e.old_category_id;A.editingColumn=null,A.isEditColProgress=!1}catch(s){e.category_id=e.old_category_id,(0,le.tu)(s),A.isEditColProgress=!1}A.cdr.markForCheck()}})()}onNameChange(e){var A=this;return(0,Ft.Z)(function*(){if(A.projectId&&!A.isEditColProgress){if(!e.name||!e.name.trim().length)return void(A.previousColumnName&&(e.name=A.previousColumnName));try{A.isEditColProgress=!0;const s={name:e.name,project_id:A.projectId,category_id:e.category_id},o=yield A.statusesApi.updateName(e.id,s,A.projectId);o.done&&(e.color_code=o.body.color_code),A.editingColumn=null,A.isEditColProgress=!1}catch(s){(0,le.tu)(s),A.isEditColProgress=!1}A.cdr.markForCheck()}})()}assignToMe(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId){try{e.assigningTasks=!0;const A={tasks:e.map.getSelectedTaskIds(),project_id:e.projectId},s=yield e.api.bulkAssignMe(A);s.done&&(e.service.emitOnAssignMe(s.body),e.map.deselectAll()),e.assigningTasks=!1}catch(A){e.assigningTasks=!1,(0,le.tu)(A)}e.cdr.markForCheck()}})()}deleteSelected(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId&&e.contextSelectedTask){try{if(e.deletingTasks=!0,!e.contextSelectedTask.is_sub_task&&e.map._subTasksMap.has(e.contextSelectedTask.id)){const s=e.map._subTasksMap.get(e.contextSelectedTask.id);if(s)for(const o of s)e.map.selectTask(o)}const A=yield e.api.bulkDelete({tasks:e.map.getSelectedTaskIds()},e.projectId);if(A.done){for(const s of A.body.deleted_tasks)e.service.deleteTask(s),e.service.removeSubtask(s);e.contextSelectedTask.is_sub_task&&(e.kanbanService.emitDeleteSubTask({parent_task_id:e.contextSelectedTask.parent_task_id}),e.socket.emit(Et.C.GET_TASK_PROGRESS.toString(),e.contextSelectedTask.parent_task_id))}e.deletingTasks=!1}catch(A){(0,le.tu)(A),e.deletingTasks=!1}e.contextSelectedTask=null,e.cdr.markForCheck()}})()}archiveSelected(){var e=this;return(0,Ft.Z)(function*(){if(!e.archivingTasks&&e.contextSelectedTask){try{if(!e.contextSelectedTask.is_sub_task&&e.map._subTasksMap.has(e.contextSelectedTask.id)){const s=e.map._subTasksMap.get(e.contextSelectedTask.id);if(s)for(const o of s)e.map.selectTask(o)}e.archivingTasks=!0;const A=yield e.api.bulkArchive({tasks:e.map.getSelectedTaskIds(),project_id:e.projectId},!1);if(A.done)for(const s of A.body)e.service.deleteTask(s);e.archivingTasks=!1}catch{e.archivingTasks=!1}e.contextSelectedTask=null,e.cdr.markForCheck()}})()}deleteStatus(e){var A=this;return(0,Ft.Z)(function*(){if(!e||!e.id||!A.projectId)return!1;try{A.selectedForDelete=e,A.deletingStatus=!0;const s=yield A.statusesApi.delete(e.id,A.projectId,A.replacingStatus||void 0);if(s.done){const o=A.groups.findIndex(p=>p.id===e.id);return A.groups?.splice(o,1),A.groupIds=A.groupIds.filter(p=>p!==e.id),yield A.refresh(),!0}"$"===s.message?.charAt(0)&&(A.replacingStatus=A.defaultStatus?.id||null,A.showStatusesReplaceModal=!0,A.statusDeleteWarning=s.message.substring(1)),A.deletingStatus=!1,A.cdr.markForCheck()}catch{A.deletingStatus=!1,A.cdr.markForCheck()}return A.cdr.markForCheck(),!1})()}contextMenu(e,A,s){this.contextMenuService.create(e,A),this.contextSelectedTask=s,this.map.selectTask(s)}closeStatusesReplaceModal(){this.showStatusesReplaceModal=!1,this.statusDeleteWarning=null,this.selectedForDelete=null,this.replacingStatus=null}moveAndDelete(){var e=this;return(0,Ft.Z)(function*(){(yield e.deleteStatus(e.selectedForDelete))&&e.init(),e.closeStatusesReplaceModal(),e.cdr.markForCheck()})()}openCreateStatusDrawer(){this.showStatusModal=!0}trackByFn(e,A){return A.id}showTaskCreateInput(e,A){var s=this;return(0,Ft.Z)(function*(){yield s.resetAll(),yield s.createTempTask(e),s.tasksContainerMain=A,s.ngZone.runOutsideAngular(()=>{setTimeout(()=>{document.querySelectorAll(".bottom-task-add").forEach(function(o){o.classList.remove("hide")})})})})()}scrollBottom(){setTimeout(()=>{if(this.tasksContainerMain){const A=this.inputValue.nativeElement;this.tasksContainerMain.scrollTop=this.tasksContainer.nativeElement.scrollHeight+100,A.focus()}}),this.cdr.detectChanges()}onBlur(){var e=this;return(0,Ft.Z)(function*(){setTimeout(()=>{e.newTaskName||(e.deleteTask(),e.resetAll())},150)})()}onCreateButtonClicked(e){var A=this;return(0,Ft.Z)(function*(){A.isCreateButtonClicked=!0,A.newTaskName&&A.newTaskName!=Ze.qu&&""!==A.newTaskName?.trim()?yield A.updateInstantTask(e):(A.deleteTask(),A.resetAll())})()}createTempTask(e){if(this.creatingTask)return;this.creatingTask=!0,this.updatingTask=!0,this.createButtons[e]=!0;const A={name:this.newTaskName||Ze.qu,project_id:this.projectId||"",reporter_id:this.session?.id,team_id:this.session?.team_id,status_id:e};this.socket.emit(Et.C.QUICK_TASK.toString(),JSON.stringify(A)),this.socket.once(Et.C.QUICK_TASK.toString(),s=>{this.createdMainTask=s,this.updatingTask=!1,this.creatingTask=!1,s?.id&&this.getInstantTask(s.id,this.projectId,e,s)})}getInstantTask(e,A,s,o){try{this.createButtons[s]=!1,this.statusesColumns[s]=!0,this.createdTaskId=e,this.kanbanService.model.task=o,this.scrollBottom()}catch(p){(0,le.tu)(p)}}updateInstantTask(e){var A=this;return(0,Ft.Z)(function*(){if(!A.createdTaskId||!A.newTaskName||""===A.newTaskName?.trim()||A.newTaskName==Ze.qu||!A.isCreateButtonClicked)return A.deleteTask(),void A.resetAll();try{A.updatingTask=!0,A.socket.emit(Et.C.TASK_NAME_CHANGE.toString(),JSON.stringify({task_id:A.createdTaskId,name:A.newTaskName,parent_task:""})),A.createdMainTask&&(A.createdMainTask.name=A.newTaskName),A.socket.emit(Et.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:A.createdTaskId,end_date:(0,le.A6)(A.createTaskEndDate)||null,parent_task:"",time_zone:A.auth.getCurrentSession()?.timezone_name?A.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone})),A.createdMainTask&&A.createTaskEndDate&&(A.createdMainTask.end_date=A.createTaskEndDate),A.updatingTask=!1,A.onNewTaskReceived(e)}catch(s){(0,le.tu)(s)}A.newTaskName=null,A.createdTaskId=null,A.createTaskEndDate=null,A.creatingTask=!1,A.updatingTask=!1,A.isCreateButtonClicked=!1,A.kanbanService.resetModel(),A.createdMainTask=null,A.createTempTask(e),A.cdr.markForCheck()})()}onNewTaskReceived(e){if(e&&this.createdMainTask?.id){if(this.map.has(this.createdMainTask?.id))return;this.service.addTask(this.createdMainTask,e)}}deleteTask(){var e=this;return(0,Ft.Z)(function*(){const A=e.kanbanService.model.task;if(A&&A.id)try{(yield e.api.delete(A.id)).done&&(e.kanbanService.model.task&&(e.kanbanService.model.task.sub_tasks_count=Math.max((e.kanbanService.model.task?.sub_tasks_count||0)-1,0)),e.kanbanService.emitDelete({id:A.id,parent_task_id:A.parent_task_id,project_id:e.projectId}),e.kanbanService.emitRefresh(A.id))}catch(s){(0,le.tu)(s)}})()}checkForPastDate(e){return me()(e).format("YYYY-MM-DD")<me()().format("YYYY-MM-DD")}checkForSoonDate(e){const A=me()(e).format("YYYY-MM-DD"),s=me()().add(1,"day").format("YYYY-MM-DD");return A===me()().format("YYYY-MM-DD")||A===s}resetAll(){for(const e in this.statusesColumns)this.statusesColumns[e]=!1;this.tasksContainerMain=null,this.newTaskName=null,this.createdTaskId=null,this.createTaskEndDate=null,this.creatingTask=!1,this.updatingTask=!1,this.isCreateButtonClicked=!1,this.createdMainTask=null,this.kanbanService.resetModel(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{document.querySelectorAll(".bottom-task-add").forEach(function(e){e.classList.remove("hide")})})})}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(ml.c),t.Y36(TA.e),t.Y36(Ls.w),t.Y36(be.gz),t.Y36(Xe.Iw),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(je.s),t.Y36(Oo.g),t.Y36(Wi.f),t.Y36(ld.B),t.Y36(Ma.u),t.Y36(Al.s),t.Y36(Na.e),t.Y36(Ms.m),t.Y36(Mn.b),t.Y36(Vi.m))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-kanban-board"]],viewQuery:function(e,A){if(1&e&&(t.Gf(Ra,5),t.Gf(jf,5),t.Gf(Ka,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.inputValue=s.first),t.iGM(s=t.CRH())&&(A.tasksContainer=s.first),t.iGM(s=t.CRH())&&(A.taskCreateCard=s.first)}},hostBindings:function(e,A){1&e&&t.NdJ("click",function(o){return A.onClick(o.target)},!1,t.evT)("beforeunload",function(o){return A.handleBeforeUnload(o)},!1,t.Jf7)("worklenz.tasks.update",function(){return A.onTaskCreateOrUpdate()},!1,t.evT)("worklenz.status.update",function(){return A.onStatusCreateOrUpdate()},!1,t.evT)},decls:14,vars:16,consts:[[1,"overflow-auto"],[3,"nzLoading","nzParagraph"],[1,"root"],[1,"worklenz-kanban","overflow-auto"],[1,"board-wrapper"],[1,"board-columns"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"board-columns","justify-content-center",3,"cdkDropListDropped"],["cdkDragLockAxis","x","class","board-column","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["class","pt-5 pb-5",4,"ngIf"],["class","new-column-sec",4,"ngIf"],[3,"show","selfResetTaskId","projectId","taskId","showChange"],["action","Create",3,"show","statusId","projectId","onCancel","onCreateOrUpdate",4,"ngIf"],[3,"nzClosable","nzVisible","nzPlacement","nzTitle","nzOnClose"],[4,"nzDrawerContent"],["cdkDragLockAxis","x","cdkDrag","",1,"board-column",3,"cdkDragData"],["cdkDragHandle","",1,"column-title","m-1"],[1,"align-items-center","d-flex","mb-0","justify-content-between"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["memberKanbanColHead",""],["cdkDropList","",1,"tasks-container","mt-3",3,"id","cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["tasksContainer",""],["class","task","cdkDrag","",3,"cdkDragData","click","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[1,"column-footer"],["class","task-create-card task",4,"ngIf"],["nz-button","","nzBlock","","nzType","default",1,"add-task-btn","bottom-task-add",3,"nzLoading","click"],["nz-icon","","nzType","plus","nzTheme","outline"],["contextMenuDropdown","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzTheme","outline",1,"me-2",3,"nzType"],["nz-menu-item","",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","cursor-pointer kanban-status-label w-100",3,"click",4,"ngSwitchCase"],["nz-button","","class","p-0","nzType","text","nz-dropdown","","nzTrigger","click",3,"nzDropdownMenu",4,"ngSwitchCase"],["menu","nzDropdownMenu"],["nz-icon","","nzType","edit","nzTheme","outline",1,"me-2"],["nz-submenu","",3,"nzTitle"],["class","m-0","nz-tooltip","","nz-menu-item","",3,"nzTooltipTitle","nzTooltipPlacement","click",4,"ngFor","ngForOf","ngForTrackBy"],["nz-tooltip","","nz-menu-item","",3,"nzTooltipTitle","click"],["nz-icon","","nzType","delete","nzTheme","outline",1,"me-2"],["titleTemplate",""],["class","d-flex align-items-center w-100",4,"ngSwitchCase"],[1,"cursor-pointer","kanban-status-label","w-100",3,"click"],["nz-button","","nzType","text","nz-dropdown","","nzTrigger","click",1,"p-0",3,"nzDropdownMenu"],["nz-icon","","nzType","ellipsis","nzTheme","outline",2,"font-size","21px"],["nz-tooltip","","nz-menu-item","",1,"m-0",3,"nzTooltipTitle","nzTooltipPlacement","click"],[3,"nzColor","nzText"],["textTmpl",""],["nz-icon","","nzType","retweet","nzTheme","outline",1,"me-1"],[1,"d-flex","align-items-center","w-100"],["nz-icon","","nzType","loading","nzTheme","outline","class","me-2",4,"ngIf"],["nz-input","","nzBorderless","",3,"id","disabled","ngModel","ngModelChange","keydown.enter","blur"],["nz-icon","","nzType","loading","nzTheme","outline",1,"me-2"],["cdkDrag","",1,"task",3,"cdkDragData","click","contextmenu"],[3,"task","projectId"],[1,"task-create-card","task"],["taskCreateCard",""],[4,"ngIf"],["indicatorTemplate",""],["nz-input","","maxlength","100",3,"placeholder","ngModel","disabled","ngModelChange","keydown.enter"],["inputValue",""],["style","position: absolute;z-index: 1;right: 15px;top: 40px;color: #00000073;font-size: 10px;",4,"ngIf"],[1,"d-flex","mt-3","mb-3",2,"max-height","24px","min-height","24px",3,"ngClass"],[1,"due-date-section"],["nz-typography","",1,"date-text"],[1,"kanban-task-create-dp","bg-transparent","kanban-task-card-due-date",3,"nzPlaceHolder","nzSuffixIcon","ngModel","ngModelChange"],[1,"assignees-section","ms-auto"],["nz-button","","nzType","default",1,"add-task-btn-card","me-2",3,"click"],["nz-button","","nzType","primary",1,"add-task-btn-card","a-t",3,"disabled","nzLoading","click"],[1,"spinner"],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"],[2,"position","absolute","z-index","1","right","15px","top","40px","color","#00000073","font-size","10px"],[1,"pt-5","pb-5"],[1,"no-data-img-holder","mx-auto","mb-4"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"mx-auto","d-block","text-center","no-data-text",2,"width","max-content"],["nz-typography","",1,"d-flex","align-items-center","no-data-text"],["nz-button","","nzType","default","nz-tooltip","","nzTooltipTitle","Add Status",1,"text-plus-btn","mx-2",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline",2,"font-size","18px"],[1,"new-column-sec"],["nz-button","","nzType","default","nz-tooltip","","nzTooltipTitle","Add Status",3,"click"],["action","Create",3,"show","statusId","projectId","onCancel","onCreateOrUpdate"],["nzType","warning",3,"nzMessage"],[1,"text-center","mt-4"],["nz-typography",""],["nz-typography","",1,"my-3"],["nz-icon","","nzType","arrow-down","nzTheme","outline"],[1,"w-100",3,"ngModel","nzDropdownMatchSelectWidth","ngModelChange"],["nzCustomContent","",3,"nzDisabled","nzLabel","nzValue",4,"ngFor","ngForOf","ngForTrackBy"],["nz-button","","nzType","primary","nzBlock","",1,"mt-3",3,"nzLoading","disabled","click"],["nzCustomContent","",3,"nzDisabled","nzLabel","nzValue"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0)(1,"nz-skeleton",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.NdJ("cdkDropListDropped",function(o){return A.dropGrid(o)}),t.YNc(7,Xf,24,13,"div",7),t.YNc(8,Ja,11,0,"div",8),t.YNc(9,Rn,3,0,"div",9),t.qZA()()()()()()(),t.TgZ(10,"worklenz-task-view",10),t.NdJ("showChange",function(o){return A.showTaskModal=o})("showChange",function(o){return A.onShowChange(o)}),t.qZA(),t.YNc(11,Wd,1,3,"worklenz-status-form",11),t.TgZ(12,"nz-drawer",12),t.NdJ("nzOnClose",function(){return A.closeStatusesReplaceModal()}),t.YNc(13,$f,11,8,"ng-container",13),t.qZA()),2&e&&(t.xp6(1),t.Q6J("nzLoading",A.isLoading())("nzParagraph",t.DdM(15,tg)),t.xp6(6),t.Q6J("ngForOf",A.groups)("ngForTrackBy",A.trackById),t.xp6(1),t.Q6J("ngIf",!A.groups.length),t.xp6(1),t.Q6J("ngIf",A.isOwnerOrAdmin()||A.isProjectManager()),t.xp6(1),t.Q6J("show",A.showTaskModal)("selfResetTaskId",!1)("projectId",(null==A.selectedTask?null:A.selectedTask.project_id)||null)("taskId",(null==A.selectedTask?null:A.selectedTask.id)||null),t.xp6(1),t.Q6J("ngIf",A.projectId),t.xp6(1),t.Q6J("nzClosable",!0)("nzVisible",A.showStatusesReplaceModal)("nzPlacement","right")("nzTitle","You are deleting a status"))},dependencies:[Ot.mk,Ot.sg,Ot.O5,Ot.RF,Ot.n9,ur.x7,xA.ix,aA.w,pn.dQ,wr.uw,wA.wO,wA.r9,wA.rY,Xe.cm,Xe.RR,Xe.wA,qe.Ls,ZA.Zp,vr.Ip,vr.Vq,ln.ng,_n.W,tA.SY,$e.ZU,_r.Wj,_r.Zt,_r.Bh,qi.E,Oa.W,jt.Fj,jt.JJ,jt.nD,jt.On,lr.Vz,lr.SQ,Pa.r,wn.bd,yl,vA,si.m,Ns.l],styles:[".root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.worklenz-kanban[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;min-width:0;min-height:0}.board-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;background-color:#fafafa;padding-top:6px;padding-bottom:6px}.board-columns[_ngcontent-%COMP%]{display:flex;flex-grow:1}.board-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-basis:0;max-width:325px;width:325px;margin-right:8px;padding:8px;border-radius:4px;max-height:calc(100vh - 220px);overflow:auto;border:1px solid transparent}.board-column[_ngcontent-%COMP%]   .column-footer[_ngcontent-%COMP%]{position:sticky;bottom:-2px;box-shadow:0 0 0 4px #fafafa}.board-column[_ngcontent-%COMP%]   .column-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:1;pointer-events:none}.board-column[_ngcontent-%COMP%]:hover{border:1px solid #f0f0f0}.board-column[_ngcontent-%COMP%]:hover   .column-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.column-title[_ngcontent-%COMP%]{font-size:14px;padding-top:0}.column-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#000000d9;font-weight:600}.tasks-container[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:2px;border-radius:4px}.task[_ngcontent-%COMP%]{padding:12px;background:white;border-radius:4px;margin-bottom:12px;cursor:pointer;position:relative;overflow:hidden;transition:box-shadow .3s;box-shadow:#edeae9 0 0 0 1px,#6d6e6f14 0 1px 4px}.task[_ngcontent-%COMP%]:hover{box-shadow:#a8a8a8 0 0 0 1px,#6d6e6f14 0 1px 4px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.kanban-status[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.left-border[_ngcontent-%COMP%]{left:5px;position:absolute;width:3px;top:10px;border-radius:4px;bottom:10px;margin-top:auto;margin-bottom:auto;opacity:.8}nz-avatar-group[_ngcontent-%COMP%]{float:right}.ant-input[_ngcontent-%COMP%]{padding:2px 4px;color:#000000d9;font-weight:500;font-size:14px}.create-new-task[_ngcontent-%COMP%]{padding:4px 15px;cursor:pointer;background:#1890ff;transition:.25s all;color:#fff;font-weight:500;border-radius:4px;width:max-content;text-shadow:0 -1px 0 rgba(0,0,0,.12);box-shadow:0 2px #0000000d}.create-new-task[_ngcontent-%COMP%]:hover{border-color:#40a9ff;background:#40a9ff}.task-name[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:8px!important;line-height:24px}.column-footer[_ngcontent-%COMP%]{background:#fafafa;padding-top:7px;z-index:10}.new-column-sec[_ngcontent-%COMP%]{text-align:right;padding:0 0 4px;margin-bottom:4px;border-bottom:1px solid #f0f0f0}.new-column-sec[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .text-plus-btn[_ngcontent-%COMP%]{width:34px;height:34px;display:flex;align-items:center;justify-content:center;font-size:24px;border:transparent;background:#f4f5f7;color:#42526e}.new-board-btn[_ngcontent-%COMP%]{padding:15px 35px;height:auto;border-radius:4px;background:#f4f5f7;color:#000000d9;border:none;font-weight:500}.new-board-btn[_ngcontent-%COMP%]:hover{background:#40a9ff;color:#fff}*[_ngcontent-%COMP%]::-webkit-scrollbar-track, *[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:transparent!important}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-color:#f4f5f7!important}.column-title[_ngcontent-%COMP%]{cursor:grab}.column-title[_ngcontent-%COMP%]:hover:active, .column-title[_ngcontent-%COMP%]:active{cursor:grabbing}.kanban-status-label[_ngcontent-%COMP%]{margin:-5px;padding:5px;border-radius:5px;font-weight:600}.kanban-status-label[_ngcontent-%COMP%]:hover{background:#f3f3f3}.kanban-category-badge[_ngcontent-%COMP%]{cursor:pointer;font-size:11px;width:16px;height:16px}nz-tag[_ngcontent-%COMP%]{border:none;color:#000000a6}.low-priority[_ngcontent-%COMP%]{color:#52c41a}.medium-priority[_ngcontent-%COMP%]{color:#faad14;transform:rotate(90deg)}.high-priority[_ngcontent-%COMP%]{color:#f5222d;transform:rotate(90deg)}.subtask-icon-main[_ngcontent-%COMP%]{font-size:12px;padding:2px}.subtask-icon-main[_ngcontent-%COMP%]   .anticon[_ngcontent-%COMP%]{margin-left:4px}.subtasks-count-tag[_ngcontent-%COMP%]{background:white}.add-task-btn[_ngcontent-%COMP%]{height:38px}.add-task-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000000a6;transition:all .3s}.add-task-btn[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .add-task-btn[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%]{color:#1890ff}.add-task-btn[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%]{color:#1890ff}.add-task-btn[_ngcontent-%COMP%]:focus-visible   span[_ngcontent-%COMP%]{color:#1890ff}.no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:72px}.task-create-card[_ngcontent-%COMP%]{min-height:110px;box-shadow:#a8a8a8 0 0 0 1px,#6d6e6f14 0 1px 4px}.add-task-btn-card[_ngcontent-%COMP%]{font-size:12px;padding:2px 7px;margin-left:auto;height:auto}.hide[_ngcontent-%COMP%]{pointer-events:none!important;opacity:.6!important;cursor:not-allowed}nz-date-picker[_ngcontent-%COMP%]{padding:1px 4px;width:100%;max-width:105px;height:24px;margin-left:-4px;border-color:transparent!important}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.date-text[_ngcontent-%COMP%]{font-size:12px;line-height:24px;position:absolute}.past-date[_ngcontent-%COMP%]{color:#ff4d4f}.soon-date[_ngcontent-%COMP%]{color:#52c41a}.spinner[_ngcontent-%COMP%]{position:absolute;z-index:9;inset:0;background:rgba(255,255,255,.65);display:flex;align-items:center;justify-content:center}.a-t[_ngcontent-%COMP%]:disabled{color:#00000040!important;border-color:#d9d9d9!important;background:#f5f5f5!important}.a-t[_ngcontent-%COMP%]:hover{background:#188fff;color:#fff}.bottom-task-add[_ngcontent-%COMP%]{background:white;border:none;transition:background,color .2s}.bottom-task-add[_ngcontent-%COMP%]:hover{background:#f3f3f3;color:#000000d9}.bottom-task-add[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#000000d9}"],changeDetection:0}),i})(),As=(()=>{var r;class i extends el.P{constructor(e){super(),this.http=e,this.root=`${this.API_BASE_URL}/roadmap-gannt`}getGanntDates(e,A){const s=(0,le.UK)({timeZone:A});return this._get(this.http,`${this.root}/chart-dates/${e}${s}`)}getTaskGroups(e){const A=(0,le.UK)(e);return this._get(this.http,`${this.root}/task-groups/${e.id}${A}`)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.LFG(Fa.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();var Hs=ot(98698);const eg=["input"];function Zs(r,i){1&r&&t._UZ(0,"span",10),2&r&&t.Q6J("nzType","double-right")("nzTheme","outline")}function Ag(r,i){if(1&r&&(t.TgZ(0,"nz-tag",11)(1,"span",12),t._uU(2),t._UZ(3,"span",13),t.qZA()()),2&r){const n=t.oxw(3);t.Q6J("nzColor","default"),t.xp6(2),t.hij(" ",n.task.sub_tasks_count," "),t.xp6(1),t.Q6J("nzType","double-right")("nzTheme","outline")}}function ng(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.enableEdit())}),t.TgZ(1,"div",6)(2,"div",7),t.YNc(3,Zs,1,2,"span",8),t._uU(4),t.qZA(),t.YNc(5,Ag,4,4,"nz-tag",9),t.qZA()()}if(2&r){const n=t.oxw(2);t.xp6(1),t.Q6J("nzTooltipTitle",n.task.name),t.xp6(2),t.Q6J("ngIf",n.task.is_sub_task),t.xp6(1),t.hij(" ",n.task.name," "),t.xp6(1),t.Q6J("ngIf",!n.task.is_sub_task)}}function Xd(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",14)(1,"input",15,16),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw(2);return t.KtG(s.task.name=A)})("blur",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.validateName())})("keydown.enter",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.validateName())}),t.qZA()()}if(2&r){const n=t.oxw(2);t.xp6(1),t.Q6J("ngModel",n.task.name)}}function rg(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.openTask.emit(A.task))}),t._UZ(1,"span",18),t._uU(2," Open "),t.qZA()}2&r&&(t.Q6J("nzType","text"),t.xp6(1),t.Q6J("nzType","expand-alt")("nzTheme","outline"))}function $d(r,i){if(1&r&&(t.TgZ(0,"div",1),t.YNc(1,ng,6,4,"div",2),t.YNc(2,Xd,3,1,"div",3),t.YNc(3,rg,3,3,"button",4),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isEditing),t.xp6(1),t.Q6J("ngIf",n.isEditing),t.xp6(1),t.Q6J("ngIf",!n.isEditing)}}let ig=(()=>{var r;class i{constructor(e,A,s){this.socket=e,this.cdr=A,this.service=s,this.task=null,this.openTask=new t.vpe,this.initialTaskName=null,this.isEditing=!1,this.handleResponse=o=>{o&&this.task?.id===o.id&&this.task&&this.task.name!=o.name&&(this.task.name=o.name,this.cdr.markForCheck())},(0,No.T)(this.service.onSubtaskAdd,this.service.onSubtaskDelete).pipe((0,ue.sL)()).subscribe(o=>{this.cdr.detectChanges()})}ngOnInit(){this.task?.name&&(this.initialTaskName=this.task.name),this.socket.on(Et.C.TASK_NAME_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_NAME_CHANGE.toString(),this.handleResponse)}enableEdit(){this.isEditing=!0,setTimeout(()=>{this.input&&this.input.nativeElement.focus()},250)}validateName(){if(this.task&&""===this.task.name?.trim())return this.task.name=this.initialTaskName,this.isEditing=!1,void this.cdr.markForCheck();this.changeName()}changeName(){this.task&&(this.socket.emit(Et.C.TASK_NAME_CHANGE.toString(),JSON.stringify({task_id:this.task.id,name:this.task.name,parent_task:null})),this.isEditing=!1)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(t.sBO),t.Y36(wi.s))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-rm-task-name"]],viewQuery:function(e,A){if(1&e&&t.Gf(eg,5),2&e){let s;t.iGM(s=t.CRH())&&(A.input=s.first)}},inputs:{task:"task"},outputs:{openTask:"openTask"},decls:1,vars:1,consts:[["class","task-name-block position-relative h-default ms-1",4,"ngIf"],[1,"task-name-block","position-relative","h-default","ms-1"],["class","name-holder h-default",3,"click",4,"ngIf"],["class","name-editor d-flex align-items-center h-default",4,"ngIf"],["nz-tooltip","","nz-button","","class","task-open-btn px-1 h-default",3,"nzType","click",4,"ngIf"],[1,"name-holder","h-default",3,"click"],["nz-tooltip","",1,"border-input","ellipsis","d-flex","align-items-center","h-default",3,"nzTooltipTitle"],[1,"d-block","task-name","ellipsis"],["nz-icon","","style","font-size: 10px; top: -1px","class","position-relative",3,"nzType","nzTheme",4,"ngIf"],["class","ms-1 px-1 double-arrow",3,"nzColor",4,"ngIf"],["nz-icon","",1,"position-relative",2,"font-size","10px","top","-1px",3,"nzType","nzTheme"],[1,"ms-1","px-1","double-arrow",3,"nzColor"],[2,"color","#6d6e6f"],["nz-icon","",2,"font-size","10px",3,"nzType","nzTheme"],[1,"name-editor","d-flex","align-items-center","h-default"],["nz-input","","placeholder","Enter task name","type","text",3,"ngModel","ngModelChange","blur","keydown.enter"],["input",""],["nz-tooltip","","nz-button","",1,"task-open-btn","px-1","h-default",3,"nzType","click"],["nz-icon","",3,"nzType","nzTheme"]],template:function(e,A){1&e&&t.YNc(0,$d,4,3,"div",0),2&e&&t.Q6J("ngIf",A.task)},dependencies:[Ot.O5,mn.j,qe.Ls,tA.SY,xA.ix,aA.w,pn.dQ,ZA.Zp,jt.Fj,jt.JJ,jt.On],styles:[".task-open-btn[_ngcontent-%COMP%]{opacity:0;position:absolute;right:0;top:0;background:whitesmoke;transition:.25s all}.task-name-block[_ngcontent-%COMP%]{position:relative}.task-name-block[_ngcontent-%COMP%]:hover   .task-open-btn[_ngcontent-%COMP%]{opacity:1}.task-name[_ngcontent-%COMP%]{max-width:240px}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.double-arrow[_ngcontent-%COMP%]{line-height:16px;border:none;max-height:16px;margin-top:4px}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}"],changeDetection:0}),i})();var th=ot(75729);function sg(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",1,2)(2,"span",3),t._uU(3),t.ALo(4,"dateFormatter"),t.qZA(),t.TgZ(5,"nz-date-picker",4),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.task.start_date=A)})("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.handleStartDateChange(A,s.task))}),t.ALo(6,"validateMaxDate"),t.qZA()()}if(2&r){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,6,n.task.start_date)),t.xp6(2),t.Q6J("ngModel",n.task.start_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set start date")("nzDisabledDate",t.lcZ(6,8,n.task.end_date))}}let og=(()=>{var r;class i{constructor(e,A,s){this.socket=e,this.cdr=A,this.auth=s,this.task=null,this.group=null,this.handleResponse=o=>{this.task&&o.id===this.task.id&&this.task.start_date!==o.start_date&&(this.task.start_date=o.start_date,this.cdr.markForCheck())},this.handleDragChangeResponse=o=>{this.task&&(this.task.id===o.task_id&&(this.task.start_date=o.start_date),this.cdr.detectChanges())}}ngOnInit(){this.socket.on(Et.C.TASK_START_DATE_CHANGE.toString(),this.handleResponse),this.socket.on(Et.C.GANNT_DRAG_CHANGE.toString(),this.handleDragChangeResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_START_DATE_CHANGE.toString(),this.handleResponse),this.socket.removeListener(Et.C.GANNT_DRAG_CHANGE.toString(),this.handleDragChangeResponse)}handleStartDateChange(e,A){A&&this.socket.emit(Et.C.TASK_START_DATE_CHANGE.toString(),JSON.stringify({task_id:A.id,start_date:e||null,parent_task:A.parent_task_id?A.parent_task_id:null,group_id:this.group?.id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(t.sBO),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-rm-start-date"]],inputs:{task:"task",group:"group"},decls:1,vars:1,consts:[["class","editable d-flex w-100 h-default align-items-center",4,"ngIf"],[1,"editable","d-flex","w-100","h-default","align-items-center"],["elementStartDate",""],["nz-typography","",1,"date-text","w-100"],[1,"border-0","bg-transparent","w-100","task-list-date-picker",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange"]],template:function(e,A){1&e&&t.YNc(0,sg,7,10,"div",0),2&e&&t.Q6J("ngIf",A.task)},dependencies:[Ot.O5,$e.ZU,jt.JJ,jt.On,wr.uw,Ns.l,th.z],styles:["nz-date-picker[_ngcontent-%COMP%]{max-width:150px;border-color:transparent!important;inset:0}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.editable[_ngcontent-%COMP%]{position:relative}.date-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:8px}.def-g-height[_ngcontent-%COMP%]{max-height:32px;min-height:32px;line-height:32px}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}"]}),i})();var ag=ot(47053);function cg(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",1,2)(2,"span",3),t._uU(3),t.ALo(4,"dateFormatter"),t.qZA(),t.TgZ(5,"nz-date-picker",4),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.task.end_date=A)})("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.handleEndDateChange(A,s.task))}),t.ALo(6,"validateMinDate"),t.qZA()()}if(2&r){const n=t.oxw();t.xp6(2),t.ekj("past-date",n.checkForPastDate(n.task.end_date))("soon-date",n.checkForSoonDate(n.task.end_date)),t.xp6(1),t.Oqu(t.lcZ(4,10,n.task.end_date)),t.xp6(2),t.Q6J("ngModel",n.task.end_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set due date")("nzDisabledDate",t.lcZ(6,12,n.task.start_date))}}let lg=(()=>{var r;class i{constructor(e,A,s){this.socket=e,this.cdr=A,this.auth=s,this.task=null,this.group=null,this.handleResponse=o=>{this.task&&o.id===this.task.id&&this.task.end_date!==o.end_date&&(this.task.end_date=o.end_date,this.cdr.markForCheck())},this.handleDragChangeResponse=o=>{this.task&&(this.task.id===o.task_id&&(this.task.end_date=o.end_date),this.cdr.detectChanges())}}ngOnInit(){this.socket.on(Et.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse),this.socket.on(Et.C.GANNT_DRAG_CHANGE.toString(),this.handleDragChangeResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse),this.socket.removeListener(Et.C.GANNT_DRAG_CHANGE.toString(),this.handleDragChangeResponse)}handleEndDateChange(e,A){this.socket.emit(Et.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:A.id,end_date:(0,le.A6)(e)||null,parent_task:A.parent_task_id?A.parent_task_id:null,group_id:this.group?.id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}checkForPastDate(e){return me()(e).format("YYYY-MM-DD")<me()().format("YYYY-MM-DD")}checkForSoonDate(e){const A=me()(e).format("YYYY-MM-DD"),s=me()().add(1,"day").format("YYYY-MM-DD");return A===me()().format("YYYY-MM-DD")||A===s}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(t.sBO),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-rm-end-date"]],inputs:{task:"task",group:"group"},decls:1,vars:1,consts:[["class","editable d-flex w-100 h-default align-items-center",4,"ngIf"],[1,"editable","d-flex","w-100","h-default","align-items-center"],["elementDueDate",""],["nz-typography","",1,"date-text","w-100"],[1,"border-0","bg-transparent","w-100","task-list-date-picker",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange"]],template:function(e,A){1&e&&t.YNc(0,cg,7,14,"div",0),2&e&&t.Q6J("ngIf",A.task)},dependencies:[Ot.O5,$e.ZU,jt.JJ,jt.On,wr.uw,Ns.l,ag.v],styles:["nz-date-picker[_ngcontent-%COMP%]{max-width:150px;border-color:transparent!important;inset:0}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.editable[_ngcontent-%COMP%]{position:relative}.date-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:8px}.past-date[_ngcontent-%COMP%]{color:#ff4d4f}.soon-date[_ngcontent-%COMP%]{color:#52c41a}.def-g-height[_ngcontent-%COMP%]{max-height:32px;min-height:32px;line-height:32px}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}"],changeDetection:0}),i})(),ug=(()=>{var r;class i{constructor(e,A,s,o){this.el=e,this.renderer=A,this.service=s,this.cdr=o,this.dragged=new t.vpe,this.isResizing=!1,this.isDragging=!1,this.startX=0,this.initialLeft=0,this.finalLeft=null}throttle(e,A){let s;return function(...o){s||(e.apply(i,o),s=setTimeout(()=>{s=null},A))}}onMouseDown(e){e.target.classList.contains("resize-handle")?this.isResizing=!0:this.isDragging=!0,this.startX=e.clientX,this.initialLeft=Math.floor(this.el.nativeElement.id),this.setPlaceHolderStyles(),this.service.highlighterLeft=this.el.nativeElement.offsetLeft,this.service.highlighterWidth=this.el.nativeElement.offsetWidth,this.renderer.setStyle(this.el.nativeElement,"opacity","0"),this.renderer.setStyle(this.el.nativeElement,"transform",`translateX(${Math.floor(this.initialLeft)}px)`),this.renderer.setStyle(this.el.nativeElement,"left","0"),this.renderer.setStyle(this.el.nativeElement,"z-index","1"),this.removePlaceHolderStyles(),document.body.style.userSelect="none"}onMouseMove(e){!this.isResizing&&this.isDragging&&(this.service.transition=.15,this.throttle(()=>{requestAnimationFrame(()=>{this.renderer.setStyle(this.el.nativeElement,"transform",`translateX(${35*Math.floor((this.initialLeft+e.clientX-this.startX)/35)}px)`)}),this.finalLeft=35*Math.floor((this.initialLeft+e.clientX-this.startX)/35),this.service.highlighterLeft=this.finalLeft},200)())}onMouseUp(e){if(this.isResizing||this.isDragging){this.isResizing=!1,this.isDragging=!1,document.body.style.userSelect="auto";let A=this.finalLeft?this.finalLeft:this.initialLeft;this.setPlaceHolderStyles(),this.renderer.setStyle(this.el.nativeElement,"opacity","0"),this.renderer.setStyle(this.el.nativeElement,"transform","translateX(0px)"),this.renderer.setStyle(this.el.nativeElement,"left",`${A}px`),this.renderer.setStyle(this.el.nativeElement,"z-index","0"),this.removePlaceHolderStyles();let s=A-this.initialLeft;this.dragged.emit({finalLeft:A,dragDifference:s}),s=0,this.finalLeft=null,this.initialLeft=0}}setPlaceHolderStyles(){this.showIndicators(),this.service.transition=0,this.service.width=this.el.nativeElement.offsetWidth,this.service.top=this.el.nativeElement.offsetTop,this.service.left=this.el.nativeElement.offsetLeft,this.service.opacity=1,this.cdr.markForCheck()}removePlaceHolderStyles(){this.service.opacity=0,this.renderer.setStyle(this.el.nativeElement,"opacity","1"),this.service.width=0,this.service.left=0}showIndicators(){this.service.emitShowIndicators(this.el.nativeElement.getAttribute("task_id"))}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(wi.s),t.Y36(t.sBO))},r.\u0275dir=t.lG2({type:r,selectors:[["","worklenzDragAndMove",""]],hostBindings:function(e,A){1&e&&t.NdJ("mousedown",function(o){return A.onMouseDown(o)})("mousemove",function(o){return A.onMouseMove(o)},!1,t.evT)("mouseup",function(){return A.onMouseUp()},!1,t.evT)},outputs:{dragged:"dragged"}}),i})();function dg(r,i){1&r&&t._UZ(0,"div",8)}function hg(r,i){1&r&&t._UZ(0,"div",9)}function pg(r,i){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",1,2),t.NdJ("dragged",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.onElementDragged(A,s.task,s.group.id))}),t.TgZ(3,"div",3)(4,"div",4),t.NdJ("mousedown",function(A){t.CHM(n);const s=t.MAs(2),o=t.oxw();return o.onResizeStart(A,o.task,"left",s),t.KtG(A.stopPropagation())}),t.qZA(),t.TgZ(5,"div",5),t.NdJ("mousedown",function(A){t.CHM(n);const s=t.MAs(2),o=t.oxw();return o.onResizeStart(A,o.task,"right",s),t.KtG(A.stopPropagation())}),t.qZA()(),t.YNc(6,dg,1,0,"div",6),t.YNc(7,hg,1,0,"div",7),t.qZA(),t.BQk()}if(2&r){const n=t.oxw();t.xp6(1),t.Udp("width",n.task.width+"px")("left",n.task.offset_from+"px")("transition","transform "+n.service.transition+"s ease, left "+n.service.transition+"s ease, width "+n.service.transition+"s ease"),t.Q6J("id",n.task.offset_from),t.uIk("task_id",n.task.id),t.xp6(5),t.Q6J("ngIf",n.showIndicators),t.xp6(1),t.Q6J("ngIf",n.showIndicators)}}let fg=(()=>{var r;class i{constructor(e,A,s,o,p,f,w,b){var y=this;this.api=e,this.cdr=A,this.ngZone=s,this.socket=o,this.map=p,this.service=f,this.renderer=w,this.auth=b,this.cls="h-100 d-flex align-items-center",this.task=null,this.parentTask=null,this.group=null,this.chartStart=null,this.chartEnd=null,this.openTask=new t.vpe,this.refreshChart=new t.vpe,this.scrollChange=new t.vpe,this.GANNT_COLUMN_WIDTH=35,this.isResized=!1,this.showIndicators=!1,this.handleStartDateChangeResponse=function(){var k=(0,Ft.Z)(function*(v){if(y.task&&y.task.id===v.id){const M=me()(y.chartStart).format("YYYY-MM-DD"),L=me()(y.chartEnd).format("YYYY-MM-DD"),Z=me()(M),z=me()(L);y.service.handleStartDateChange(v,Z,z)}});return function(v){return k.apply(this,arguments)}}(),this.handleEndDateChangeResponse=function(){var k=(0,Ft.Z)(function*(v){if(y.task&&y.task.id===v.id){const M=me()(y.chartStart).format("YYYY-MM-DD"),L=me()(y.chartEnd).format("YYYY-MM-DD"),Z=me()(M),z=me()(L);y.service.handleEndDateChange(v,Z,z)}});return function(v){return k.apply(this,arguments)}}(),this.service.onResizeEnd.pipe((0,ue.sL)()).subscribe(k=>{this.verifyDateChanges(k)}),this.service.onShowIndicators.pipe((0,ue.sL)()).subscribe(k=>{this.task?.id===k&&(this.showIndicators=!0,this.cdr.markForCheck())}),this.service.onRemoveIndicators.pipe((0,ue.sL)()).subscribe(k=>{this.task?.id===k&&(this.showIndicators=!1,this.cdr.markForCheck()),this.service.highlighterLeft=0,this.service.highlighterWidth=0})}ngOnInit(){this.socket.on(Et.C.TASK_START_DATE_CHANGE.toString(),this.handleStartDateChangeResponse),this.socket.on(Et.C.TASK_END_DATE_CHANGE.toString(),this.handleEndDateChangeResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_START_DATE_CHANGE.toString(),this.handleStartDateChangeResponse),this.socket.removeListener(Et.C.TASK_END_DATE_CHANGE.toString(),this.handleEndDateChangeResponse)}onElementDragged(e,A,s){var o=this;return(0,Ft.Z)(function*(){if(!A)return;if(0==e.dragDifference)return o.openTask.emit(A);e.finalLeft===A.offset_from&&(A.offset_from=e.finalLeft-1);const p=e.finalLeft%o.GANNT_COLUMN_WIDTH;o.socket.emit(Et.C.GANNT_DRAG_CHANGE.toString(),JSON.stringify({task_id:A.id,task_width:A.width,task_duration:A.width?A.width/o.GANNT_COLUMN_WIDTH:0,task_offset:e.finalLeft-p,from_start:(e.finalLeft-p)/o.GANNT_COLUMN_WIDTH,chart_start:o.chartStart,group_id:s,time_zone:o.auth.getCurrentSession()?.timezone_name?o.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone})),o.socket.once(Et.C.GANNT_DRAG_CHANGE.toString(),f=>{me()(me()(f.end_date).format("YYYY-MM-DD")).isSameOrAfter(me()(o.chartEnd).format("YYYY-MM-DD"))||me()(me()(f.start_date).format("YYYY-MM-DD")).isBefore(me()(o.chartStart).format("YYYY-MM-DD"))?o.refreshChart.emit(!0):(o.service.handleTaskDragFinish(f),o.service.emitRemoveIndicators(f.task_id),o.scrollChange.emit(f.task_offset-2*o.GANNT_COLUMN_WIDTH),o.cdr.markForCheck())})})()}onResizeStart(e,A,s,o){if(!A||!A.width||!A.offset_from)return;this.isResized=!1,this.service.top=0,this.service.emitShowIndicators(this.task?.id);const p=e.clientX,f=A.width,w=A.offset_from,b=me()(this.chartStart).format("YYYY-MM-DD"),y=me()(b),k=M=>{const L=M.clientX-p;let Z=f,z=w;"left"===s?(Z=f-L,z=w+L):"right"===s&&(Z=f+L),this.service.highlighterLeft=z,this.service.highlighterWidth=Z,this.cdr.markForCheck(),Z>=this.GANNT_COLUMN_WIDTH-3&&(A.width=Z,A.offset_from=z,this.isResized=!0,this.cdr.markForCheck())},v=()=>{if(this.isResized=!0,document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",v),"left"===s){const Z=y.add(A.offset_from?(A.offset_from-(A.offset_from?A.offset_from%this.GANNT_COLUMN_WIDTH:0))/this.GANNT_COLUMN_WIDTH:0,"days");this.socket.emit(Et.C.TASK_START_DATE_CHANGE.toString(),JSON.stringify({task_id:A.id,start_date:Z,parent_task:this.parentTask?this.parentTask:null,group_id:this.group?.id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}if("right"===s){const M=A.width?A.width%this.GANNT_COLUMN_WIDTH:0;let L=A.width;if(M>0&&(L=A.width?A.width+(this.GANNT_COLUMN_WIDTH-M):0),!L)return;const Z=A.offset_from?(A.offset_from+L)/this.GANNT_COLUMN_WIDTH:0,z=me()(b).add(Z-1,"days");this.socket.emit(Et.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:A.id,end_date:z,parent_task:this.parentTask?this.parentTask:null,group_id:this.group?.id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}};document.addEventListener("mousemove",k),document.addEventListener("mouseup",v)}verifyDateChanges(e){const A=me()().format("YYYY-MM-DD"),s=me()(A);e.taskStartDate&&!e.taskEndDate?this.handleTaskPositionSTDOnly(e.taskStartDate,e.chartStartDate,e.task):!e.taskStartDate&&e.taskEndDate?this.handleTaskPositionENDOnly(e.taskEndDate,e.chartStartDate,e.task):e.taskStartDate||e.taskEndDate?e.taskStartDate&&e.taskEndDate&&this.handleTaskPositionBothHave(e.taskStartDate,e.taskEndDate,e.chartStartDate,e.task):this.handleTaskPositionBothNull(s,e.chartStartDate,e.task),this.service.emitRemoveIndicators(this.task?.id)}handleTaskPositionSTDOnly(e,A,s){const o=me()(e).format("YYYY-MM-DD"),f=me()(o).diff(A,"day");s.offset_from=f*this.GANNT_COLUMN_WIDTH,s.width=this.GANNT_COLUMN_WIDTH,this.cdr.markForCheck()}handleTaskPositionENDOnly(e,A,s){const o=me()(e).format("YYYY-MM-DD"),f=me()(o).diff(A,"day");s.offset_from=f*this.GANNT_COLUMN_WIDTH,s.width=this.GANNT_COLUMN_WIDTH,this.cdr.markForCheck()}handleTaskPositionBothNull(e,A,s){const o=e.diff(A,"day");s.offset_from=o*this.GANNT_COLUMN_WIDTH,s.width=this.GANNT_COLUMN_WIDTH,this.cdr.markForCheck()}handleTaskPositionBothHave(e,A,s,o){const p=me()(e).format("YYYY-MM-DD"),f=me()(p),w=f.diff(s,"day"),b=me()(A).format("YYYY-MM-DD"),k=me()(b).diff(f,"day");o.offset_from=w*this.GANNT_COLUMN_WIDTH,o.width=(k+1)*this.GANNT_COLUMN_WIDTH,this.cdr.markForCheck()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(As),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(je.s),t.Y36(Hs.L),t.Y36(wi.s),t.Y36(t.Qsj),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-task-bar"]],hostVars:2,hostBindings:function(e,A){2&e&&t.Tol(A.cls)},inputs:{task:"task",parentTask:"parentTask",group:"group",chartStart:"chartStart",chartEnd:"chartEnd"},outputs:{openTask:"openTask",refreshChart:"refreshChart",scrollChange:"scrollChange"},decls:1,vars:1,consts:[[4,"ngIf"],["worklenzDragAndMove","",1,"task-bar",3,"id","dragged"],["task_bar",""],[1,"d-flex"],[1,"resize-handle","left-handle",3,"mousedown"],[1,"resize-handle","right-handle",3,"mousedown"],["class","days-indicator-left",4,"ngIf"],["class","days-indicator-right",4,"ngIf"],[1,"days-indicator-left"],[1,"days-indicator-right"]],template:function(e,A){1&e&&t.YNc(0,pg,8,10,"ng-container",0),2&e&&t.Q6J("ngIf",A.task&&A.group)},dependencies:[Ot.O5,ug],styles:['.task-bar[_ngcontent-%COMP%]{background:rgb(217,227,238);border:1px solid rgb(173,181,189);position:absolute;min-width:32px;min-height:28px;max-height:28px;border-radius:4px;z-index:0;cursor:move;will-change:trasnsform}.task-bar[_ngcontent-%COMP%]   .days-indicator-left[_ngcontent-%COMP%]{position:absolute;content:"";width:1px;background:rgb(217,227,238);left:-1px;bottom:25px;height:100vh}.task-bar[_ngcontent-%COMP%]   .days-indicator-right[_ngcontent-%COMP%]{position:absolute;content:"";width:1px;background:rgb(217,227,238);right:-1px;bottom:25px;height:100vh}.resize-handle[_ngcontent-%COMP%]{position:absolute;width:6px;height:100%;cursor:col-resize;background-color:#7cb8fb;transition:width .15s ease}.resize-handle[_ngcontent-%COMP%]:hover{width:8px}.resize-handle[_ngcontent-%COMP%]:before{position:absolute;content:":";left:1px;color:#fff}.left-handle[_ngcontent-%COMP%]{left:0}.right-handle[_ngcontent-%COMP%]{right:0}'],changeDetection:0}),i})();const gg=["taskInput"];function mg(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"form",3)(1,"input",4,5),t.NdJ("blur",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.onInputBlur())})("keyup.enter",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.addInstantTask())}),t.qZA()()}if(2&r){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("nzBorderless",!0)("formControlName","name")("readOnly",n.creating)}}function l(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.focusTaskInput())}),t._UZ(1,"span",7),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&r){const n=t.oxw();t.uIk("id",n.id),t.xp6(1),t.Q6J("nzType",n.creating?"loading":"plus")("nzTheme","outline"),t.xp6(2),t.hij(" ",n.label,"")}}let c=(()=>{var r;class i{constructor(e,A,s,o,p,f,w){this.socket=e,this.auth=A,this.fb=s,this.ngZone=o,this.cdr=p,this.service=f,this.map=w,this.subTaskInput=!1,this.projectId=null,this.parentTask=null,this.groupId=null,this.chartStart=null,this.label="Add Task",this.focusChange=new t.vpe,this.taskInputVisible=!1,this.creating=!1,this.id=(0,le.q$)(4),this._session=null,this.form=this.fb.group({name:[null,[jt.kI.required,jt.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]]}),this._session=this.auth.getCurrentSession()}focusTaskInput(){this.taskInputVisible=!0,this.focusChange.emit(this.taskInputVisible),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.taskInput?.nativeElement.focus(),this.taskInput?.nativeElement.select()},100)})}addTaskInputBlur(){this.taskInputVisible=!1,this.focusChange.emit(this.taskInputVisible)}onInputBlur(){var e=this;return(0,Ft.Z)(function*(){e.isValidInput()?yield e.addInstantTask():e.addTaskInputBlur()})()}createRequest(){if(!this.projectId||!this._session)return null;const e=this._session,A={name:this.form.value.name,project_id:this.projectId,reporter_id:e.id,team_id:e.team_id,chart_start:this.chartStart?this.chartStart:""},s=this.service.getCurrentGroup();return s.value===this.service.GROUP_BY_STATUS_VALUE?A.status_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PRIORITY_VALUE?A.priority_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PHASE_VALUE&&(A.phase_id=this.groupId||void 0),this.parentTask&&(A.parent_task_id=this.parentTask),A}isValidInput(){return this.form.valid&&this.form.value.name.trim().length}addInstantTask(){var e=this;return(0,Ft.Z)(function*(){if(!e.creating&&e.projectId&&e._session&&e.isValidInput()){try{const A=e.createRequest();if(!A)return;e.creating=!0,e.socket.emit(Et.C.QUICK_TASK.toString(),JSON.stringify(A)),e.socket.once(Et.C.QUICK_TASK.toString(),s=>{e.creating=!1,e.onNewTaskReceived(s),s.parent_task_id&&e.service.emitUpdateGroupProgress(s.id)})}catch{e.creating=!1}e.cdr.markForCheck()}})()}reset(e=!0){this.creating=!1,this.form.controls.name.setValue(null),this.taskInputVisible=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.taskInput?.nativeElement.focus(),e&&window.scrollTo(0,document.body.scrollHeight)},Ze.GR)}),this.cdr.markForCheck()}onNewTaskReceived(e){if(this.groupId&&e.id){if(this.map.has(e.id))return;this.service.addTask(e,this.groupId),this.reset(!1)}}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(TA.e),t.Y36(jt.qu),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(wi.s),t.Y36(Hs.L))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-rm-add-task-input"]],viewQuery:function(e,A){if(1&e&&t.Gf(gg,5),2&e){let s;t.iGM(s=t.CRH())&&(A.taskInput=s.first)}},inputs:{subTaskInput:"subTaskInput",projectId:"projectId",parentTask:"parentTask",groupId:"groupId",chartStart:"chartStart",label:"label"},outputs:{focusChange:"focusChange"},decls:3,vars:3,consts:[[1,"name-input-container",3,"ngSwitch"],[3,"formGroup",4,"ngSwitchCase"],["class","editable-row d-block task-name",3,"click",4,"ngSwitchCase"],[3,"formGroup"],["nz-input","","type","text","tabindex","1","placeholder","Type your task and hit enter",3,"nzBorderless","formControlName","readOnly","blur","keyup.enter"],["taskInput",""],[1,"editable-row","d-block","task-name",3,"click"],["nz-icon","",1,"input-icon",3,"nzType","nzTheme"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0),t.YNc(1,mg,3,4,"form",1),t.YNc(2,l,4,4,"div",2),t.qZA()),2&e&&(t.Q6J("ngSwitch",A.taskInputVisible),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1))},dependencies:[Ot.RF,Ot.n9,qe.Ls,aA.w,ZA.Zp,jt._Y,jt.Fj,jt.JJ,jt.JL,jt.sg,jt.u],styles:[".input-icon[_ngcontent-%COMP%]{font-size:11px}input[_ngcontent-%COMP%]{background:white;border:1px solid #40a9ff;box-shadow:0 0 0 2px #1890ff33}.task-name[_ngcontent-%COMP%]{border:1px solid transparent}.task-name[_ngcontent-%COMP%]:hover{cursor:text;background:#fff;border:1px solid #bfbfbf;border-radius:4px}.name-input-container[_ngcontent-%COMP%]{max-width:300px;min-width:300px}"],changeDetection:0}),i})();function d(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",8),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.changeGroup(s))}),t.TgZ(1,"span",9),t._uU(2),t.qZA()()}if(2&r){const n=i.$implicit,e=t.oxw();t.Q6J("nzSelected",n.value===e.selectedGroup.value),t.xp6(2),t.Oqu(n.label)}}let u=(()=>{var r;class i{get selectedGroup(){return this.service.getCurrentGroup()}constructor(e,A,s){this.cdr=e,this.ngZone=A,this.service=s,this.onGroupBy=new t.vpe}changeGroup(e){this.service.setCurrentGroup(e),this.onGroupBy.emit(e)}isGroupByPhase(){return this.selectedGroup.value===this.service.GROUP_BY_PHASE_VALUE}trackById(e,A){return A.id}reset(){this.ngZone.runOutsideAngular(()=>{document.body.click()})}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(wi.s))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-filters"]],inputs:{projectId:"projectId"},outputs:{onGroupBy:"onGroupBy"},decls:12,vars:11,consts:[[1,"d-block"],[1,"ms-1"],["nz-button","","nz-dropdown","",1,"ms-1",3,"nzTrigger","nzDropdownMenu","nzClickHide"],["nz-tooltip","",3,"nzTooltipTitle"],["nz-icon","",3,"nzType"],["groupByMenu",""],["nz-menu",""],["class","m-0","nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],["nz-menu-item","",1,"m-0",3,"nzSelected","click"],["nz-typography",""]],template:function(e,A){if(1&e&&(t.TgZ(0,"div",0)(1,"label",1),t._uU(2,"Group by: "),t.qZA(),t.TgZ(3,"button",2)(4,"span",3),t._uU(5),t.ALo(6,"ellipsis"),t.qZA(),t._UZ(7,"span",4),t.qZA()(),t.TgZ(8,"nz-dropdown-menu",null,5)(10,"ul",6),t.YNc(11,d,3,2,"li",7),t.qZA()()),2&e){const s=t.MAs(9);t.xp6(3),t.Q6J("nzTrigger","click")("nzDropdownMenu",s)("nzClickHide",!0),t.xp6(1),t.Q6J("nzTooltipTitle",A.selectedGroup.label),t.xp6(1),t.hij(" ",t.xi3(6,8,A.selectedGroup.label,15)," "),t.xp6(2),t.Q6J("nzType","caret-down"),t.xp6(4),t.Q6J("ngForOf",A.service.GROUP_BY_OPTIONS)("ngForTrackBy",A.trackById)}},dependencies:[Ot.sg,qe.Ls,$e.ZU,tA.SY,xA.ix,aA.w,pn.dQ,wA.wO,wA.r9,Xe.cm,Xe.RR,Xe.wA,Lo.p],changeDetection:0}),i})();const _=["taskInput"];let B=(()=>{var r;class i{constructor(e,A,s,o){this.socket=e,this.auth=A,this.cdr=s,this.service=o,this.projectId=null,this.parentTask=null,this.groupId=null,this.chartStart=null,this.openTask=new t.vpe,this.left=0,this.width=0,this._session=null,this._session=this.auth.getCurrentSession()}onDragStart(e){this.left=e.offsetX-e.offsetX%35;const A=e.pageX,s=p=>{const f=p.pageX-A;requestAnimationFrame(()=>{this.width=f,this.service.highlighterWidth=this.width,this.service.highlighterLeft=this.left,this.cdr.markForCheck()})},o=p=>{if(document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o),A>p.pageX)return this.width=0,this.left=0,void this.cdr.markForCheck();requestAnimationFrame(()=>{this.width=this.width+(35-this.width%35),this.service.highlighterWidth=this.width,this.service.highlighterLeft=this.left,this.cdr.markForCheck(),this.createTask()})};document.addEventListener("mousemove",s),document.addEventListener("mouseup",o)}createTask(){if(!this.projectId||!this._session)return;const e=this.createRequest();try{this.socket.emit(Et.C.QUICK_TASK.toString(),JSON.stringify(e)),this.socket.once(Et.C.QUICK_TASK.toString(),A=>{this.onNewTaskReceived(A),A.parent_task_id&&this.service.emitUpdateGroupProgress(A.id)})}catch(A){(0,le.tu)(A)}}createRequest(){if(!this.projectId||!this._session)return null;const e=this._session,A={name:Ze.qu,project_id:this.projectId,reporter_id:e.id,team_id:e.team_id,chart_start:this.chartStart?this.chartStart:"",width:this.width,offset:this.left,is_dragged:!0},s=this.service.getCurrentGroup();return s.value===this.service.GROUP_BY_STATUS_VALUE?A.status_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PRIORITY_VALUE?A.priority_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PHASE_VALUE&&(A.phase_id=this.groupId||void 0),this.parentTask&&(A.parent_task_id=this.parentTask),A}onNewTaskReceived(e){e.width=this.width,e.offset_from=this.left;let A=this.service.getGroupIdByGroupedColumn(e);this.isGroupByPhase()&&(A||(A=Ze.k9)),A&&this.service.addTask(e,A),this.openTask.emit(e),this.cdr.markForCheck(),this.reset()}isGroupByPhase(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_PHASE_VALUE}reset(){this.left=0,this.width=0}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(TA.e),t.Y36(t.sBO),t.Y36(wi.s))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-add-task-row"]],viewQuery:function(e,A){if(1&e&&t.Gf(_,5),2&e){let s;t.iGM(s=t.CRH())&&(A.taskInput=s.first)}},inputs:{projectId:"projectId",parentTask:"parentTask",groupId:"groupId",chartStart:"chartStart"},outputs:{openTask:"openTask"},decls:3,vars:4,consts:[[1,"w-100","h-default","d-flex","align-items-center",3,"mousedown"],["task_add_row",""],[1,"indicator"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0,1),t.NdJ("mousedown",function(o){return A.onDragStart(o)}),t._UZ(2,"div",2),t.qZA()),2&e&&(t.xp6(2),t.Udp("width",A.width+"px")("left",A.left+"px"))},styles:[".indicator[_ngcontent-%COMP%]{height:30px;background:rgb(217,227,238);border:1px solid rgb(173,181,189);border-radius:4px;position:absolute;z-index:9;transition:.15s all}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}"],changeDetection:0}),i})();var Q=ot(91607),O=ot(55736);const N=["scroller"],X=["fixed_right_column"],rt=["fixed_left_column"],lt=["task_elem"];function Bt(r,i){1&r&&(t.TgZ(0,"div",22),t.ynx(1),t.TgZ(2,"div",23)(3,"div",24),t._UZ(4,"img",25),t.qZA(),t.TgZ(5,"span",26),t._uU(6,"No groups."),t.qZA()(),t.BQk(),t.qZA())}function Xt(r,i){1&r&&(t.TgZ(0,"div",35)(1,"span",36),t._uU(2,"No tasks available"),t.qZA()())}function Dt(r,i){if(1&r&&(t._UZ(0,"span",51),t.ALo(1,"subTasksArrowIcon")),2&r){const n=t.oxw(2).$implicit;t.Q6J("nzType",t.lcZ(1,2,n.show_sub_tasks))("nzTheme","outline")}}function Gt(r,i){1&r&&t._UZ(0,"span",52),2&r&&t.Q6J("nzType","loading")}function Ue(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",47),t.NdJ("click",function(A){t.CHM(n);const s=t.oxw().$implicit,o=t.oxw(2).$implicit;return t.oxw().displaySubTasks(s,o.id),t.KtG(A.stopPropagation())}),t.ynx(1),t.TgZ(2,"span",48),t.ALo(3,"subTasksArrowColor"),t.YNc(4,Dt,2,4,"span",49),t.YNc(5,Gt,1,1,"span",50),t.qZA(),t.BQk(),t.qZA()}if(2&r){const n=t.oxw().$implicit;t.xp6(2),t.Udp("color",t.lcZ(3,6,n)),t.ekj("hidden-arrow",!n.sub_tasks_count&&!n.show_sub_tasks),t.xp6(2),t.Q6J("ngIf",!n.sub_tasks_loading),t.xp6(1),t.Q6J("ngIf",n.sub_tasks_loading)}}function ae(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",57)(1,"div",39)(2,"div",42)(3,"worklenz-rm-task-name",43),t.NdJ("openTask",function(A){t.CHM(n);const s=t.oxw(5);return t.KtG(s.openTask(A))}),t.qZA()(),t.TgZ(4,"div",44),t._UZ(5,"worklenz-rm-start-date",45),t.qZA(),t.TgZ(6,"div",46),t._UZ(7,"worklenz-rm-end-date",45),t.qZA()()()}if(2&r){const n=i.$implicit,e=t.oxw(4).$implicit;t.xp6(3),t.Q6J("task",n),t.xp6(2),t.Q6J("task",n)("group",e),t.xp6(2),t.Q6J("task",n)("group",e)}}function oe(r,i){if(1&r&&(t.TgZ(0,"div")(1,"nz-skeleton",53),t.YNc(2,ae,8,5,"div",54),t.qZA(),t.TgZ(3,"div",55),t._UZ(4,"worklenz-rm-add-task-input",56),t.qZA()()),2&r){const n=t.oxw().$implicit,e=t.oxw(2).$implicit,A=t.oxw();t.xp6(1),t.Q6J("nzActive",!0)("nzLoading",!!n.sub_tasks_loading),t.xp6(1),t.Q6J("ngForOf",n.sub_tasks),t.xp6(2),t.Q6J("label","Add Subtask")("projectId",A.projectId)("parentTask",n.id?n.id:"")("groupId",e.id)("chartStart",A.chartStart)}}const Ke=function(r){return{hidden:r}};function ze(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",37,38)(2,"div",39)(3,"div",40),t.YNc(4,Ue,6,8,"div",41),t.qZA(),t.TgZ(5,"div",42)(6,"worklenz-rm-task-name",43),t.NdJ("openTask",function(A){t.CHM(n);const s=t.oxw(3);return t.KtG(s.openTask(A))}),t.qZA()(),t.TgZ(7,"div",44),t._UZ(8,"worklenz-rm-start-date",45),t.qZA(),t.TgZ(9,"div",46),t._UZ(10,"worklenz-rm-end-date",45),t.qZA()(),t.YNc(11,oe,5,8,"div",30),t.qZA()}if(2&r){const n=i.$implicit,e=t.MAs(1),A=t.oxw(2).$implicit,s=t.oxw();t.Q6J("ngClass",t.VKq(8,Ke,!s.isVisible(e))),t.xp6(4),t.Q6J("ngIf",!n.is_sub_task),t.xp6(2),t.Q6J("task",n),t.xp6(2),t.Q6J("task",n)("group",A),t.xp6(2),t.Q6J("task",n)("group",A),t.xp6(1),t.Q6J("ngIf",n.sub_tasks&&n.show_sub_tasks)}}function we(r,i){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,Xt,3,0,"div",31),t.YNc(2,ze,12,10,"div",32),t.TgZ(3,"div",33),t._UZ(4,"worklenz-rm-add-task-input",34),t.qZA()()),2&r){const n=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.tasks.length),t.xp6(1),t.Q6J("ngForOf",n.tasks),t.xp6(2),t.Q6J("projectId",e.projectId)("groupId",n.id)("chartStart",e.chartStart)}}function Vt(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",27)(1,"div",28),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.toggleCollapse(s.id))}),t._UZ(2,"span",29),t._uU(3),t.qZA(),t.YNc(4,we,5,5,"div",30),t.qZA()}if(2&r){const n=i.$implicit;t.xp6(1),t.Udp("background-color",n.color_code),t.Q6J("ngClass",n.is_expanded?"active":""),t.xp6(1),t.Q6J("nzType",n.is_expanded?"down":"right"),t.xp6(1),t.AsE(" ",n.name," (",n.tasks.length,") "),t.xp6(1),t.Q6J("ngIf",n.is_expanded)}}function De(r,i){if(1&r&&(t.TgZ(0,"div",4)(1,"div",58),t._uU(2),t.qZA()()),2&r){const n=i.$implicit,e=t.oxw();t.xp6(1),t.Udp("min-width",n.days.length*e.GANNT_COLUMN_WIDTH+"px"),t.xp6(1),t.hij(" ",n.month," ")}}const Oe=function(r,i){return[r,i]};function Be(r,i){if(1&r&&(t.TgZ(0,"div",60)(1,"div",61)(2,"div",62),t._uU(3),t.qZA(),t.TgZ(4,"div",63),t._uU(5),t.qZA()()()),2&r){const n=i.$implicit,e=t.oxw(2);t.Udp("min-width",e.GANNT_COLUMN_WIDTH+"px")("max-width",e.GANNT_COLUMN_WIDTH+"px"),t.xp6(1),t.Q6J("ngClass",t.WLB(7,Oe,n.isWeekend?"weekend":"",n.isToday?"today today-bg":"")),t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.hij(" ",n.day," ")}}function NA(r,i){if(1&r&&(t.TgZ(0,"div",4),t.YNc(1,Be,6,10,"div",59),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("ngForOf",n.days)}}function Bn(r,i){if(1&r&&t._UZ(0,"div",65),2&r){const n=i.$implicit,e=t.oxw(2);t.Udp("min-width",e.GANNT_COLUMN_WIDTH+"px"),t.Q6J("ngClass",t.WLB(3,Oe,n.isWeekend?"weekend":"",n.isToday?"today":""))}}function zn(r,i){if(1&r&&(t.TgZ(0,"div",4),t.YNc(1,Bn,1,6,"div",64),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("ngForOf",n.days)}}function iA(r,i){1&r&&t._UZ(0,"div",35)}function on(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",57)(1,"div",39)(2,"worklenz-task-bar",78),t.NdJ("openTask",function(A){t.CHM(n);const s=t.oxw(5);return t.KtG(s.openTask(A))})("refreshChart",function(A){t.CHM(n);const s=t.oxw(5);return t.KtG(s.init(A))})("scrollChange",function(A){t.CHM(n);const s=t.oxw(5);return t.KtG(s.afterViewScrollHandler(A))}),t.qZA()()()}if(2&r){const n=i.$implicit,e=t.oxw(2).$implicit,A=t.oxw(2).$implicit,s=t.oxw();t.xp6(2),t.Q6J("task",n)("parentTask",e.id?e.id:null)("group",A)("chartStart",s.chartStart)("chartEnd",s.chartEnd)}}function Bi(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div")(1,"nz-skeleton",53),t.YNc(2,on,3,5,"div",54),t.qZA(),t.TgZ(3,"div",76)(4,"worklenz-add-task-row",77),t.NdJ("openTask",function(A){t.CHM(n);const s=t.oxw(4);return t.KtG(s.openTask(A))}),t.qZA()()()}if(2&r){const n=t.oxw().$implicit,e=t.oxw(2).$implicit,A=t.oxw();t.xp6(1),t.Q6J("nzActive",!0)("nzLoading",!!n.sub_tasks_loading),t.xp6(1),t.Q6J("ngForOf",n.sub_tasks),t.xp6(2),t.Q6J("projectId",A.projectId)("groupId",e.id)("parentTask",n.id?n.id:null)("chartStart",A.chartStart)}}function bn(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",73)(1,"div",39)(2,"worklenz-task-bar",74,75),t.NdJ("openTask",function(A){t.CHM(n);const s=t.oxw(3);return t.KtG(s.openTask(A))})("refreshChart",function(A){t.CHM(n);const s=t.oxw(3);return t.KtG(s.init(A))})("scrollChange",function(A){t.CHM(n);const s=t.oxw(3);return t.KtG(s.afterViewScrollHandler(A))}),t.qZA()(),t.YNc(4,Bi,5,7,"div",30),t.qZA()}if(2&r){const n=i.$implicit,e=t.oxw(2).$implicit,A=t.oxw();t.xp6(2),t.Q6J("task",n)("group",e)("chartStart",A.chartStart)("chartEnd",A.chartEnd),t.xp6(2),t.Q6J("ngIf",n.sub_tasks&&n.show_sub_tasks)}}function yn(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",69),t.YNc(1,iA,1,0,"div",31),t.YNc(2,bn,5,5,"div",70),t.TgZ(3,"div",71)(4,"worklenz-add-task-row",72),t.NdJ("openTask",function(A){t.CHM(n);const s=t.oxw(2);return t.KtG(s.openTask(A))}),t.qZA()()()}if(2&r){const n=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.tasks.length),t.xp6(1),t.Q6J("ngForOf",n.tasks)("ngForTrackBy",e.trackById),t.xp6(2),t.Q6J("projectId",e.projectId)("groupId",n.id)("chartStart",e.chartStart)}}function ns(r,i){if(1&r&&(t.TgZ(0,"div",66),t._UZ(1,"div",67),t.YNc(2,yn,5,6,"div",68),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Udp("background-color",n.color_code),t.Q6J("ngClass",n.is_expanded?"active":""),t.xp6(1),t.Q6J("ngIf",n.is_expanded)}}let Cr=(()=>{var r;class i{get groups(){return this.service.groups}get expandedGroups(){return this.groups.filter(s=>s.is_expanded).map(s=>s.id)||[]}isGroupByPhase(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_PHASE_VALUE}constructor(e,A,s,o,p,f,w,b,y){this.api=e,this.cdr=A,this.ngZone=s,this.map=o,this.service=p,this.taskViewService=f,this.projectService=w,this.route=b,this.auth=y,this.Number=Number,this.GANNT_COLUMN_WIDTH=35,this.showTaskModal=!1,this.loading=!1,this.initialScroll=0,this.numberOfDays=0,this.projectId=null,this.chartStart=null,this.chartEnd=null,this.months=[],this.groupIds=[],this.selectedTask=null,this.service.onReCreateChart.pipe((0,ue.sL)()).subscribe(k=>{this.init(k)}),this.projectService.onNewTaskCreated.pipe((0,ue.sL)()).subscribe(k=>{const v=this.isGroupByPhase()?Ze.k9:this.service.getGroupIdByGroupedColumn(k);v&&this.service.addTask(k,v)}),this.taskViewService.onViewBackFrom.pipe((0,ue.sL)()).subscribe(k=>{this.handleTaskSelectFromView({id:k.parent_task_id,project_id:k.project_id})}),this.taskViewService.onDelete.pipe((0,ue.sL)()).subscribe(k=>{k.parent_task_id?this.map._subTasksMap.has(k.parent_task_id)&&this.deleteSubtask(k):(this.map.selectTask(k),this.service.deleteTask(k.id),this.cdr.detectChanges())}),this.projectId=this.route.snapshot.paramMap.get("id"),this.service.setCurrentGroup(this.service.GROUP_BY_OPTIONS[0])}ngOnInit(){var e=this;return(0,Ft.Z)(function*(){yield e.init(!0)})()}ngOnDestroy(){var e=this;return(0,Ft.Z)(function*(){e.service.reset()})()}init(e){var A=this;return(0,Ft.Z)(function*(){yield A.createChart(e),yield A.getGroups(!0)})()}createChart(e){var A=this;return(0,Ft.Z)(function*(){if(A.projectId)try{A.loading=e;const s=A.auth.getCurrentSession()?.timezone_name?A.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone,o=yield A.api.getGanntDates(A.projectId,s);o.done&&(A.months=o.body.date_data,A.numberOfDays=o.body.width,A.initialScroll=o.body.scroll_by,A.service.offset=o.body.scroll_by,A.chartStart=o.body.chart_start,A.chartEnd=o.body.chart_end,A.service.chartStartDate=o.body.chart_start),A.cdr.markForCheck()}catch(s){(0,le.tu)(s)}})()}onGroupByChange(e){var A=this;return(0,Ft.Z)(function*(){A.loading=!0,A.service.setCurrentGroup(e),yield A.getGroups(!1),setTimeout(()=>{A.cdr.markForCheck()},100)})()}getConf(e){const A={id:this.projectId,group:this.service.getCurrentGroup().value,timezone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone,isSubtasksInclude:!1,expandedGroups:this.expandedGroups};return e&&(A.parent_task=e),A}getGroups(e){var A=this;return(0,Ft.Z)(function*(){if(A.projectId)try{A.map.deselectAll();const s=A.getConf();e||(s.expandedGroups=[]),s.isSubtasksInclude=A.service.isSubtasksIncluded;const o=yield A.api.getTaskGroups(s);if(o.done){const p=(0,le.I8)(o.body);A.groupIds=p.map(f=>f.id),A.mapTasks(p),A.service.groups=p,A.loading=!1,A.cdr.markForCheck(),yield A.initScrollHandler(!0)}}catch(s){(0,le.tu)(s),A.loading=!1,A.cdr.markForCheck()}})()}getSubTasks(e){var A=this;return(0,Ft.Z)(function*(){let s=[];if(e?.id)try{const o=A.getConf(e.id),p=yield A.api.getTaskGroups(o);p.done&&(s=p.body)}catch{}return s})()}mapTasks(e){for(const A of e){this.map.registerGroup(A);for(const s of A.tasks)s.start_date&&(s.start_date=new Date(s.start_date)),s.end_date&&(s.end_date=new Date(s.end_date))}}toggleCollapse(e){var A=this;return(0,Ft.Z)(function*(){A.service.toggleGroupExpansion(e),A.cdr.detectChanges()})()}trackById(e,A){return A.id}onShowChange(e){e||(this.service.emitRemoveIndicators(this.selectedTask?.id),this.selectedTask=null,this.cdr.markForCheck())}openTask(e){this.selectedTask=null,this.selectedTask=e,this.showTaskModal=!0,this.cdr.markForCheck()}scrollListner(){this.ngZone.runOutsideAngular(()=>{this.fixed_left_column?.nativeElement.addEventListener("scroll",()=>{this.fixed_right_column&&(this.fixed_right_column.nativeElement.scrollTop=this.fixed_left_column?.nativeElement.scrollTop)}),this.fixed_right_column?.nativeElement.addEventListener("scroll",()=>{this.fixed_left_column&&(this.fixed_left_column.nativeElement.scrollTop=this.fixed_right_column?.nativeElement.scrollTop)})})}initScrollHandler(e){var A=this;return(0,Ft.Z)(function*(){A.ngZone.runOutsideAngular(()=>{setTimeout(()=>{A.fixed_right_column&&e&&(A.fixed_right_column.nativeElement.scrollLeft=A.initialScroll-2*A.GANNT_COLUMN_WIDTH,A.scrollListner())},100)}),A.cdr.markForCheck()})()}afterViewScrollHandler(e){this.ngZone.runOutsideAngular(()=>{this.fixed_right_column&&(this.fixed_right_column.nativeElement.classList.add("scroll-animation"),this.fixed_right_column.nativeElement.scrollLeft=e-2*this.GANNT_COLUMN_WIDTH,setTimeout(()=>{this.fixed_right_column&&this.fixed_right_column.nativeElement.classList.remove("scroll-animation")},125))}),this.cdr.markForCheck()}displaySubTasks(e,A){var s=this;return(0,Ft.Z)(function*(){if(e.id||!e.sub_tasks_loading){if(!e.show_sub_tasks&&0===e.sub_tasks_count)return e.show_sub_tasks=!0,void(e.sub_tasks=[]);if(e.sub_tasks_loading=!0,e.show_sub_tasks=!e.show_sub_tasks,e.show_sub_tasks){e.sub_tasks=yield s.getSubTasks(e);for(const o of e.sub_tasks)s.map.add(A,o)}else{for(const o of e.sub_tasks||[])s.map.deselectTask(o);e.sub_tasks=[]}e.sub_tasks_loading=!1,s.cdr.detectChanges()}})()}deleteSubtask(e){if(!e)return;const A=this.map._subTasksMap.get(e.parent_task_id);if(!A)return;const s=A.find(p=>p.id===e.id);s&&(this.map.selectTask(s),this.service.deleteTask(s.id),this.handleTaskSelectFromView({id:e.parent_task_id,project_id:e.project_id}),this.cdr.detectChanges())}isVisible(e){return!!e}handleTaskSelectFromView(e){this.showTaskModal=!1,setTimeout(()=>{e&&this.openTask(e)},Ze.GR),this.cdr.detectChanges()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(As),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(Hs.L),t.Y36(wi.s),t.Y36(Wi.f),t.Y36(Vi.m),t.Y36(be.gz),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-roadmap-v2-custom"]],viewQuery:function(e,A){if(1&e&&(t.Gf(N,5),t.Gf(X,5),t.Gf(rt,5),t.Gf(lt,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.scroller=s.first),t.iGM(s=t.CRH())&&(A.fixed_right_column=s.first),t.iGM(s=t.CRH())&&(A.fixed_left_column=s.first),t.iGM(s=t.CRH())&&(A.taskElements=s)}},decls:24,vars:32,consts:[[3,"onGroupBy"],[3,"nzActive","nzLoading"],["class","d-block mt-3 px-3",4,"ngIf"],[1,"gannt","mt-3"],[1,"d-flex"],[1,"fixed-left-column"],["fixed_left_column",""],[1,"top-left-placeholder"],[1,"tasks"],["class","task-name-row cursor-pointer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fixed-right-column"],["fixed_right_column",""],[1,"top"],[1,"highlighter"],[1,"d-flex","month-name"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex",2,"min-height","45px","max-height","45px"],[1,"middle"],[1,"day-cells","d-flex"],[1,"placeholder-drag"],["class","task-name-row",4,"ngFor","ngForOf","ngForTrackBy"],[3,"show","selfResetTaskId","projectId","taskId","showChange"],[1,"d-block","mt-3","px-3"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],[1,"task-name-row","cursor-pointer"],[1,"single-group","d-flex","align-items-center",3,"ngClass","click"],["nz-icon","","nzTheme","outline",1,"me-2",3,"nzType"],[4,"ngIf"],["class","no-tasks",4,"ngIf"],["class","single-group-task",3,"ngClass",4,"ngFor","ngForOf"],[1,"add-parent-task-section","d-flex","align-items-center","ps-1"],[3,"projectId","groupId","chartStart"],[1,"no-tasks"],["nz-typography","","nzType","secondary"],[1,"single-group-task",3,"ngClass"],["elm",""],[1,"d-flex","align-items-center","h-default"],[1,"subtasks-arrow"],["class","d-flex align-items-center justify-content-center sub-tasks-arrow dropdown-highlight",3,"click",4,"ngIf"],[1,"t-name","h-default"],[3,"task","openTask"],[1,"t-start-date","h-default"],[3,"task","group"],[1,"t-end-date","h-default"],[1,"d-flex","align-items-center","justify-content-center","sub-tasks-arrow","dropdown-highlight",3,"click"],[1,"align-items-center","align-self-center","cursor-pointer","d-flex","sub-arrow"],["style","font-size: 12px","nz-icon","",3,"nzType","nzTheme",4,"ngIf"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",2,"font-size","12px",3,"nzType","nzTheme"],["nz-icon","",3,"nzType"],[2,"box-shadow","0px -1px #f0f0f0",3,"nzActive","nzLoading"],["class","single-group-task-subtasks",4,"ngFor","ngForOf"],[1,"add-parent-task-section","d-flex","align-items-center","ps-2","add-subtask"],[3,"label","projectId","parentTask","groupId","chartStart"],[1,"single-group-task-subtasks"],[1,"month-boundary"],["class","day-boundary",3,"min-width","max-width",4,"ngFor","ngForOf"],[1,"day-boundary"],[1,"d-block","text-center",3,"ngClass"],[1,"d-name"],[1,"d-day"],["class","inner-day-cell",3,"ngClass","min-width",4,"ngFor","ngForOf"],[1,"inner-day-cell",3,"ngClass"],[1,"task-name-row"],[1,"single-group","d-flex","align-items-center",3,"ngClass"],["class","single-group-tasks",4,"ngIf"],[1,"single-group-tasks"],["class","single-group-task",4,"ngFor","ngForOf","ngForTrackBy"],[1,"add-parent-task-section"],[3,"projectId","groupId","chartStart","openTask"],[1,"single-group-task"],[1,"parent-task-element",3,"task","group","chartStart","chartEnd","openTask","refreshChart","scrollChange"],["task_elem",""],[1,"add-parent-task-section","add-subtask"],[3,"projectId","groupId","parentTask","chartStart","openTask"],[3,"task","parentTask","group","chartStart","chartEnd","openTask","refreshChart","scrollChange"]],template:function(e,A){1&e&&(t.TgZ(0,"worklenz-filters",0),t.NdJ("onGroupBy",function(o){return A.onGroupByChange(o)}),t.qZA(),t.TgZ(1,"nz-skeleton",1),t.YNc(2,Bt,7,0,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5,6),t._UZ(7,"div",7),t.TgZ(8,"div",8),t.YNc(9,Vt,5,7,"div",9),t.qZA()(),t.TgZ(10,"div",10,11)(12,"div",12),t._UZ(13,"div",13),t.TgZ(14,"div",14),t.YNc(15,De,3,3,"div",15),t.qZA(),t.TgZ(16,"div",16),t.YNc(17,NA,2,1,"div",15),t.qZA()(),t.TgZ(18,"div",17)(19,"div",18),t.YNc(20,zn,2,1,"div",15),t.qZA(),t._UZ(21,"div",19),t.YNc(22,ns,3,4,"div",20),t.qZA()()()()(),t.TgZ(23,"worklenz-task-view",21),t.NdJ("showChange",function(o){return A.showTaskModal=o})("showChange",function(o){return A.onShowChange(o)}),t.qZA()),2&e&&(t.xp6(1),t.Q6J("nzActive",!0)("nzLoading",A.loading),t.xp6(1),t.Q6J("ngIf",!A.groups.length),t.xp6(7),t.Q6J("ngForOf",A.groups)("ngForTrackBy",A.trackById),t.xp6(3),t.Udp("width",A.numberOfDays*A.GANNT_COLUMN_WIDTH+"px"),t.xp6(1),t.Udp("transform","translateX("+A.service.highlighterLeft+"px)")("width",A.service.highlighterWidth+"px")("min-width",A.service.highlighterWidth>0?"32px":"0px"),t.xp6(2),t.Q6J("ngForOf",A.months),t.xp6(2),t.Q6J("ngForOf",A.months),t.xp6(1),t.Udp("width",A.numberOfDays*A.GANNT_COLUMN_WIDTH+"px"),t.xp6(2),t.Q6J("ngForOf",A.months),t.xp6(1),t.Udp("width",A.service.width+"px")("left",A.service.left+"px")("top",A.service.top+"px")("opacity",A.service.opacity),t.xp6(1),t.Q6J("ngForOf",A.groups)("ngForTrackBy",A.trackById),t.xp6(1),t.Q6J("show",A.showTaskModal)("selfResetTaskId",!1)("projectId",(null==A.selectedTask?null:A.selectedTask.project_id)||null)("taskId",(null==A.selectedTask?null:A.selectedTask.id)||null))},dependencies:[Ot.mk,Ot.sg,Ot.O5,qe.Ls,qi.E,$e.ZU,ln.ng,aA.w,ig,og,lg,fg,c,u,B,Q.g,O.U],styles:['.gannt[_ngcontent-%COMP%]{min-width:95vw;max-width:95.5vw;border-top:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0;border-radius:4px;overflow:hidden;border-right:1px solid #f0f0f0}.top[_ngcontent-%COMP%], .top-left-placeholder[_ngcontent-%COMP%]{max-height:70px;min-height:70px;position:sticky;top:0;z-index:1;background:white}.top-left-placeholder[_ngcontent-%COMP%]{width:100%;right:0;box-shadow:0 1px #f0f0f0;background:#fafafa}.fixed-left-column[_ngcontent-%COMP%], .fixed-right-column[_ngcontent-%COMP%]{overflow-y:auto;min-height:calc(100vh - 265px);max-height:calc(100vh - 265px);will-change:transform;transition:scroll-behavior .125s ease}.fixed-left-column[_ngcontent-%COMP%]{min-width:520px;max-width:520px;overflow-x:scroll;box-shadow:10px 0 8px -8px #00000026;border-left:1px solid #f0f0f0;z-index:9}.scroll-animation[_ngcontent-%COMP%]{scroll-behavior:smooth}.fixed-right-column[_ngcontent-%COMP%]{position:relative;overflow-x:scroll;box-shadow:1px 0 #f0f0f0}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}.day-boundary[_ngcontent-%COMP%]{position:relative;box-shadow:-1px 1px #f0f0f0}.month-boundary[_ngcontent-%COMP%]{box-shadow:-1px 0 #f0f0f0;padding-left:14px;background:#e6f7ff}.resize-handle[_ngcontent-%COMP%]{position:absolute;width:5px;height:100%;cursor:col-resize;background-color:#ccc}.left-handle[_ngcontent-%COMP%]{left:0}.right-handle[_ngcontent-%COMP%]{right:0}.active-hover-bg[_ngcontent-%COMP%]{cursor:pointer}.weekend[_ngcontent-%COMP%]{background:linear-gradient(-45deg,rgba(230,230,230,.5) 12.5%,transparent 12.5%,transparent 50%,rgba(230,230,230,.5) 50%,rgba(230,230,230,.5) 62.5%,transparent 62.5%,transparent) 0% 0%/5px 5px}.middle[_ngcontent-%COMP%]{position:relative}.day-cells[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;height:100%;z-index:-1}.inner-day-cell[_ngcontent-%COMP%]{box-shadow:-1px 1px #f0f0f0;height:100%}.bar-top[_ngcontent-%COMP%]{padding-top:11px}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.today[_ngcontent-%COMP%]{position:relative}.today[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;bottom:0;width:2px;z-index:-1;background:rgba(24,143,249,.6509803922)}.today-bg[_ngcontent-%COMP%]{background:rgba(24,143,249,.6509803922)}.today-bg[_ngcontent-%COMP%]:after{display:none}.today-bg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.d-name[_ngcontent-%COMP%]{font-size:13px}.d-day[_ngcontent-%COMP%]{line-height:25px}.month-name[_ngcontent-%COMP%]{min-height:25px;max-height:25px}.no-data-img-holder[_ngcontent-%COMP%]{max-width:100px}.single-group[_ngcontent-%COMP%]{min-height:36px;max-height:36px;border-bottom:1px solid #f0f0f0;padding-left:7px;color:hwb(0 0% 100%/.85);font-weight:500}.t-name[_ngcontent-%COMP%]{min-width:260px;max-width:260px;box-shadow:1px 0 #f0f0f0}.t-start-date[_ngcontent-%COMP%]{box-shadow:1px 0 #f0f0f0}.t-start-date[_ngcontent-%COMP%], .t-end-date[_ngcontent-%COMP%]{min-width:110px;max-width:110px}.add-parent-task-section[_ngcontent-%COMP%]{min-height:42px;max-height:42px;box-shadow:0 0 0 1px #d9d9d9;background:rgba(247,247,247,.3098039216)}.single-group-task-subtasks[_ngcontent-%COMP%]{box-shadow:inset 0 -1px #f5f5f5;padding-left:18px}.single-group-task[_ngcontent-%COMP%]{box-shadow:1px 1px #f0f0f0}.single-group-task[_ngcontent-%COMP%]:hover   .hidden-arrow[_ngcontent-%COMP%]{display:flex!important}.hidden-arrow[_ngcontent-%COMP%]{display:none!important}.hidden[_ngcontent-%COMP%]{visibility:hidden}.subtasks-arrow[_ngcontent-%COMP%]{width:20px}.placeholder-drag[_ngcontent-%COMP%]{background:rgb(217,227,238);border:1px solid rgb(173,181,189);position:absolute;min-height:28px;max-height:28px;border-radius:4px;z-index:9;cursor:move}.highlighter[_ngcontent-%COMP%]{position:absolute;top:25px;bottom:0;z-index:-1;background:rgb(217,227,238);transition:.15s all;will-change:transform}.no-tasks[_ngcontent-%COMP%]{width:100%;height:42px;background:#fafafa;display:flex;align-items:center;padding-left:12px}'],changeDetection:0}),i})();var bi=ot(93302),Br=ot(19035);function rs(r,i){if(1&r&&(t._UZ(0,"nz-avatar",21),t.ALo(1,"firstCharUpper")),2&r){const n=t.oxw().$implicit,e=t.oxw();t.Udp("background-color",n.avatar_url?"#ececec":e.getColor(n.name)),t.Q6J("nzSize",28)("nzText",t.lcZ(1,5,n.name))("nzSrc",n.avatar_url)}}function Dr(r,i){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.email)}}function is(r,i){1&r&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function Hr(r,i){if(1&r&&(t.TgZ(0,"em",22),t._uU(1),t.TgZ(2,"span",23),t._uU(3,"(Pending Invitation)"),t.qZA()()),2&r){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.email," ")}}function js(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("nzOnConfirm",function(){t.CHM(n);const A=t.oxw(2).$implicit,s=t.oxw();return t.KtG(s.removeMember(A.id))}),t._UZ(1,"span",27),t.qZA()}if(2&r){const n=t.oxw(2).$implicit,e=t.oxw();let A;t.Q6J("nzOkText","OK")("nzPopconfirmTitle","Member will also removes from assigned tasks.")("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle","Remove from project")("nzType","default")("disabled",n.team_member_id===(null==(A=e.auth.getCurrentSession())?null:A.team_member_id))}}function Ho(r,i){1&r&&(t.TgZ(0,"div",24)(1,"nz-space"),t.YNc(2,js,2,7,"button",25),t.qZA()())}function Cm(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"tr",12)(1,"td",13),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.selectMember(s.team_member_id))}),t.YNc(2,rs,2,7,"nz-avatar",14),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",13),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.selectMember(s.team_member_id))}),t.YNc(7,Dr,2,1,"span",15),t.YNc(8,is,2,0,"span",15),t.YNc(9,Hr,4,1,"em",16),t.qZA(),t.TgZ(10,"td",17),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.selectMember(s.team_member_id))}),t._uU(11),t.qZA(),t.TgZ(12,"td",13),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.selectMember(s.team_member_id))}),t._UZ(13,"nz-progress",18),t.qZA(),t.TgZ(14,"td",13),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.selectMember(s.team_member_id))}),t._uU(15),t.qZA(),t.TgZ(16,"td",19),t.YNc(17,Ho,3,0,"div",20),t.qZA()()}if(2&r){const n=i.$implicit,e=t.oxw();t.xp6(2),t.Q6J("ngIf",n.name),t.xp6(1),t.hij(" ",n.name," "),t.xp6(2),t.Oqu(n.job_title||"-"),t.xp6(2),t.Q6J("ngIf",n.email&&!n.pending_invitation),t.xp6(1),t.Q6J("ngIf",!n.email&&!n.pending_invitation),t.xp6(1),t.Q6J("ngIf",n.email&&n.pending_invitation),t.xp6(2),t.AsE(" ",n.completed_tasks_count||0,"/",n.all_tasks_count||0," "),t.xp6(2),t.Q6J("nzPercent",n.progress),t.xp6(2),t.Oqu(n.access||"-"),t.xp6(2),t.Q6J("ngIf",e.isOwnerOrAdmin()||e.isProjectManager())}}function Bm(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.get())}),t._UZ(1,"span",30),t.qZA()}if(2&r){const n=t.oxw(2);t.xp6(1),t.Q6J("nzSpin",n.loading)}}function bm(r,i){1&r&&(t.TgZ(0,"nz-space"),t.YNc(1,Bm,2,1,"button",28),t.qZA())}function ym(r,i){1&r&&(t.TgZ(0,"div",31)(1,"div",32),t._UZ(2,"img",33),t.qZA(),t.TgZ(3,"span",34),t._uU(4,"No members found in the project."),t.qZA()())}const xm=function(){return[]};let Tm=(()=>{var r;class i{constructor(e,A,s,o,p,f,w,b,y,k){this.auth=e,this.api=A,this.fb=s,this.route=o,this.router=p,this.projectMembersApi=f,this.utilsService=w,this.projectFormService=b,this.cdr=y,this.projectsService=k,this.model={},this.loading=!0,this.showTaskDrawer=!1,this.total=0,this.pageSize=Ze.L8,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.sortField=null,this.sortOrder=null,this.projectId=null,this.selectedTaskId=null,this.projectId=this.route.snapshot.paramMap.get("id"),this.searchForm=this.fb.group({search:[]}),this.searchForm.valueChanges.subscribe(()=>this.searchMembers()),this.projectFormService.onMemberAssignOrRemoveReProject.pipe((0,ue.sL)()).subscribe(()=>{this.get()})}get title(){return`${this.total||0} Members`}get(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId)try{e.loading=!0;const A=yield e.api.getMembers(e.projectId,e.pageIndex,e.pageSize,e.sortField,e.sortOrder,e.searchForm.value.search||null);A.done&&(e.model=A.body,e.total=e.model.total||0,e.utilsService.handleLastIndex(e.total,e.model.data?.length||0,e.pageIndex,s=>{e.pageIndex=s,e.get()})),e.loading=!1,e.cdr.detectChanges()}catch(A){(0,le.tu)(A),e.loading=!1,e.cdr.detectChanges()}})()}searchMembers(){var e=this;return(0,Ft.Z)(function*(){yield e.get()})()}isOwnerOrAdmin(){return this.auth.getCurrentSession()?.owner||this.auth.getCurrentSession()?.is_admin}isProjectManager(){return!!this.projectsService.projectOwnerTeamMemberId&&this.auth.getCurrentSession()?.team_member_id===this.projectsService.projectOwnerTeamMemberId}removeMember(e){var A=this;return(0,Ft.Z)(function*(){if(e)try{(yield A.projectMembersApi.deleteById(e,A.projectId)).done&&A.get()}catch(s){(0,le.tu)(s)}})()}getColor(e){return Ze.Lj[e?.charAt(0).toUpperCase()||"A"]}onQueryParamsChange(e){var A=this;return(0,Ft.Z)(function*(){const{pageSize:s,pageIndex:o,sort:p}=e;A.pageIndex=o,A.pageSize=s;const f=p.find(w=>null!==w.value);A.sortField=f&&f.key||null,A.sortOrder=f&&f.value||null,yield A.get()})()}selectMember(e){}onShowChange(e){e||(this.selectedTaskId=null)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(TA.e),t.Y36(Xo.U),t.Y36(jt.qu),t.Y36(be.gz),t.Y36(be.F0),t.Y36(bi.r),t.Y36(En.F),t.Y36(Xi.s),t.Y36(t.sBO),t.Y36(Vi.m))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-members"]],hostBindings:function(e,A){1&e&&t.NdJ("worklenz.tasks.update",function(){return A.get()},!1,t.evT)},decls:25,vars:29,consts:[[3,"nzActive","nzLoading"],[3,"nzExtra","nzTitle"],["nzShowSizeChanger","",1,"custom-table",3,"nzData","nzFrontPagination","nzPageIndex","nzPageSizeOptions","nzPageSize","nzTotal","nzSize","nzNoResult","nzQueryParams"],["table",""],["scope","col",3,"nzSortFn","nzColumnKey"],["scope","col",3,"nzAlign"],["scope","col",3,"nzWidth"],["colspan","2","scope","col",3,"nzSortFn","nzAlign","nzColumnKey"],["class","actions-row",4,"ngFor","ngForOf"],["projectMembersForm",""],["noDataTemplate",""],[3,"show","selfResetTaskId","projectId","taskId","showChange"],[1,"actions-row"],[3,"click"],["class","me-2",3,"nzSize","nzText","background-color","nzSrc",4,"ngIf"],[4,"ngIf"],["nz-typography","",4,"ngIf"],["nzAlign","center",3,"click"],[3,"nzPercent"],[1,"actions-col"],["class","actions",4,"ngIf"],[1,"me-2",3,"nzSize","nzText","nzSrc"],["nz-typography",""],["nz-typography","","nzType","secondary"],[1,"actions"],["nz-button","","nz-popconfirm","","nz-tooltip","",3,"nzOkText","nzPopconfirmTitle","nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","disabled","nzOnConfirm",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nz-tooltip","",3,"nzOkText","nzPopconfirmTitle","nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","disabled","nzOnConfirm"],["nz-icon","","nzType","delete"],["nz-button","","nz-tooltip","","nzShape","circle","nzTooltipTitle","Refresh members","nzType","default",3,"click",4,"nzSpaceItem"],["nz-button","","nz-tooltip","","nzShape","circle","nzTooltipTitle","Refresh members","nzType","default",3,"click"],["nz-icon","","nzTheme","outline","nzType","sync",3,"nzSpin"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(e,A){if(1&e&&(t.TgZ(0,"nz-skeleton",0)(1,"nz-card",1)(2,"nz-table",2,3),t.NdJ("nzQueryParams",function(o){return A.onQueryParamsChange(o)}),t.TgZ(4,"thead")(5,"tr")(6,"th",4),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"th",4),t._uU(9,"Job Title"),t.qZA(),t.TgZ(10,"th",4),t._uU(11,"Email"),t.qZA(),t.TgZ(12,"th",5),t._uU(13,"Tasks"),t.qZA(),t.TgZ(14,"th",6),t._uU(15,"Tasks Progress"),t.qZA(),t.TgZ(16,"th",7),t._uU(17,"Access"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,Cm,18,11,"tr",8),t.qZA()()()(),t.YNc(20,bm,2,0,"ng-template",null,9,t.W1O),t.YNc(22,ym,5,0,"ng-template",null,10,t.W1O),t.TgZ(24,"worklenz-task-view",11),t.NdJ("showChange",function(o){return A.showTaskDrawer=o})("showChange",function(o){return A.onShowChange(o)}),t.qZA()),2&e){const s=t.MAs(3),o=t.MAs(21),p=t.MAs(23);t.Q6J("nzActive",!0)("nzLoading",A.loading),t.xp6(1),t.Q6J("nzExtra",o)("nzTitle",A.title),t.xp6(1),t.Q6J("nzData",A.model.data||t.DdM(28,xm))("nzFrontPagination",!1)("nzPageIndex",A.pageIndex)("nzPageSizeOptions",A.paginationSizes)("nzPageSize",A.pageSize)("nzTotal",A.total)("nzSize","small")("nzNoResult",p),t.xp6(4),t.Q6J("nzSortFn",!0)("nzColumnKey","name"),t.xp6(2),t.Q6J("nzSortFn",!0)("nzColumnKey","job_title"),t.xp6(2),t.Q6J("nzSortFn",!0)("nzColumnKey","email"),t.xp6(2),t.Q6J("nzAlign","center"),t.xp6(2),t.Q6J("nzWidth","200px"),t.xp6(2),t.Q6J("nzSortFn",!0)("nzAlign","left")("nzColumnKey","access"),t.xp6(3),t.Q6J("ngForOf",s.data),t.xp6(5),t.Q6J("show",A.showTaskDrawer)("selfResetTaskId",!1)("projectId",A.projectId||null)("taskId",A.selectedTaskId)}},dependencies:[Ot.sg,Ot.O5,xA.ix,aA.w,pn.dQ,Ce.N8,Ce.qD,Ce.Uo,Ce._C,Ce.Om,Ce.p0,Ce.$Z,Ce.UX,qe.Ls,$e.ZU,_s.M,Br.JW,Or.Dz,tA.SY,ln.ng,wn.bd,Qn.NU,Qn.$1,qi.E,es.I],styles:[".no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:42px}"],changeDetection:0}),i})();var km=ot(44568),Qm=ot(34302);function Fm(r,i){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const n=t.oxw().$implicit;t.xp6(1),t.AsE("[",n.task_key,"] ",n.task_name,"")}}function Um(r,i){1&r&&(t.TgZ(0,"span",22),t._uU(1,"Unassigned"),t.qZA())}function Im(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",23),t.NdJ("nzOnConfirm",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw();return t.KtG(s.delete(A.id))}),t._UZ(1,"span",24),t.qZA()}}function Sm(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw();return t.KtG(s.download(A.id,A.name))}),t._UZ(1,"span",26),t.qZA()}}function zm(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"tr",11)(1,"td",12),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.open(s.url))}),t._UZ(2,"img",13),t.TgZ(3,"span"),t._uU(4),t.qZA()(),t.TgZ(5,"td",14),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.open(s.url))}),t.YNc(6,Fm,2,2,"span",15),t.YNc(7,Um,2,0,"span",16),t.qZA(),t.TgZ(8,"td",14),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.open(s.url))}),t._uU(9),t.qZA(),t.TgZ(10,"td",14),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.open(s.url))}),t._uU(11),t.qZA(),t.TgZ(12,"td",17),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.open(s.url))}),t.ALo(13,"date"),t._uU(14),t.ALo(15,"fromNow"),t.qZA(),t.TgZ(16,"td",18)(17,"div",19)(18,"nz-space"),t.YNc(19,Im,2,0,"button",20),t.YNc(20,Sm,2,0,"button",21),t.qZA()()()()}if(2&r){const n=i.$implicit,e=t.oxw();t.xp6(2),t.Q6J("src","/assets/images/files/"+e.getFileIcon(n.type),t.LSH),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Q6J("ngIf",n.task_name),t.xp6(1),t.Q6J("ngIf",!n.task_name),t.xp6(2),t.Oqu(n.size),t.xp6(2),t.Oqu(n.uploader_name),t.xp6(1),t.Q6J("nzTooltipTitle",t.xi3(13,8,n.created_at,"medium")),t.xp6(2),t.hij(" ",t.lcZ(15,11,n.created_at)," ")}}function Lm(r,i){1&r&&(t.TgZ(0,"p",29),t._uU(1,"Coming soon!"),t.qZA(),t.TgZ(2,"p",29),t._uU(3,"Switch between list view and thumbnail view."),t.qZA())}function Em(r,i){if(1&r&&(t._UZ(0,"nz-segmented",27),t.YNc(1,Lm,4,0,"ng-template",null,28,t.W1O)),2&r){const n=t.MAs(2),e=t.oxw();t.Q6J("nzDisabled",!0)("nzOptions",e.options)("nzTooltipTitle",n)}}function Mm(r,i){1&r&&(t.TgZ(0,"small",22),t._UZ(1,"span",30),t._uU(2," All attachments to tasks in this project will appear here. "),t.qZA())}function Nm(r,i){1&r&&(t.TgZ(0,"div",31)(1,"div",32),t._UZ(2,"img",33),t.qZA(),t.TgZ(3,"span",34),t._uU(4,"There are no attachments in the project."),t.qZA()())}const Om=function(){return{rows:5}},Pm=function(){return[]};let Dm=(()=>{var r;class i{constructor(e,A,s,o,p){this.api=e,this.route=A,this.cdr=s,this.http=o,this.ngZone=p,this.projectId=null,this.selectedTaskId=null,this.total=0,this.pageSize=Ze.L8,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.attachments={},this.loading=!0,this.showTaskDrawer=!1,this.downloading=!1,this.options=[{label:"",value:"List",icon:"bars"},{label:"",value:"Kanban",icon:"appstore"}],this.projectId=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.get()}get(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId){try{e.loading=!0;const A=yield e.api.getProjectAttachment(e.projectId,e.pageIndex,e.pageSize);A.done&&(e.attachments=A.body,e.total=e.attachments.total||0),e.loading=!1}catch(A){e.loading=!1,(0,le.tu)(A)}e.cdr.markForCheck()}})()}onQueryParamsChange(e){var A=this;return(0,Ft.Z)(function*(){const{pageSize:s,pageIndex:o}=e;A.pageIndex=o,A.pageSize=s,yield A.get()})()}download(e,A){var s=this;return(0,Ft.Z)(function*(){if(e&&A){try{s.downloading=!0;const o=yield s.api.download(e,A);o&&o.done&&s.ngZone.runOutsideAngular(()=>{const p=document.createElement("a");p.href=o.body,p.download=A,p.click(),p.remove()})}catch(o){(0,le.tu)(o)}s.downloading=!1}})()}getFileIcon(e){return(0,le.LP)(e)}delete(e){var A=this;return(0,Ft.Z)(function*(){if(e){try{(yield A.api.deleteTaskAttachment(e)).done&&A.get()}catch(s){(0,le.tu)(s)}A.cdr.markForCheck()}})()}open(e){e&&this.ngZone.runOutsideAngular(()=>{const A=document.createElement("a");A.href=e,A.target="_blank",A.style.display="none",A.click()})}onCreateOrUpdate(){this.showTaskDrawer=!1,this.selectedTaskId=null}onShowChange(e){e||(this.selectedTaskId=null)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(km.J),t.Y36(be.gz),t.Y36(t.sBO),t.Y36(Fa.eN),t.Y36(t.R0b))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-all-tasks-attachments"]],decls:25,vars:20,consts:[[3,"nzExtra","nzTitle"],[3,"nzActive","nzLoading","nzParagraph"],["nzShowSizeChanger","","nzSize","small",1,"custom-table",3,"nzData","nzFrontPagination","nzPageIndex","nzPageSizeOptions","nzPageSize","nzTotal","nzSize","nzNoResult","nzQueryParams"],["table",""],["nzAlign","left","scope","col"],["colSpan","2","nzAlign","left","scope","col"],["class","actions-row",4,"ngFor","ngForOf"],["attachmentsHeadTemplate",""],["titleTemplate",""],["noDataTemplate",""],[3,"show","selfResetTaskId","projectId","taskId","showChange"],[1,"actions-row"],[1,"cursor-pointer","d-flex",3,"click"],["alt","",1,"file-icon","me-2",3,"src"],[1,"cursor-pointer",3,"click"],[4,"ngIf"],["nz-typography","","nzType","secondary",4,"ngIf"],["nz-tooltip","",1,"cursor-pointer",3,"nzTooltipTitle","click"],[1,"actions-col"],[1,"actions"],["nz-button","","nz-popconfirm","","nz-tooltip","","nzOkText","Yes","nzPopconfirmTitle","Are you sure?","nzSize","small","nzTooltipPlacement","top","nzTooltipTitle","Delete","nzType","default",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","nz-tooltip","","nzSize","small","nzTooltipPlacement","top","nzTooltipTitle","Download","nzType","default",3,"click",4,"nzSpaceItem"],["nz-typography","","nzType","secondary"],["nz-button","","nz-popconfirm","","nz-tooltip","","nzOkText","Yes","nzPopconfirmTitle","Are you sure?","nzSize","small","nzTooltipPlacement","top","nzTooltipTitle","Delete","nzType","default",3,"nzOnConfirm"],["nz-icon","","nzType","delete"],["nz-button","","nz-tooltip","","nzSize","small","nzTooltipPlacement","top","nzTooltipTitle","Download","nzType","default",3,"click"],["nz-icon","","nzType","cloud-download","nzTheme","outline"],["nz-tooltip","",3,"nzDisabled","nzOptions","nzTooltipTitle"],["segmentTitleTemplate",""],[1,"mb-0"],["nz-icon","","nzType","info-circle","nzTheme","outline"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(e,A){if(1&e&&(t.TgZ(0,"nz-card",0)(1,"nz-skeleton",1)(2,"nz-table",2,3),t.NdJ("nzQueryParams",function(o){return A.onQueryParamsChange(o)}),t.TgZ(4,"thead")(5,"tr")(6,"th",4),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"th",4),t._uU(9,"Attached Task"),t.qZA(),t.TgZ(10,"th",4),t._uU(11,"Size"),t.qZA(),t.TgZ(12,"th",4),t._uU(13,"Uploaded by"),t.qZA(),t.TgZ(14,"th",5),t._uU(15,"Uploaded at"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,zm,21,13,"tr",6),t.qZA()()()(),t.YNc(18,Em,3,3,"ng-template",null,7,t.W1O),t.YNc(20,Mm,3,0,"ng-template",null,8,t.W1O),t.YNc(22,Nm,5,0,"ng-template",null,9,t.W1O),t.TgZ(24,"worklenz-task-view",10),t.NdJ("showChange",function(o){return A.showTaskDrawer=o})("showChange",function(o){return A.onShowChange(o)}),t.qZA()),2&e){const s=t.MAs(3),o=t.MAs(19),p=t.MAs(21),f=t.MAs(23);t.Q6J("nzExtra",o)("nzTitle",p),t.xp6(1),t.Q6J("nzActive",!0)("nzLoading",A.loading)("nzParagraph",t.DdM(18,Om)),t.xp6(1),t.Q6J("nzData",A.attachments.data||t.DdM(19,Pm))("nzFrontPagination",!1)("nzPageIndex",A.pageIndex)("nzPageSizeOptions",A.paginationSizes)("nzPageSize",A.pageSize)("nzTotal",A.total)("nzSize","small")("nzNoResult",f),t.xp6(15),t.Q6J("ngForOf",s.data),t.xp6(7),t.Q6J("show",A.showTaskDrawer)("selfResetTaskId",!1)("projectId",A.projectId||null)("taskId",A.selectedTaskId)}},dependencies:[Ot.sg,Ot.O5,xA.ix,aA.w,pn.dQ,Ce.N8,Ce.Uo,Ce._C,Ce.Om,Ce.p0,Ce.$Z,Ce.UX,qe.Ls,$e.ZU,Br.JW,tA.SY,ln.ng,wn.bd,Qn.NU,Qn.$1,$o.wY,qi.E,Ot.uU,Qm.d],styles:[".file-icon[_ngcontent-%COMP%]{width:25px;display:flex}.no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:42px}"],changeDetection:0}),i})();var Hm=ot(94409),Zm=ot(22078),U1=ot(66987);const jm=["updatesTemplate"],Rm=["projectManagerUpdateTemplate"];function Km(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.applyUpdates())}),t._uU(1," Apply Updates "),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("nzType","dashed")("nzTooltipTitle",n.UPDATES_MESSAGE)}}function Gm(r,i){1&r&&t._UZ(0,"nz-divider",7),2&r&&t.Q6J("nzType","vertical")}function Jm(r,i){if(1&r&&(t.ynx(0),t.TgZ(1,"div",8),t._UZ(2,"span",9)(3,"worklenz-avatars",10),t.ALo(4,"wlSafeArray"),t.qZA(),t.BQk()),2&r){const n=t.oxw();t.xp6(2),t.Q6J("nzTooltipTitle","Members who are active on this project will be displayed here."),t.xp6(1),t.Q6J("names",t.lcZ(4,3,n.members))("showDot",!0)}}function Ym(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",11)(1,"div")(2,"div",12),t._uU(3,"Project Updated"),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA(),t.TgZ(6,"span",14)(7,"button",15),t.NdJ("click",function(){const s=t.CHM(n).$implicit;return t.oxw().applyUpdates(),t.KtG(s.close())}),t.TgZ(8,"span"),t._uU(9,"Refresh Project"),t.qZA()()()()()}if(2&r){const n=t.oxw();t.xp6(5),t.Oqu(n.UPDATES_MESSAGE),t.xp6(2),t.Q6J("nzLoading",n.refreshing)}}function qm(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",11)(1,"div")(2,"div",12),t._uU(3,"Project Information Updated"),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA(),t.TgZ(6,"span",14)(7,"button",15),t.NdJ("click",function(){const s=t.CHM(n).$implicit;return t.oxw().applyPMUpdate(),t.KtG(s.close())}),t.TgZ(8,"span"),t._uU(9,"Refresh Now"),t.qZA()()()()()}if(2&r){const n=t.oxw();t.xp6(5),t.Oqu(n.UPDATES_MESSAGE),t.xp6(2),t.Q6J("nzLoading",n.refreshing)}}let Vm=(()=>{var r;class i{constructor(e,A,s,o,p,f){this.socket=e,this.socketService=A,this.notification=s,this.cdr=o,this.ngZone=p,this.auth=f,this.refreshing=!1,this.projectId=null,this.refresh=new t.vpe,this.refreshAll=new t.vpe,this.JOIN_TXT="join",this.LEAVE_TXT="leave",this.UPDATES_MESSAGE="Other members have made updates to the project. Would you like to apply them?",this.notificationRef=null,this.members=[],this.disconnected=!1,this.updatesAvailable=!1,this.PDUpdateAvailable=!1,this.destroy$=new SA.x,this.handleMembersView=w=>{this.members=w,this.cdr.detectChanges()},this.handleProjectUpdates=()=>{this.updatesAvailable=!0,this.notificationRef||(this.notificationRef=this.notification.template(this.updatesTemplate,{nzDuration:-1}),this.notificationRef.onClose.subscribe(()=>{this.notificationRef=null})),this.cdr.detectChanges()},this.handleProjectDataChange=w=>{this.PDUpdateAvailable=!0,this.notificationRef||(this.notificationRef=this.notification.template(this.projectManagerUpdateTemplate,{nzDuration:-1}),this.notificationRef.onClose.subscribe(()=>{this.notificationRef=null})),this.cdr.detectChanges()},this.socketService.onSocketLoginSuccess$.pipe((0,Ve.R)(this.destroy$)).subscribe(()=>{this.emitJoinOrLeave(this.JOIN_TXT)}),this.socketService.onSocketDisconnect$.pipe((0,Ve.R)(this.destroy$)).subscribe(()=>{this.disconnected=!0,this.cdr.detectChanges()}),this.socketService.onSocketConnect$.pipe((0,Ve.R)(this.destroy$)).subscribe(()=>{this.disconnected&&(this.disconnected=!1,this.emitJoinOrLeave(this.JOIN_TXT),this.cdr.detectChanges())})}ngOnInit(){this.emitJoinOrLeave(this.JOIN_TXT),this.socket.on(Et.C.JOIN_OR_LEAVE_PROJECT_ROOM.toString(),this.handleMembersView),this.socket.on(Et.C.PROJECT_UPDATES_AVAILABLE.toString(),this.handleProjectUpdates),this.socket.on(Et.C.PROJECT_DATA_CHANGE.toString(),this.handleProjectDataChange)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.emitJoinOrLeave(this.LEAVE_TXT),this.socket.removeListener(Et.C.JOIN_OR_LEAVE_PROJECT_ROOM.toString(),this.handleMembersView),this.socket.removeListener(Et.C.PROJECT_UPDATES_AVAILABLE.toString(),this.handleProjectUpdates),this.socket.removeListener(Et.C.PROJECT_DATA_CHANGE.toString(),this.handleProjectDataChange)}emitJoinOrLeave(e){this.socket.emit(Et.C.JOIN_OR_LEAVE_PROJECT_ROOM.toString(),{type:e,id:this.projectId})}onFocusChange(){this.ngZone.runOutsideAngular(()=>{"visible"===document.visibilityState?this.emitJoinOrLeave(this.JOIN_TXT):this.emitJoinOrLeave(this.LEAVE_TXT)})}applyUpdates(){this.updatesAvailable=!1,this.cdr.detectChanges(),setTimeout(()=>{this.PDUpdateAvailable&&this.applyPMUpdate(),this.refresh.emit()})}applyPMUpdate(){this.PDUpdateAvailable=!1,this.updatesAvailable=!1,this.cdr.detectChanges(),setTimeout(()=>{this.refreshAll.emit()})}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(Hm.$),t.Y36(Zm.zb),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-view-extra"]],viewQuery:function(e,A){if(1&e&&(t.Gf(jm,5),t.Gf(Rm,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.updatesTemplate=s.first),t.iGM(s=t.CRH())&&(A.projectManagerUpdateTemplate=s.first)}},hostBindings:function(e,A){1&e&&t.NdJ("visibilitychange",function(){return A.onFocusChange()},!1,t.evT)},inputs:{refreshing:"refreshing",projectId:"projectId"},outputs:{refresh:"refresh",refreshAll:"refreshAll"},decls:8,vars:3,consts:[[1,"d-flex","align-items-center"],["nz-button","","nz-tooltip","","nzDanger","",3,"nzType","nzTooltipTitle","click",4,"ngIf"],[3,"nzType",4,"ngIf"],[4,"ngIf"],["updatesTemplate",""],["projectManagerUpdateTemplate",""],["nz-button","","nz-tooltip","","nzDanger","",3,"nzType","nzTooltipTitle","click"],[3,"nzType"],[1,"position-relative",2,"top","3px"],["nz-tooltip","","nz-icon","","nzType","question-circle","nzTheme","outline",1,"online-members-help",3,"nzTooltipTitle"],[3,"names","showDot"],[1,"ant-notification-notice-content"],[1,"ant-notification-notice-message"],[1,"ant-notification-notice-description"],[1,"ant-notification-notice-btn"],["nz-button","","nzType","primary",3,"nzLoading","click"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Km,2,2,"button",1),t.YNc(2,Gm,1,1,"nz-divider",2),t.YNc(3,Jm,5,5,"ng-container",3),t.qZA(),t.YNc(4,Ym,10,2,"ng-template",null,4,t.W1O),t.YNc(6,qm,10,2,"ng-template",null,5,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngIf",A.updatesAvailable||A.PDUpdateAvailable),t.xp6(1),t.Q6J("ngIf",A.members.length&&A.updatesAvailable),t.xp6(1),t.Q6J("ngIf",A.members.length))},dependencies:[Ot.O5,U1.g,xA.ix,aA.w,pn.dQ,qe.Ls,tA.SY,ii.o,Ha.g],styles:[".online-members-help[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;z-index:1}"],changeDetection:0}),i})();var I1=ot(63577);let Wm=(()=>{var r;class i{constructor(e){this.route=e,this.projectId=null,this.selectedTaskId=null,this.showTaskDrawer=!1,this.projectId=this.route.snapshot.paramMap.get("id")}onShowChange(e){e||(this.selectedTaskId=null)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(be.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-updates"]],decls:2,vars:5,consts:[[3,"projectId"],[3,"show","selfResetTaskId","projectId","taskId","showChange"]],template:function(e,A){1&e&&(t._UZ(0,"worklenz-project-updates-list",0),t.TgZ(1,"worklenz-task-view",1),t.NdJ("showChange",function(o){return A.showTaskDrawer=o})("showChange",function(o){return A.onShowChange(o)}),t.qZA()),2&e&&(t.Q6J("projectId",A.projectId),t.xp6(1),t.Q6J("show",A.showTaskDrawer)("selfResetTaskId",!1)("projectId",A.projectId||null)("taskId",A.selectedTaskId))},dependencies:[qi.E,I1.D],styles:[".mentions[_ngcontent-%COMP%]{background:#f7f7f7;font-weight:500;border-radius:4px}"],changeDetection:0}),i})(),_g=(()=>{var r;class i extends el.P{constructor(e){super(),this.http=e,this.root=`${this.API_BASE_URL}/workload-gannt`}getGanntDates(e,A){const s=(0,le.UK)({timeZone:A});return this._get(this.http,`${this.root}/chart-dates/${e}${s}`)}getWorkloadMembers(e,A){const s=(0,le.UK)({timeZone:A});return this._get(this.http,`${this.root}/workload-members/${e}${s}`)}getTasksByMember(e){const A=(0,le.UK)(e);return this._get(this.http,`${this.root}/workload-tasks-by-member/${e.id}${A}`)}getMemberOverview(e,A){const s=(0,le.UK)({team_member_id:A});return this._get(this.http,`${this.root}/workload-overview-by-member/${e}${s}`)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.LFG(Fa.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();var Xm=ot(65619);let Tl=(()=>{var r;class i{constructor(){this._selectSbj$=new SA.x,this._deselectSbj$=new SA.x,this._deselectAllSbj$=new SA.x,this._groupTaskMap=new Map,this._taskGroupIdsMap=new Map,this._selectedTasksMap=new Map,this._allTasksMap=new Map,this._subTasksMap=new Map,this._selectedCount=0}get tasks(){return this._allTasksMap}get onSelect$(){return this._selectSbj$.asObservable()}get onDeselect$(){return this._deselectSbj$.asObservable()}get onDeselectAll$(){return this._deselectAllSbj$.asObservable()}reset(){this._groupTaskMap.clear(),this._taskGroupIdsMap.clear(),this._selectedTasksMap.clear(),this._allTasksMap.clear(),this._subTasksMap.clear(),this._selectedCount=0}registerGroup(e){for(const A of e.tasks)this.add(e.id,A)}add(e,A){A.id&&(this.updateGroupTaskMap(e,A.id),this._taskGroupIdsMap.set(A.id,e),this._allTasksMap.set(A.id,A),A.parent_task_id&&this.updateSubtasksMap(A.parent_task_id,A))}addGroupTask(e,A){A.id&&this._taskGroupIdsMap.set(A.id,e)}has(e){return this._allTasksMap.has(e)}remove(e){e.id&&(this.deselectTask(e),this._taskGroupIdsMap.get(e.id),this._allTasksMap.delete(e.id))}updateGroupTaskMap(e,A,s){const o=this._groupTaskMap.get(e);o?("boolean"==typeof s?o[A]=s:delete o[A],this._groupTaskMap.set(e,o)):this._groupTaskMap.set(e,{[A]:s||!1})}updateSubtasksMap(e,A,s){const o=this._subTasksMap.get(e)||[];o.some(f=>f.id===A.id)||(o.push(A),this._subTasksMap.set(e,o))}selectTask(e){this._selectedTasksMap.get(e.id)||(this._selectedTasksMap.set(e.id,e),this._selectedCount++,this.updateGroupTaskMap(this._taskGroupIdsMap.get(e.id),e.id,!0),this._selectSbj$.next(e))}deselectTask(e){this._selectedTasksMap.has(e.id)&&(this._selectedTasksMap.delete(e.id),this._selectedCount--,this.updateGroupTaskMap(this._taskGroupIdsMap.get(e.id),e.id,!1),this._deselectSbj$.next(e))}deselectLocalGroups(){for(const[e,A]of this._groupTaskMap)for(const s in A)this.updateGroupTaskMap(e,s,!1)}deselectAll(){this._selectedTasksMap.size&&(this.deselectLocalGroups(),this._selectedTasksMap.clear(),this._selectedCount=0,this._deselectAllSbj$.next())}getGroupId(e){return this._taskGroupIdsMap.get(e)}getSelectedTasks(){const e=[];for(const[,A]of this._selectedTasksMap.entries())e.push(A);return e}}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})(),Zr=(()=>{var r;class i{get _currentGroup(){const e=localStorage.getItem("worklenz.wltasklist.group_by");if(e){const A=this.GROUP_BY_OPTIONS.find(s=>s.value===e);if(A)return A}return this.GROUP_BY_OPTIONS[0]}set _currentGroup(e){localStorage.setItem("worklenz.wltasklist.group_by",e.value)}set members(e){this._members=e,this.membersSbj$.next()}get members(){return this._members}set priorities(e){this._priorities=e,this.prioritiesSbj$.next()}get priorities(){return this._priorities}set phases(e){this._phases=e,this.phasesSbj$.next()}get phases(){return this._phases}get onStatusesChange$(){return this.statusesSbj$.asObservable()}get onPrioritiesChange$(){return this.prioritiesSbj$.asObservable()}get onContextMenu$(){return this.contextMenuSbj$.asObservable()}get onPhaseChange$(){return this.phasesSbj$.asObservable()}set statuses(e){this._statuses=e,this.statusesSbj$.next()}get statuses(){return this._statuses}get updateOverviewCharts(){return this.updateOverviewChartsSbj$.asObservable()}get onRemoveMembersTask(){return this.removeMembersTaskSbj$.asObservable()}constructor(e,A){this.socket=e,this.map=A,this.membersSbj$=new SA.x,this.statusesSbj$=new SA.x,this.prioritiesSbj$=new SA.x,this.contextMenuSbj$=new SA.x,this.taskAddOrDeleteSbj$=new Xm.X(null),this.phasesSbj$=new SA.x,this.updateOverviewChartsSbj$=new SA.x,this.removeMembersTaskSbj$=new SA.x,this.refreshOnlyMembersSbj$=new SA.x,this.refreshSubtasksIncludedSbj$=new SA.x,this.HIGHLIGHT_COL_CLS="highlight-col",this.GROUP_BY_STATUS_VALUE="status",this.GROUP_BY_PRIORITY_VALUE="priority",this.GROUP_BY_PHASE_VALUE="phase",this.GROUP_BY_OPTIONS=[{label:"Status",value:this.GROUP_BY_STATUS_VALUE},{label:"Priority",value:this.GROUP_BY_PRIORITY_VALUE},{label:"Phase",value:this.GROUP_BY_PHASE_VALUE}],this.groups=[],this._members=[],this._statuses=[],this._priorities=[],this._phases=[],this.isSubtasksIncluded=!1,this.currentTab=""}setCurrentGroup(e){this._currentGroup=e}getCurrentGroup(){return this._currentGroup}onRefreshMembers(){return this.refreshOnlyMembersSbj$.asObservable()}emitRefreshMembers(){this.refreshOnlyMembersSbj$.next()}emitRefreshSubtasksIncluded(){this.refreshSubtasksIncludedSbj$.next()}emitOnContextMenu(e,A){this.contextMenuSbj$.next({event:e,task:A})}emitTaskAddOrDelete(e,A){this.taskAddOrDeleteSbj$.next({taskId:e,isSubTask:A})}emitUpdateOverviewCharts(){this.updateOverviewChartsSbj$.next()}emitRemoveMembersTask(e){this.removeMembersTaskSbj$.next(e)}getGroupIdByGroupedColumn(e){const A=this.getCurrentGroup().value;return A===this.GROUP_BY_STATUS_VALUE?e.status:A===this.GROUP_BY_PRIORITY_VALUE?e.priority:A===this.GROUP_BY_PHASE_VALUE?e.phase_id:null}updateTaskGroup(e,A=!0){if(!e.id)return;const s=this.getGroupIdByGroupedColumn(e);s&&(this.deleteTask(e.id),this.addTask(e,s,A))}deleteTask(e,A=null){const s=this.map.getGroupId(e);if(!s||!e)return;const o=this.groups.find(f=>f.id===s);if(!o)return;const p=this.map.getSelectedTasks().find(f=>f.id===e);if(p?.is_sub_task){const f=o.tasks.find(w=>w.id===p.parent_task_id);if(f){const w=f.sub_tasks?.findIndex(b=>b.id===p.id);typeof w<"u"&&-1!==w&&(f.sub_tasks_count||(f.sub_tasks_count=0),f.sub_tasks_count=Math.max(+f.sub_tasks_count-1,0),f.sub_tasks?.splice(w,1),this.emitTaskAddOrDelete(f.id,!0))}this.socket.emit(Et.C.GET_TASK_PROGRESS.toString(),f?.id),this.map.remove(p)}else{const f=A??o.tasks.findIndex(w=>w.id===e);-1!==f&&(this.map.remove(o.tasks[f]),o.tasks.splice(f,1),this.emitTaskAddOrDelete(e,!1))}this.map.deselectAll()}addTask(e,A,s=!1){const o=this.groups.find(p=>p.id===A);o&&e.id&&(s?o.tasks.unshift(e):o.tasks.push(e),this.map.add(A,e),this.emitTaskAddOrDelete(e.parent_task_id,!!e.parent_task_id))}reset(){this._members=[],this._statuses=[],this._priorities=[],this.groups=[],this.isSubtasksIncluded=!1}}return(r=i).\u0275fac=function(e){return new(e||r)(t.LFG(je.s),t.LFG(Tl))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();var $m=ot(63481),S1=ot(49278),t0=ot(67838),e0=ot(22858);function A0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",1,2)(2,"span",3),t._uU(3),t.ALo(4,"dateFormatter"),t.qZA(),t.TgZ(5,"nz-date-picker",4),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.task.start_date=A)})("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.handleStartDateChange(A,s.task))})("nzOnOpenChange",function(A){t.CHM(n);const s=t.MAs(1),o=t.oxw();return t.KtG(o.toggleHighlightCls(A,s))}),t.ALo(6,"validateMaxDate"),t.qZA()()}if(2&r){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,6,n.task.start_date)),t.xp6(2),t.Q6J("ngModel",n.task.start_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set a start date")("nzDisabledDate",t.lcZ(6,8,n.task.end_date))}}let n0=(()=>{var r;class i{constructor(e,A,s,o,p,f){this.socket=e,this.cdr=A,this.ngZone=s,this.service=o,this.renderer=p,this.auth=f,this.task=null,this.cls="flex-row task-due-date",this.handleResponse=w=>{this.task&&w.id===this.task.id&&this.task.start_date!==w.start_date&&(this.task.start_date=w.start_date,this.cdr.markForCheck())}}ngOnInit(){this.socket.on(Et.C.TASK_START_DATE_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_START_DATE_CHANGE.toString(),this.handleResponse)}toggleHighlightCls(e,A){this.ngZone.runOutsideAngular(()=>{e?this.renderer.addClass(A,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(A,this.service.HIGHLIGHT_COL_CLS)})}handleStartDateChange(e,A){this.socket.emit(Et.C.TASK_START_DATE_CHANGE.toString(),JSON.stringify({task_id:A.id,start_date:(0,le.A6)(e)||null,parent_task:A.parent_task_id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(Zr),t.Y36(t.Qsj),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-wl-start-date"]],hostVars:2,hostBindings:function(e,A){2&e&&t.Tol(A.cls)},inputs:{task:"task"},decls:1,vars:1,consts:[["class","editable h-100 d-flex w-100",4,"ngIf"],[1,"editable","h-100","d-flex","w-100"],["elementStartDate",""],["nz-typography","",1,"date-text","w-100"],[1,"border-0","bg-transparent","w-100","task-list-date-picker",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange","nzOnOpenChange"]],template:function(e,A){1&e&&t.YNc(0,A0,7,10,"div",0),2&e&&t.Q6J("ngIf",A.task)},dependencies:[Ot.O5,jt.JJ,$e.ZU,jt.On,wr.uw,th.z,Ns.l],styles:["nz-date-picker[_ngcontent-%COMP%]{max-width:150px;border-color:transparent!important;inset:0}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.editable[_ngcontent-%COMP%]{position:relative}.date-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:15px}.def-g-height[_ngcontent-%COMP%]{max-height:32px;min-height:32px;line-height:32px}"],changeDetection:0}),i})();function r0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",1,2)(2,"span",3),t._uU(3),t.ALo(4,"dateFormatter"),t.qZA(),t.TgZ(5,"nz-date-picker",4),t.NdJ("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.task.end_date=A)})("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.handleEndDateChange(A,s.task))})("nzOnOpenChange",function(A){t.CHM(n);const s=t.MAs(1),o=t.oxw();return t.KtG(o.toggleHighlightCls(A,s))}),t.ALo(6,"validateMinDate"),t.qZA()()}if(2&r){const n=t.oxw();t.xp6(2),t.ekj("past-date",n.checkForPastDate(n.task.end_date))("soon-date",n.checkForSoonDate(n.task.end_date)),t.xp6(1),t.Oqu(t.lcZ(4,10,n.task.end_date)),t.xp6(2),t.Q6J("ngModel",n.task.end_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set a due date")("nzDisabledDate",t.lcZ(6,12,n.task.start_date))}}let i0=(()=>{var r;class i{constructor(e,A,s,o,p,f){this.socket=e,this.cdr=A,this.ngZone=s,this.service=o,this.renderer=p,this.auth=f,this.task={},this.cls="flex-row task-due-date",this.handleResponse=w=>{w.id===this.task.id&&this.task.end_date!==w.end_date&&(this.task.end_date=w.end_date,this.cdr.markForCheck())}}ngOnInit(){this.socket.on(Et.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse)}handleEndDateChange(e,A){this.socket.emit(Et.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:A.id,end_date:(0,le.A6)(e)||null,parent_task:A.parent_task_id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}toggleHighlightCls(e,A){this.ngZone.runOutsideAngular(()=>{e?this.renderer.addClass(A,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(A,this.service.HIGHLIGHT_COL_CLS)})}checkForPastDate(e){return me()(e).format("YYYY-MM-DD")<me()().format("YYYY-MM-DD")}checkForSoonDate(e){const A=me()(e).format("YYYY-MM-DD"),s=me()().add(1,"day").format("YYYY-MM-DD");return A===me()().format("YYYY-MM-DD")||A===s}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(Zr),t.Y36(t.Qsj),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-wl-end-date"]],hostVars:2,hostBindings:function(e,A){2&e&&t.Tol(A.cls)},inputs:{task:"task"},decls:1,vars:1,consts:[["class","editable h-100 d-flex w-100",4,"ngIf"],[1,"editable","h-100","d-flex","w-100"],["elementDueDate",""],["nz-typography","",1,"date-text","w-100"],[1,"border-0","bg-transparent","w-100","task-list-date-picker",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange","nzOnOpenChange"]],template:function(e,A){1&e&&t.YNc(0,r0,7,14,"div",0),2&e&&t.Q6J("ngIf",A.task)},dependencies:[Ot.O5,jt.JJ,$e.ZU,jt.On,wr.uw,Ns.l,Md],styles:["nz-date-picker[_ngcontent-%COMP%]{max-width:150px;border-color:transparent!important;inset:0}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.editable[_ngcontent-%COMP%]{position:relative}.date-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:15px}.past-date[_ngcontent-%COMP%]{color:#ff4d4f}.soon-date[_ngcontent-%COMP%]{color:#52c41a}.def-g-height[_ngcontent-%COMP%]{max-height:32px;min-height:32px;line-height:32px}"],changeDetection:0}),i})();function s0(r,i){if(1&r&&(t.TgZ(0,"nz-option",3),t.ALo(1,"safeString"),t._UZ(2,"nz-badge",4),t.ALo(3,"safeString"),t.qZA()),2&r){const n=i.$implicit;t.Q6J("nzValue",n.id)("nzLabel",t.lcZ(1,4,n.name)),t.xp6(2),t.Q6J("nzColor",t.lcZ(3,6,n.color_code))("nzText",(null==n?null:n.name)||null)}}let o0=(()=>{var r;class i{constructor(e,A,s,o,p,f,w){this.service=e,this.socket=A,this.cdr=s,this.ngZone=o,this.element=p,this.renderer=f,this.auth=w,this.task={},this.cls="flex-row task-status",this.statuses=[],this.loading=!1,this.handleResponse=b=>{b&&b.id===this.task.id&&(this.task.status_color=b.color_code,this.task.complete_ratio=+b.complete_ratio||0,this.task.status=b.status_id,this.task.status_category=b.statusCategory,this.isGroupByStatus()&&(this.service.updateTaskGroup(this.task,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())},this.service.onStatusesChange$.pipe((0,ue.sL)()).subscribe(()=>{this.updateStatuses(),this.cdr.markForCheck()})}ngOnInit(){this.updateStatuses(),this.socket.on(Et.C.TASK_STATUS_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_STATUS_CHANGE.toString(),this.handleResponse)}getTaskProgress(e){this.socket.emit(Et.C.GET_TASK_PROGRESS.toString(),e)}isGroupByStatus(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_STATUS_VALUE}trackById(e,A){return A.id}handleStatusChange(e,A){A&&(this.socket.emit(Et.C.TASK_STATUS_CHANGE.toString(),JSON.stringify({task_id:A,status_id:e,parent_task:this.task.parent_task_id,team_id:this.auth.getCurrentSession()?.team_id})),this.getTaskProgress(A))}updateStatuses(){this.statuses=this.service.statuses}toggleHighlightCls(e,A){this.ngZone.runOutsideAngular(()=>{e?this.renderer.addClass(A,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(A,this.service.HIGHLIGHT_COL_CLS)})}handleOpen(e){this.toggleHighlightCls(e,this.element.nativeElement)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Zr),t.Y36(je.s),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-wl-status"]],hostVars:2,hostBindings:function(e,A){2&e&&t.Tol(A.cls)},inputs:{task:"task"},decls:3,vars:8,consts:[[1,"py-0"],[1,"rounded-pill","custom-select",3,"ngModel","nzLoading","nzDropdownMatchSelectWidth","nzSize","ngModelChange","nzOpenChange"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngFor","ngForOf","ngForTrackBy"],["nzCustomContent","",3,"nzValue","nzLabel"],[3,"nzColor","nzText"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0)(1,"nz-select",1),t.NdJ("ngModelChange",function(o){return A.task.status=o})("ngModelChange",function(o){return A.handleStatusChange(o,A.task.id)})("nzOpenChange",function(o){return A.handleOpen(o)}),t.YNc(2,s0,4,8,"nz-option",2),t.qZA()()),2&e&&(t.xp6(1),t.Udp("background-color",A.task.status_color),t.Q6J("ngModel",A.task.status)("nzLoading",A.loading)("nzDropdownMatchSelectWidth",!1)("nzSize","small"),t.xp6(1),t.Q6J("ngForOf",A.statuses)("ngForTrackBy",A.trackById))},dependencies:[Ot.sg,jt.JJ,vr.Ip,vr.Vq,jt.On,ur.x7,si.m],styles:["nz-select[_ngcontent-%COMP%]{max-width:96px;width:100%;text-overflow:ellipsis}"],changeDetection:0}),i})();var z1=ot(8660);function a0(r,i){if(1&r&&(t.TgZ(0,"nz-option",3),t._UZ(1,"worklenz-task-priority-label",4),t.qZA()),2&r){const n=i.$implicit;t.Q6J("nzValue",n.id)("nzLabel",n.name?n.name:"")("nzCustomContent",!0),t.xp6(1),t.Q6J("name",n.name?n.name:"")}}let c0=(()=>{var r;class i{constructor(e,A,s,o,p,f){this.service=e,this.socket=A,this.cdr=s,this.ngZone=o,this.element=p,this.renderer=f,this.task={},this.cls="flex-row task-priority",this.priorities=[],this.loading=!1,this.handleResponse=w=>{w&&w.id===this.task.id&&(this.task.priority_color=w.color_code,this.task.priority=w.priority_id,this.isGroupByPriority()&&(this.service.updateTaskGroup(this.task,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())},this.service.onPrioritiesChange$.pipe((0,ue.sL)()).subscribe(()=>{this.updatePriorities(),this.cdr.markForCheck()})}ngOnInit(){this.updatePriorities(),this.socket.on(Et.C.TASK_PRIORITY_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.priorities=[],this.socket.removeListener(Et.C.TASK_PRIORITY_CHANGE.toString(),this.handleResponse)}isGroupByPriority(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_PRIORITY_VALUE}trackById(e,A){return A.id}handlePriorityChange(e,A){this.socket.emit(Et.C.TASK_PRIORITY_CHANGE.toString(),JSON.stringify({task_id:A.id,priority_id:e,parent_task:this.task.parent_task_id}))}updatePriorities(){this.priorities=this.service.priorities}toggleHighlightCls(e,A){this.ngZone.runOutsideAngular(()=>{e?this.renderer.addClass(A,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(A,this.service.HIGHLIGHT_COL_CLS)})}handleOpen(e){this.toggleHighlightCls(e,this.element.nativeElement)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Zr),t.Y36(je.s),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.Qsj))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-wl-priority"]],hostVars:2,hostBindings:function(e,A){2&e&&t.Tol(A.cls)},inputs:{task:"task"},decls:3,vars:8,consts:[[1,"py-0"],[1,"rounded-pill","custom-select",3,"ngModel","nzLoading","nzDropdownMatchSelectWidth","nzSize","ngModelChange","nzOpenChange"],[3,"nzValue","nzLabel","nzCustomContent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzValue","nzLabel","nzCustomContent"],[3,"name"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0)(1,"nz-select",1),t.NdJ("ngModelChange",function(o){return A.task.priority=o})("ngModelChange",function(o){return A.handlePriorityChange(o,A.task)})("nzOpenChange",function(o){return A.handleOpen(o)}),t.YNc(2,a0,2,4,"nz-option",2),t.qZA()()),2&e&&(t.xp6(1),t.Udp("background",A.task.priority_color),t.Q6J("ngModel",A.task.priority)("nzLoading",A.loading)("nzDropdownMatchSelectWidth",!1)("nzSize","small"),t.xp6(1),t.Q6J("ngForOf",A.priorities)("ngForTrackBy",A.trackById))},dependencies:[Ot.sg,jt.JJ,vr.Ip,vr.Vq,jt.On,z1.o],styles:["nz-select[_ngcontent-%COMP%]{max-width:96px;width:100%;text-overflow:ellipsis}"],changeDetection:0}),i})();var l0=ot(66432);function u0(r,i){if(1&r&&(t.TgZ(0,"nz-option",3),t.ALo(1,"truncateIfLong"),t._UZ(2,"nz-badge",4),t.ALo(3,"safeString"),t.qZA()),2&r){const n=i.$implicit;t.Q6J("nzValue",n.id)("nzLabel",t.xi3(1,4,n.name,12)),t.xp6(2),t.Q6J("nzColor",t.lcZ(3,7,n.color_code))("nzText",(null==n?null:n.name)||null)}}let d0=(()=>{var r;class i{constructor(e,A,s,o,p,f){this.service=e,this.socket=A,this.cdr=s,this.ngZone=o,this.element=p,this.renderer=f,this.task={},this.cls="flex-row task-phase",this.PHASE_COLOR="#a9a9a9"+Ze.Yj,this.PLACEHOLDER_COLOR="rgba(0, 0, 0, 0.85) !important",this.phases=[],this.loading=!1,this.handleResponse=w=>{w&&w.task_id===this.task.id&&(this.task.phase_color=w.color_code||void 0,this.task.phase_id=w.id,this.isGroupByPhase()&&(this.service.updateTaskGroup(this.task,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())},this.service.onPhaseChange$.pipe((0,ue.sL)()).subscribe(()=>{this.updatePhases(),this.cdr.markForCheck()})}ngOnInit(){this.updatePhases(),this.socket.on(Et.C.TASK_PHASE_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_PHASE_CHANGE.toString(),this.handleResponse)}isGroupByPhase(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_PHASE_VALUE}trackById(e,A){return A.id}handleChange(e,A){A&&this.socket.emit(Et.C.TASK_PHASE_CHANGE.toString(),{task_id:A,phase_id:e,parent_task:this.task.parent_task_id})}updatePhases(){this.phases=this.service.phases}toggleHighlightCls(e,A){this.ngZone.runOutsideAngular(()=>{e?this.renderer.addClass(A,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(A,this.service.HIGHLIGHT_COL_CLS)})}handleOpen(e){this.toggleHighlightCls(e,this.element.nativeElement)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Zr),t.Y36(je.s),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.Qsj))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-wl-phase"]],hostVars:2,hostBindings:function(e,A){2&e&&t.Tol(A.cls)},inputs:{task:"task"},decls:3,vars:9,consts:[[1,"py-0"],["nzAllowClear","",1,"rounded-pill","custom-select",3,"ngModel","nzLoading","nzDropdownMatchSelectWidth","nzSize","nzPlaceHolder","ngModelChange","nzOpenChange"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngFor","ngForOf","ngForTrackBy"],["nzCustomContent","",3,"nzValue","nzLabel"],[3,"nzColor","nzText"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0)(1,"nz-select",1),t.NdJ("ngModelChange",function(o){return A.task.phase_id=o})("ngModelChange",function(o){return A.handleChange(o,A.task.id)})("nzOpenChange",function(o){return A.handleOpen(o)}),t.YNc(2,u0,4,9,"nz-option",2),t.qZA()()),2&e&&(t.xp6(1),t.Udp("background-color",A.task.phase_color),t.Q6J("ngModel",A.task.phase_id)("nzLoading",A.loading)("nzDropdownMatchSelectWidth",!1)("nzSize","small")("nzPlaceHolder","Select"),t.xp6(1),t.Q6J("ngForOf",A.phases)("ngForTrackBy",A.trackById))},dependencies:[Ot.sg,jt.JJ,vr.Ip,vr.Vq,jt.On,ur.x7,l0.z,si.m],changeDetection:0}),i})();function h0(r,i){1&r&&(t.TgZ(0,"small",17),t._UZ(1,"span",18),t.qZA()),2&r&&(t.Q6J("nzType","secondary"),t.xp6(1),t.Q6J("nzType","double-right")("nzTheme","outline"))}function p0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(A){t.CHM(n);const s=t.oxw(2),o=t.MAs(4);return t.KtG(s.onTaskNameClick(A,o,s.task))}),t.ALo(1,"safeString"),t.YNc(2,h0,2,3,"small",16),t._uU(3),t.qZA()}if(2&r){const n=t.oxw(2);t.Q6J("nzTooltipMouseEnterDelay",.5)("nzTooltipTitle",t.lcZ(1,4,n.task.name)),t.xp6(2),t.Q6J("ngIf",n.task.is_sub_task),t.xp6(1),t.hij(" ",n.task.name," \xa0 ")}}function f0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"nz-tag",19),t.NdJ("click",function(A){t.CHM(n);const s=t.oxw(2);return A.stopPropagation(),t.KtG(s.openSubTasks())}),t.TgZ(1,"span",20),t._uU(2),t._UZ(3,"span",21),t.qZA()()}if(2&r){const n=t.oxw(2);t.Q6J("nzColor","default"),t.xp6(2),t.hij(" ",n.task.sub_tasks_count," "),t.xp6(1),t.Q6J("nzType","double-right")("nzTheme","outline")}}function g0(r,i){if(1&r&&(t.TgZ(0,"div",10)(1,"div",11)(2,"div"),t.YNc(3,p0,4,6,"div",12),t.qZA(),t.TgZ(4,"div",13),t.YNc(5,f0,4,4,"nz-tag",14),t.qZA()()()),2&r){const n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.editId!==n.task.id),t.xp6(2),t.Q6J("ngIf",!n.task.is_sub_task&&!n.service.isSubtasksIncluded)}}function m0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"input",22),t.NdJ("focus",function(){t.CHM(n);const A=t.oxw(),s=t.MAs(4);return t.KtG(A.selectCol(s))})("ngModelChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.task.name=A)})("blur",function(){t.CHM(n);const A=t.oxw(),s=t.MAs(4);return A.handleNameChange(A.task),t.KtG(A.deselectCol(s))})("keydown.enter",function(){t.CHM(n);const A=t.oxw(),s=t.MAs(4);return A.handleNameChange(A.task),t.KtG(A.deselectCol(s))}),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("ngModel",n.task.name)("nzBorderless",!0)}}function _0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.openTask(A.task))}),t._UZ(1,"span",18),t._uU(2," Open "),t.qZA()}2&r&&(t.Q6J("nzTooltipTitle","Click open task form")("nzTooltipPlacement","top")("nzTooltipMouseEnterDelay",2)("nzType","text"),t.xp6(1),t.Q6J("nzType","expand-alt")("nzTheme","outline"))}let w0=(()=>{var r;class i{get id(){return this.task.id}constructor(e,A,s,o,p,f,w,b,y){this.element=e,this.renderer=A,this.service=s,this.cdr=o,this.socket=p,this.map=f,this.ngZone=w,this.view=b,this.utils=y,this.onShowSubTasks=new t.vpe,this.onOpenTask=new t.vpe,this.cls="position-relative task-row",this.highlight="highlight-col",this.editId=null,this.selected=!1,this.Number=Number,this.handleNameChangeResponse=k=>{k&&this.id===k.id&&this.task&&this.task.name!=k.name&&(this.task.name=k.name,this.markForCheck())},this.handleCompletedAt=k=>{k.id&&this.id===k.id&&(this.task.completed_at=k.completed_at)},(0,No.T)(this.map.onSelect$.pipe((0,_i.h)(k=>k.id===this.id),(0,_i.h)(()=>!this.selected)),this.map.onDeselect$.pipe((0,_i.h)(k=>k.id===this.id),(0,_i.h)(()=>this.selected)),this.map.onDeselectAll$.pipe((0,_i.h)(()=>this.selected))).pipe((0,ue.sL)()).subscribe(k=>{this.selected=!this.selected,this.toggleSelection(),this.markForCheck()})}toggleSelection(){this.ngZone.runOutsideAngular(()=>{const e="selected",A=this.element.nativeElement;this.selected?this.renderer.addClass(A,e):this.renderer.removeClass(A,e)})}ngOnInit(){this.registerSocketEvents()}ngOnDestroy(){this.unregisterSocketEvents()}registerSocketEvents(){this.socket.on(Et.C.TASK_NAME_CHANGE.toString(),this.handleNameChangeResponse)}unregisterSocketEvents(){this.socket.removeListener(Et.C.TASK_NAME_CHANGE.toString(),this.handleNameChangeResponse)}onContextMenu(e){this.service.emitOnContextMenu(e,this.task)}focus(e){setTimeout(()=>{e.querySelector("input")?.focus()})}onCheckChange(e){e?this.map.selectTask(this.task):this.map.deselectTask(this.task),this.toggleSelection()}openSubTasks(){this.onShowSubTasks?.emit(this.task)}openTask(e){this.onOpenTask?.emit(e)}selectCol(e){e.classList.contains(this.highlight)||e.classList.add(this.highlight)}deselectCol(e){e.classList.remove(this.highlight),this.editId=null}handleNameChange(e){e&&(this.socket.emit(Et.C.TASK_NAME_CHANGE.toString(),JSON.stringify({task_id:e.id,name:e.name,parent_task:this.task.parent_task_id})),this.editId=null)}onTaskNameClick(e,A,s){e.stopPropagation(),this.focus(A),this.editId=s.id||null}markForCheck(){this.cdr.markForCheck()}detectChanges(){this.cdr.detectChanges()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Zr),t.Y36(t.sBO),t.Y36(je.s),t.Y36(Tl),t.Y36(t.R0b),t.Y36(Wi.f),t.Y36(En.F))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-wl-task-list-row"]],hostVars:2,hostBindings:function(e,A){1&e&&t.NdJ("contextmenu",function(o){return A.onContextMenu(o)}),2&e&&t.Tol(A.cls)},inputs:{task:"task"},outputs:{onShowSubTasks:"onShowSubTasks",onOpenTask:"onOpenTask"},decls:19,vars:10,consts:[[1,"flex-table","rows",3,"ngClass"],[1,"flex-row","task-check"],["nz-checkbox","",1,"p-0",3,"nzChecked","nzCheckedChange"],[1,"flex-row","task-name","ps-0"],["tr1",""],[1,"inner-task-name-container"],["class","editable-cell pointer-text ps-1 w-100",4,"ngIf"],["nz-input","","class","ps-1 name-input","style","min-width: 365px; max-width: 365px;",3,"ngModel","nzBorderless","focus","ngModelChange","blur","keydown.enter",4,"ngIf"],["nz-tooltip","","nz-button","","class","px-1 task-open-btn",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipMouseEnterDelay","nzType","click",4,"ngIf"],[3,"task"],[1,"editable-cell","pointer-text","ps-1","w-100"],[1,"d-flex","w-100"],["nz-tooltip","","class","task-name-text",3,"nzTooltipMouseEnterDelay","nzTooltipTitle","click",4,"ngIf"],[1,"inner-icon-cont"],["class","me-1 px-1 double-arrow",3,"nzColor","click",4,"ngIf"],["nz-tooltip","",1,"task-name-text",3,"nzTooltipMouseEnterDelay","nzTooltipTitle","click"],["nz-typography","",3,"nzType",4,"ngIf"],["nz-typography","",3,"nzType"],["nz-icon","",3,"nzType","nzTheme"],[1,"me-1","px-1","double-arrow",3,"nzColor","click"],[2,"color","#6d6e6f"],["nz-icon","",2,"font-size","10px",3,"nzType","nzTheme"],["nz-input","",1,"ps-1","name-input",2,"min-width","365px","max-width","365px",3,"ngModel","nzBorderless","focus","ngModelChange","blur","keydown.enter"],["nz-tooltip","","nz-button","",1,"px-1","task-open-btn",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipMouseEnterDelay","nzType","click"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.NdJ("nzCheckedChange",function(o){return A.selected=o})("nzCheckedChange",function(o){return A.onCheckChange(o)}),t.qZA()(),t.TgZ(3,"div",3,4)(5,"div",5),t.YNc(6,g0,6,2,"div",6),t.YNc(7,m0,1,2,"input",7),t.YNc(8,_0,3,6,"button",8),t.qZA()(),t.ynx(9),t._UZ(10,"worklenz-wl-status",9),t.BQk(),t.ynx(11),t._UZ(12,"worklenz-wl-priority",9),t.BQk(),t.ynx(13),t._UZ(14,"worklenz-wl-phase",9),t.BQk(),t.ynx(15),t._UZ(16,"worklenz-wl-start-date",9),t.BQk(),t.ynx(17),t._UZ(18,"worklenz-wl-end-date",9),t.BQk(),t.qZA()),2&e&&(t.Q6J("ngClass",A.task.is_sub_task?"":"main-task"),t.xp6(2),t.Q6J("nzChecked",A.selected),t.xp6(4),t.Q6J("ngIf",A.editId!==A.task.id),t.xp6(1),t.Q6J("ngIf",A.editId===A.task.id),t.xp6(1),t.Q6J("ngIf",!A.editId),t.xp6(2),t.Q6J("task",A.task),t.xp6(2),t.Q6J("task",A.task),t.xp6(2),t.Q6J("task",A.task),t.xp6(2),t.Q6J("task",A.task),t.xp6(2),t.Q6J("task",A.task))},dependencies:[Ot.mk,Ot.O5,jt.Fj,jt.JJ,ZA.Zp,xA.ix,aA.w,pn.dQ,qe.Ls,$e.ZU,mn.j,jt.On,Nn.Ie,tA.SY,n0,i0,o0,c0,d0,si.m],styles:[".hidden-arrow[_ngcontent-%COMP%]{display:none!important}.dropdown-highlight[_ngcontent-%COMP%]:hover{background-color:#d0eefa54;border:#5587f5 1px solid;border-radius:3px}.plus-icon[_ngcontent-%COMP%]{display:none;position:absolute;right:0;z-index:1;top:0;bottom:0;height:100%}.expanded[_ngcontent-%COMP%]{transform:rotate(-90deg)}.sub-tasks-arrow[_ngcontent-%COMP%]{position:relative;cursor:pointer;left:3px;width:16px;padding:2px;border:1px solid transparent;z-index:1}.sub-tasks-arrow[_ngcontent-%COMP%]   .sub-arrow[_ngcontent-%COMP%]{width:10px;height:10px;color:#191919;margin-left:-2px}.task-name-text[_ngcontent-%COMP%]{border:1px solid transparent;padding-left:2px;border-radius:4px}.task-name-text[_ngcontent-%COMP%]:hover{border:1px solid #d9d9d9}.task-name[_ngcontent-%COMP%]{border:1px solid transparent}.task-name[_ngcontent-%COMP%]:hover{cursor:text;background:#fff;border-radius:4px}.highlight-col[_ngcontent-%COMP%]{border:1px solid #1890ff!important}.highlight-col[_ngcontent-%COMP%]   nz-date-picker[_ngcontent-%COMP%]{box-shadow:none}.editable[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{visibility:hidden}.editable[_ngcontent-%COMP%]:hover   .add-button[_ngcontent-%COMP%]{visibility:visible}.ant-popover[_ngcontent-%COMP%]{width:500px}.flex-table[_ngcontent-%COMP%]{display:flex}.rows[_ngcontent-%COMP%]   .flex-row[_ngcontent-%COMP%]{padding:3px 12px;border-bottom:1px solid #f0f0f0;border-right:1px solid #f0f0f0;background:white;display:flex;align-items:center;max-height:50px;border-radius:0}.rows[_ngcontent-%COMP%]:hover   .flex-row[_ngcontent-%COMP%]{background:#f8f7f9}.subtask[_ngcontent-%COMP%]   .flex-row[_ngcontent-%COMP%]{background:#fcfcfc}.task-check[_ngcontent-%COMP%]{text-align:center;padding:8px 6px!important;border-left:1px solid #f0f0f0;position:sticky;z-index:1;left:0}.task-arrow[_ngcontent-%COMP%]{width:20px;min-width:20px;padding:8px 11px 8px 2px!important;border-right:none!important;position:sticky;z-index:1;left:29px}.task-arrow.highlight-col[_ngcontent-%COMP%]{border-top:1px solid #188fff!important;border-left:1px solid #188fff!important;border-bottom:1px solid #188fff!important}.task-name[_ngcontent-%COMP%]{width:450px;min-width:450px;position:sticky;z-index:1;border-radius:0;padding-right:25px;left:29px}.task-name.highlight-col[_ngcontent-%COMP%]{border:1px solid #188fff!important}.task-status[_ngcontent-%COMP%]{width:120px;min-width:120px}.task-phase[_ngcontent-%COMP%]{width:150px;min-width:150px}.task-priority[_ngcontent-%COMP%]{width:120px;min-width:120px}.task-start-date[_ngcontent-%COMP%], .task-due-date[_ngcontent-%COMP%]{width:150px;min-width:150px}.task-due-date[_ngcontent-%COMP%]{padding:0!important}.task-due-date[_ngcontent-%COMP%]   .editable[_ngcontent-%COMP%]{align-items:center;display:flex}.task-name-text[_ngcontent-%COMP%]{width:100%;-webkit-line-clamp:1;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.inner-icon-cont[_ngcontent-%COMP%]{width:max-content;display:flex;justify-content:flex-end;align-items:center;column-gap:4px}.name-input[_ngcontent-%COMP%]{padding:5px 12px;border-left:1px solid transparent}.double-arrow[_ngcontent-%COMP%]{line-height:16px;border:none;cursor:pointer}.task-placeholder[_ngcontent-%COMP%]{width:100%;height:42px;border:1px dashed #d9d9d9;background:#fafafa}.task-open-btn[_ngcontent-%COMP%]{opacity:0;position:absolute;right:0;top:4px;background:whitesmoke;transition:.25s all}.task-name[_ngcontent-%COMP%]:hover   .task-open-btn[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),i})();var v0=ot(22096);function C0(r,i){1&r&&(t.TgZ(0,"div",12)(1,"div")(2,"h4",13),t._uU(3,"Tasks By Status"),t.qZA()()())}function B0(r,i){1&r&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",15),t._UZ(3,"img",16),t.qZA(),t.TgZ(4,"span",17),t._uU(5,"No tasks to show."),t.qZA()(),t.BQk())}function b0(r,i){if(1&r&&(t.TgZ(0,"li",24),t._UZ(1,"nz-badge",25),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("nzColor",n.color_code)("nzText",n.label+"("+n.tasks_count+")")("nzTooltipTitle",n.label)}}function y0(r,i){if(1&r&&(t.TgZ(0,"div",18)(1,"div",19),t._UZ(2,"canvas",20),t.qZA(),t.TgZ(3,"div",21)(4,"ul",22),t.YNc(5,b0,2,3,"li",23),t.qZA()()()),2&r){const n=t.oxw();t.xp6(2),t.Q6J("width",185)("height",185)("data",n.statusChartData)("options",n.chartOptions)("legend",!1)("type","doughnut"),t.xp6(3),t.Q6J("ngForOf",n.memberTasksStatusOverview)}}function x0(r,i){1&r&&(t.TgZ(0,"div",12)(1,"div")(2,"h4",13),t._uU(3,"Tasks By Priority"),t.qZA()()())}function T0(r,i){1&r&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",15),t._UZ(3,"img",16),t.qZA(),t.TgZ(4,"span",17),t._uU(5,"No tasks to show."),t.qZA()(),t.BQk())}function k0(r,i){if(1&r&&(t.TgZ(0,"li",24),t._UZ(1,"nz-badge",25),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("nzColor",n.color_code)("nzText",n.label+"("+n.tasks_count+")")("nzTooltipTitle",n.label)}}function Q0(r,i){if(1&r&&(t.TgZ(0,"div",18)(1,"div",19),t._UZ(2,"canvas",20),t.qZA(),t.TgZ(3,"div",21)(4,"ul",22),t.YNc(5,k0,2,3,"li",23),t.qZA()()()),2&r){const n=t.oxw();t.xp6(2),t.Q6J("width",185)("height",185)("data",n.priorityChartData)("options",n.chartOptions)("legend",!1)("type","doughnut"),t.xp6(3),t.Q6J("ngForOf",n.memberTasksPriorityOverview)}}function F0(r,i){1&r&&(t.TgZ(0,"div",12)(1,"div")(2,"h4",13),t._uU(3,"Tasks By Phase"),t.qZA()()())}function U0(r,i){1&r&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",15),t._UZ(3,"img",16),t.qZA(),t.TgZ(4,"span",17),t._uU(5,"No tasks have been assigned to phases."),t.qZA()(),t.BQk())}function I0(r,i){if(1&r&&(t.TgZ(0,"li",24),t._UZ(1,"nz-badge",25),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("nzColor",n.color_code)("nzText",n.label+"("+n.tasks_count+")")("nzTooltipTitle",n.label)}}function S0(r,i){if(1&r&&(t.TgZ(0,"div",18)(1,"div",19),t._UZ(2,"canvas",20),t.qZA(),t.TgZ(3,"div",21)(4,"ul",22),t.YNc(5,I0,2,3,"li",23),t.qZA()()()),2&r){const n=t.oxw();t.xp6(2),t.Q6J("width",185)("height",185)("data",n.phaseChartData)("options",n.chartOptions)("legend",!1)("type","doughnut"),t.xp6(3),t.Q6J("ngForOf",n.memberTasksPhaseOverview)}}function z0(r,i){1&r&&(t.TgZ(0,"div",12)(1,"div")(2,"h4",13),t._uU(3,"Tasks By Dates"),t.qZA()()())}function L0(r,i){1&r&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",15),t._UZ(3,"img",16),t.qZA(),t.TgZ(4,"span",17),t._uU(5,"No tasks to show."),t.qZA()(),t.BQk())}function E0(r,i){if(1&r&&(t.TgZ(0,"li",24),t._UZ(1,"nz-badge",25),t.ALo(2,"ellipsis"),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("nzColor",n.color_code)("nzText",t.xi3(2,3,n.label,19)+"("+n.tasks_count+")")("nzTooltipTitle",n.label)}}function M0(r,i){if(1&r&&(t.TgZ(0,"div",18)(1,"div",19),t._UZ(2,"canvas",20),t.qZA(),t.TgZ(3,"div",21)(4,"ul",22),t.YNc(5,E0,3,6,"li",23),t.qZA()()()),2&r){const n=t.oxw();t.xp6(2),t.Q6J("width",185)("height",185)("data",n.datesChartData)("options",n.chartOptions)("legend",!1)("type","doughnut"),t.xp6(3),t.Q6J("ngForOf",n.memberTasksDatesOverview)}}let N0=(()=>{var r;class i{constructor(e,A,s){this.cdr=e,this.api=A,this.service=s,this.teamMember=null,this.projectId=null,this.memberTasksStatusOverview=[],this.memberTasksPriorityOverview=[],this.memberTasksPhaseOverview=[],this.memberTasksDatesOverview=[],this.loading=!1,this.isStatusChartEmpty=!1,this.isPriorityChartEmpty=!1,this.isPhaseChartEmpty=!1,this.isDatesChartEmpty=!1,this.statusColors=[],this.priorityColors=[],this.phaseColors=[],this.datesColors=[],this.statusChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.statusColors,hoverOffset:2}]},this.priorityChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.priorityColors,hoverOffset:2}]},this.phaseChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.phaseColors,hoverOffset:2}]},this.datesChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.datesColors,hoverOffset:2}]},this.chartOptions={plugins:{datalabels:{display:!1}},responsive:!1},this.of=v0.of,this.service.updateOverviewCharts.pipe((0,ue.sL)()).subscribe(()=>{this.init()})}init(){this.getMemberOverviewData()}getMemberOverviewData(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId&&e.teamMember)try{e.loading=!0,e.clearCharts();const A=yield e.api.getMemberOverview(e.projectId,e.teamMember.team_member_id);A.done&&(e.memberTasksStatusOverview=A.body.by_status,e.memberTasksPriorityOverview=A.body.by_priority,e.memberTasksPhaseOverview=A.body.by_phase,e.memberTasksDatesOverview=A.body.by_dates,e.drawCharts(A.body)),e.loading=!1,e.cdr.markForCheck()}catch(A){e.loading=!1,(0,le.tu)(A),e.cdr.markForCheck()}})()}drawCharts(e){if(e.by_status){for(const A of e.by_status)this.statusChartData.labels?.push(A.label),this.statusChartData.datasets[0].data.push(A.tasks_count||0),this.statusColors.push(A.color_code);this.statusChart?.update(),this.statusChartData.datasets[0].data.every(A=>0===A)&&(this.isStatusChartEmpty=!0)}if(e.by_priority){for(const A of e.by_priority)this.priorityChartData.labels?.push(A.label),this.priorityChartData.datasets[0].data.push(A.tasks_count||0),this.priorityColors.push(A.color_code);this.priorityChart?.update(),this.priorityChartData.datasets[0].data.every(A=>0===A)&&(this.isPriorityChartEmpty=!0)}if(e.by_phase){for(const A of e.by_phase)this.phaseChartData.labels?.push(A.label),this.phaseChartData.datasets[0].data.push(A.tasks_count||0),this.phaseColors.push(A.color_code);this.phaseChart?.update(),this.phaseChartData.datasets[0].data.every(A=>0===A)&&(this.isPhaseChartEmpty=!0)}if(e.by_dates){for(const A of e.by_dates)this.datesChartData.labels?.push(A.label),this.datesChartData.datasets[0].data.push(A.tasks_count||0),this.datesColors.push(A.color_code);this.datesChart?.update(),this.datesChartData.datasets[0].data.every(A=>0===A)&&(this.isDatesChartEmpty=!0)}this.cdr.markForCheck()}clearCharts(){this.statusChartData.datasets[0].data=[],this.priorityChartData.datasets[0].data=[],this.phaseChartData.datasets[0].data=[],this.datesChartData.datasets[0].data=[],this.statusChartData.labels=[],this.priorityChartData.labels=[],this.phaseChartData.labels=[],this.datesChartData.labels=[],this.cdr.markForCheck()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(t.sBO),t.Y36(_g),t.Y36(Zr))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-overview-tab"]],viewQuery:function(e,A){if(1&e&&(t.Gf(nr.jh,5),t.Gf(nr.jh,5),t.Gf(nr.jh,5),t.Gf(nr.jh,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.statusChart=s.first),t.iGM(s=t.CRH())&&(A.priorityChart=s.first),t.iGM(s=t.CRH())&&(A.phaseChart=s.first),t.iGM(s=t.CRH())&&(A.datesChart=s.first)}},inputs:{teamMember:"teamMember",projectId:"projectId"},decls:30,vars:17,consts:[[1,"charts-holder"],["nz-row","",3,"nzGutter"],["nz-col","",1,"mb-2",3,"nzSpan"],[3,"nzTitle"],["statusCardTitle",""],[1,"card-content"],[4,"ngIf"],["class","d-flex",4,"ngIf"],["priorityCardTitle",""],["nz-col","",1,"mt-2","mb-2",3,"nzSpan"],["phaseCardTitle",""],["datesCardTitle",""],[1,"d-flex","align-items-center"],[1,"mb-0"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],[1,"d-flex"],[1,"position-relative",2,"max-width","200px"],["baseChart","",3,"width","height","data","options","legend","type"],[1,"chart-details","ms-3"],[1,"list-unstyled"],["class","mb-1 chart-label",4,"ngFor","ngForOf"],[1,"mb-1","chart-label"],["nz-tooltip","",3,"nzColor","nzText","nzTooltipTitle"]],template:function(e,A){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nz-card",3),t.YNc(4,C0,4,0,"ng-template",null,4,t.W1O),t.TgZ(6,"div",5),t.YNc(7,B0,6,0,"ng-container",6),t.YNc(8,y0,6,7,"div",7),t.qZA()()(),t.TgZ(9,"div",2)(10,"nz-card",3),t.YNc(11,x0,4,0,"ng-template",null,8,t.W1O),t.TgZ(13,"div",5),t.YNc(14,T0,6,0,"ng-container",6),t.YNc(15,Q0,6,7,"div",7),t.qZA()()(),t.TgZ(16,"div",9)(17,"nz-card",3),t.YNc(18,F0,4,0,"ng-template",null,10,t.W1O),t.TgZ(20,"div",5),t.YNc(21,U0,6,0,"ng-container",6),t.YNc(22,S0,6,7,"div",7),t.qZA()()(),t.TgZ(23,"div",9)(24,"nz-card",3),t.YNc(25,z0,4,0,"ng-template",null,11,t.W1O),t.TgZ(27,"div",5),t.YNc(28,L0,6,0,"ng-container",6),t.YNc(29,M0,6,7,"div",7),t.qZA()()()()()),2&e){const s=t.MAs(5),o=t.MAs(12),p=t.MAs(19),f=t.MAs(26);t.xp6(1),t.Q6J("nzGutter",16),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",s),t.xp6(4),t.Q6J("ngIf",A.isStatusChartEmpty),t.xp6(1),t.Q6J("ngIf",!A.loading&&!A.isStatusChartEmpty),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",o),t.xp6(4),t.Q6J("ngIf",A.isPriorityChartEmpty),t.xp6(1),t.Q6J("ngIf",!A.loading&&!A.isPriorityChartEmpty),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",p),t.xp6(4),t.Q6J("ngIf",A.isPhaseChartEmpty),t.xp6(1),t.Q6J("ngIf",!A.loading&&!A.isPhaseChartEmpty),t.xp6(1),t.Q6J("nzSpan",12),t.xp6(1),t.Q6J("nzTitle",f),t.xp6(4),t.Q6J("ngIf",A.isDatesChartEmpty),t.xp6(1),t.Q6J("ngIf",!A.loading&&!A.isDatesChartEmpty)}},dependencies:[Ot.sg,Ot.O5,LA.t3,LA.SK,$e.ZU,tA.SY,wn.bd,ur.x7,nr.jh,Lo.p],styles:[".chart-details[_ngcontent-%COMP%]{height:220px;max-height:220px;overflow-y:auto}.no-data-img-holder[_ngcontent-%COMP%]{width:65px}.charts-holder[_ngcontent-%COMP%]{max-width:880px;margin-left:auto;margin-right:auto}"],changeDetection:0}),i})();const O0=["taskInput"];function P0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"form",3)(1,"input",4,5),t.NdJ("blur",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.onInputBlur())})("keyup.enter",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.addInstantTask())}),t.qZA()()}if(2&r){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("nzBorderless",!0)("formControlName","name")("readOnly",n.creating)}}function D0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.focusTaskInput())}),t._UZ(1,"span",7),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&r){const n=t.oxw();t.uIk("id",n.id),t.xp6(1),t.Q6J("nzType",n.creating?"loading":"plus")("nzTheme","outline"),t.xp6(2),t.hij(" ",n.label,"")}}let H0=(()=>{var r;class i{get profile(){return this.auth.getCurrentSession()}constructor(e,A,s,o,p,f,w){this.socket=e,this.auth=A,this.fb=s,this.service=o,this.ngZone=p,this.cdr=f,this.map=w,this.teamMember=null,this.projectId=null,this.groupId=null,this.label="Add Task",this.focusChange=new t.vpe,this.taskInputVisible=!1,this.creating=!1,this.session=null,this.id=(0,le.q$)(4),this._session=null,this.form=this.fb.group({name:[null,[jt.kI.required,jt.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]]}),this._session=this.auth.getCurrentSession()}ngOnInit(){this.session=this.auth.getCurrentSession()}focusTaskInput(){this.taskInputVisible=!0,this.focusChange.emit(this.taskInputVisible),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.taskInput?.nativeElement.focus(),this.taskInput?.nativeElement.select()},100)})}addTaskInputBlur(){this.taskInputVisible=!1,this.focusChange.emit(this.taskInputVisible)}onInputBlur(){var e=this;return(0,Ft.Z)(function*(){e.isValidInput()?yield e.addInstantTask():e.addTaskInputBlur()})()}createRequest(){if(!this.projectId||!this._session)return null;const e=this._session,A={name:this.form.value.name,project_id:this.projectId,reporter_id:e.id,team_id:e.team_id},s=this.service.getCurrentGroup();return s.value===this.service.GROUP_BY_STATUS_VALUE?A.status_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PRIORITY_VALUE?A.priority_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PHASE_VALUE&&(A.phase_id=this.groupId||void 0),A}isValidInput(){return this.form.valid&&this.form.value.name.trim().length}addInstantTask(){var e=this;return(0,Ft.Z)(function*(){if(!e.creating&&e.projectId&&e._session&&e.isValidInput()){try{const A=e.createRequest();if(!A)return;e.creating=!0,e.socket.emit(Et.C.QUICK_TASK.toString(),JSON.stringify(A)),e.socket.once(Et.C.QUICK_TASK.toString(),s=>{const o={team_member_id:e.teamMember?.team_member_id,project_id:s.project_id,task_id:s.id,reporter_id:e.session?.id,mode:0};e.socket.emit(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),JSON.stringify(o)),e.socket.once(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),p=>{e.creating=!1,e.onNewTaskReceived(s),e.cdr.markForCheck()})})}catch{e.creating=!1}e.cdr.markForCheck()}})()}reset(e=!0){this.creating=!1,this.form.controls.name.setValue(null),this.taskInputVisible=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.taskInput?.nativeElement.focus(),e&&window.scrollTo(0,document.body.scrollHeight)},Ze.GR)}),this.cdr.markForCheck()}onNewTaskReceived(e){if(this.groupId&&e.id){if(this.map.has(e.id))return;this.service.addTask(e,this.groupId),this.service.emitRefreshMembers(),this.reset(!1)}}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(je.s),t.Y36(TA.e),t.Y36(jt.qu),t.Y36(Zr),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(Tl))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-member-task-add-container"]],viewQuery:function(e,A){if(1&e&&t.Gf(O0,5),2&e){let s;t.iGM(s=t.CRH())&&(A.taskInput=s.first)}},inputs:{teamMember:"teamMember",projectId:"projectId",groupId:"groupId",label:"label"},outputs:{focusChange:"focusChange"},decls:3,vars:3,consts:[[3,"ngSwitch"],[3,"formGroup",4,"ngSwitchCase"],["class","editable-row d-block w-25 task-name",3,"click",4,"ngSwitchCase"],[3,"formGroup"],["nz-input","","type","text","tabindex","1","placeholder","Type your task and hit enter",3,"nzBorderless","formControlName","readOnly","blur","keyup.enter"],["taskInput",""],[1,"editable-row","d-block","w-25","task-name",3,"click"],["nz-icon","",1,"input-icon",3,"nzType","nzTheme"]],template:function(e,A){1&e&&(t.ynx(0,0),t.YNc(1,P0,3,4,"form",1),t.YNc(2,D0,4,4,"div",2),t.BQk()),2&e&&(t.Q6J("ngSwitch",A.taskInputVisible),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1))},dependencies:[Ot.RF,Ot.n9,jt._Y,jt.Fj,jt.JJ,jt.JL,jt.sg,jt.u,ZA.Zp,aA.w,qe.Ls],styles:[".input-icon[_ngcontent-%COMP%]{font-size:11px}.task-name[_ngcontent-%COMP%]{border:1px solid transparent}.task-name[_ngcontent-%COMP%]:hover{cursor:text;background:#fff;border:1px solid #bfbfbf;border-radius:4px}"]}),i})(),Z0=(()=>{var r;class i{get phaseLabel(){return this.phasesService.label}constructor(e,A,s,o,p){this.service=e,this.map=A,this.cdr=s,this.phasesService=o,this.auth=p,this.headerCls="d-flex header mb-0 flex-row",this.selectChange=new t.vpe,this.checked=!1,this.indeterminate=!1,this.map.onDeselectAll$.pipe((0,ue.sL)()).subscribe(()=>{this.checked=!1,this.indeterminate=!1,this.cdr.markForCheck()}),this.phasesService.onLabelChange.pipe((0,ue.sL)()).subscribe(f=>{this.cdr.markForCheck()}),(0,No.T)(this.map.onSelect$,this.map.onDeselect$).pipe((0,ue.sL)()).subscribe(()=>{this.map.isAllDeselected(this.groupId)?(this.checked=!1,this.indeterminate=!1):this.map.isAllSelected(this.groupId)?(this.checked=!0,this.indeterminate=!1):this.indeterminate=!0,this.cdr.markForCheck()})}onAllChecked(e){this.selectChange?.emit(e)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Mn.b),t.Y36(Oo.g),t.Y36(t.sBO),t.Y36(zd.u),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-task-list-header"]],hostVars:2,hostBindings:function(e,A){2&e&&t.Tol(A.headerCls)},inputs:{groupId:"groupId"},outputs:{selectChange:"selectChange"},decls:21,vars:7,consts:[[1,"flex-row","task-check"],["nz-checkbox","",1,"visibility-hidden",3,"nzChecked","nzIndeterminate","nzCheckedChange"],[1,"flex-row","task-name"],[1,"flex-row","task-status"],[1,"flex-row","task-priority"],[1,"flex-row","task-phase","d-flex","justify-content-between","align-items-center"],["nz-tooltip","",3,"nzTooltipTitle"],[1,"flex-row","task-start-date"],[1,"flex-row","task-due-date"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t.NdJ("nzCheckedChange",function(o){return A.checked=o})("nzCheckedChange",function(o){return A.onAllChecked(o)}),t.qZA()(),t.TgZ(2,"div",2),t._uU(3,"Task"),t.qZA(),t.ynx(4),t.TgZ(5,"div",3),t._uU(6,"Status"),t.qZA(),t.BQk(),t.ynx(7),t.TgZ(8,"div",4),t._uU(9,"Priority"),t.qZA(),t.BQk(),t.ynx(10),t.TgZ(11,"div",5)(12,"span",6),t._uU(13),t.ALo(14,"ellipsis"),t.qZA()(),t.BQk(),t.ynx(15),t.TgZ(16,"div",7),t._uU(17,"Start Date"),t.qZA(),t.BQk(),t.ynx(18),t.TgZ(19,"div",8),t._uU(20,"Due Date"),t.qZA(),t.BQk()),2&e&&(t.xp6(1),t.Q6J("nzChecked",A.checked)("nzIndeterminate",A.indeterminate),t.xp6(11),t.Q6J("nzTooltipTitle",A.phaseLabel),t.xp6(1),t.Oqu(t.xi3(14,4,A.phaseLabel,10)))},dependencies:[Nn.Ie,tA.SY,Lo.p],styles:[".flex-row[_ngcontent-%COMP%]{padding:4px 11px;background-color:#fafafa;border-top:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0;border-right:1px solid #f0f0f0;display:flex;align-items:center;flex-direction:row}.task-check[_ngcontent-%COMP%]{text-align:center;padding:8px 6px!important;border-left:1px solid #f0f0f0;position:sticky;left:0;z-index:1}.task-name[_ngcontent-%COMP%]{width:450px;min-width:450px;position:sticky;left:29px;z-index:1}.task-name[_ngcontent-%COMP%]   nz-filter-trigger[_ngcontent-%COMP%]{margin-left:auto}.task-name.left-0[_ngcontent-%COMP%]{left:47px}.task-status[_ngcontent-%COMP%]{width:120px;min-width:120px}.task-phase[_ngcontent-%COMP%]{width:150px;min-width:150px}.task-priority[_ngcontent-%COMP%]{width:120px;min-width:120px}.task-start-date[_ngcontent-%COMP%], .task-due-date[_ngcontent-%COMP%]{width:150px;min-width:150px}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),i})();const j0=["contextMenuDropdown"];function R0(r,i){if(1&r&&t._uU(0),2&r){const n=t.oxw().$implicit;t.hij(" ",(null==n?null:n.name)||null," ")}}function K0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",7),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw();return t.KtG(o.changeGroup(s.id))}),t._UZ(1,"nz-badge",8),t.ALo(2,"safeString"),t.YNc(3,R0,1,1,"ng-template",null,9,t.W1O),t.qZA()}if(2&r){const n=i.$implicit,e=t.MAs(4);t.xp6(1),t.Q6J("nzColor",t.lcZ(2,2,n.color_code))("nzText",e)}}function G0(r,i){1&r&&(t._UZ(0,"span",10),t._uU(1," Move to\n"))}let J0=(()=>{var r;class i{get profile(){return this.auth.getCurrentSession()}constructor(e,A,s,o,p,f){this.contextMenuService=e,this.service=A,this.map=s,this.socket=o,this.cdr=p,this.auth=f,this.projectId=null,this.teamMemberId=null,this.groups=[],this.removing=!1,this.selectedTask=null,this.id=(0,le.q$)(4),this._session=null,this.destroy$=new SA.x,this.handleMemberChangeResponse=w=>{try{w&&w.id&&(this.service.deleteTask(w.id),this.cdr.markForCheck())}catch{}},this.service.onContextMenu$.pipe((0,Ve.R)(this.destroy$)).subscribe(w=>{this.onContextMenu(w)}),this._session=this.auth.getCurrentSession()}onContextMenu(e){this.selectedTask=e.task,this.map.deselectAll(),this.map.selectTask(e.task),this.cdr.detectChanges(),this.contextMenuService.create(e.event,this.contextMenuDropdown)}removeMember(){if(!this._session||!this.selectedTask||!this.teamMemberId)return;const e={team_member_id:this.teamMemberId,project_id:this.projectId,task_id:this.selectedTask.id,reporter_id:this._session.id,mode:1,parent_task:this.selectedTask.parent_task_id};this.socket.emit(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),JSON.stringify(e)),this.socket.once(Et.C.QUICK_ASSIGNEES_UPDATE.toString(),()=>{this.service.emitRemoveMembersTask(e.task_id)})}changeGroup(e){if(!this.selectedTask)return;const A=this.service.getCurrentGroup();A.value===this.service.GROUP_BY_STATUS_VALUE?this.handleStatusChange(e,this.selectedTask.id):A.value===this.service.GROUP_BY_PRIORITY_VALUE?this.handlePriorityChange(e,this.selectedTask.id):A.value===this.service.GROUP_BY_PHASE_VALUE&&this.handlePhaseChange(e,this.selectedTask.id)}handleStatusChange(e,A){A&&(this.socket.emit(Et.C.TASK_STATUS_CHANGE.toString(),JSON.stringify({task_id:A,status_id:e,team_id:this.auth.getCurrentSession()?.team_id})),this.service.getCurrentGroup().value===this.service.GROUP_BY_STATUS_VALUE&&this.selectedTask&&(this.service.updateTaskGroup(this.selectedTask,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())}handlePriorityChange(e,A){A&&(this.socket.emit(Et.C.TASK_PRIORITY_CHANGE.toString(),JSON.stringify({task_id:A,priority_id:e})),this.service.getCurrentGroup().value===this.service.GROUP_BY_PRIORITY_VALUE&&this.selectedTask&&(this.service.updateTaskGroup(this.selectedTask,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())}handlePhaseChange(e,A){A&&(this.socket.emit(Et.C.TASK_PHASE_CHANGE.toString(),{task_id:A,phase_id:e}),this.service.getCurrentGroup().value===this.service.GROUP_BY_PHASE_VALUE&&this.selectedTask&&(this.service.updateTaskGroup(this.selectedTask,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(Xe.Iw),t.Y36(Zr),t.Y36(Tl),t.Y36(je.s),t.Y36(t.sBO),t.Y36(TA.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-wl-context-menu"]],viewQuery:function(e,A){if(1&e&&t.Gf(j0,5),2&e){let s;t.iGM(s=t.CRH())&&(A.contextMenuDropdown=s.first)}},inputs:{projectId:"projectId",teamMemberId:"teamMemberId",groups:"groups"},decls:11,vars:4,consts:[["contextMenuDropdown","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","",1,"me-2",3,"nzType","nzTheme"],["nz-submenu","",3,"nzTitle"],["class","m-0","nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["titleTemplate",""],["nz-menu-item","",1,"m-0",3,"click"],[3,"nzColor","nzText"],["textTmpl",""],["nz-icon","","nzType","retweet","nzTheme","outline",1,"me-2"]],template:function(e,A){if(1&e&&(t.TgZ(0,"nz-dropdown-menu",null,0)(2,"ul",1)(3,"li",2),t.NdJ("click",function(){return A.removeMember()}),t._UZ(4,"span",3),t._uU(5," Remove from member "),t.qZA(),t.TgZ(6,"li",4)(7,"ul"),t.YNc(8,K0,5,4,"li",5),t.qZA()()()(),t.YNc(9,G0,2,0,"ng-template",null,6,t.W1O)),2&e){const s=t.MAs(10);t.xp6(4),t.Q6J("nzType",A.removing?"loading":"user-delete")("nzTheme","outline"),t.xp6(2),t.Q6J("nzTitle",s),t.xp6(2),t.Q6J("ngForOf",A.groups)}},dependencies:[Ot.sg,aA.w,qe.Ls,ur.x7,wA.wO,wA.r9,wA.rY,Xe.RR,si.m],changeDetection:0}),i})();function Y0(r,i){1&r&&(t.TgZ(0,"label",18),t._uU(1,"Group by: "),t.qZA())}function q0(r,i){if(1&r&&(t.TgZ(0,"button",19)(1,"span",20),t._uU(2),t.ALo(3,"ellipsis"),t.qZA(),t._UZ(4,"span",21),t.qZA()),2&r){t.oxw();const n=t.MAs(4),e=t.oxw(2);t.Q6J("nzTrigger","click")("nzDropdownMenu",n)("nzClickHide",!0),t.xp6(1),t.Q6J("nzTooltipTitle",e.selectedGroup.label),t.xp6(1),t.hij(" ",t.xi3(3,6,e.selectedGroup.label,15)," "),t.xp6(2),t.Q6J("nzType","caret-down")}}function V0(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"li",22),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw(3);return t.KtG(o.changeGroup(s))}),t.TgZ(1,"span",23),t._uU(2),t.qZA()()}if(2&r){const n=i.$implicit,e=t.oxw(3);t.Q6J("nzSelected",n.value===e.selectedGroup.value),t.xp6(2),t.Oqu(n.label)}}function W0(r,i){if(1&r&&(t.TgZ(0,"nz-space",12),t.YNc(1,Y0,2,0,"label",13),t.YNc(2,q0,5,9,"button",14),t.TgZ(3,"nz-dropdown-menu",null,15)(5,"ul",16),t.YNc(6,V0,3,2,"li",17),t.qZA()()()),2&r){const n=t.oxw(2);t.xp6(6),t.Q6J("ngForOf",n.service.GROUP_BY_OPTIONS)("ngForTrackBy",n.trackById)}}function X0(r,i){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"worklenz-wl-task-list-row",36,37),t.NdJ("onShowSubTasks",function(A){t.CHM(n);const s=t.MAs(2),o=t.oxw(2).$implicit,p=t.oxw(4);return t.KtG(p.unuseFunc(A,s,o.id))})("onOpenTask",function(A){t.CHM(n);const s=t.oxw(6);return t.KtG(s.openTask(A))}),t.qZA(),t.BQk()}if(2&r){const n=i.$implicit,e=t.oxw(6);t.xp6(1),t.ekj("selected",(null==e.selectedTask?null:e.selectedTask.id)===n.id),t.Q6J("task",n)}}function $0(r,i){1&r&&(t.TgZ(0,"div",38),t._uU(1," No tasks available "),t.qZA())}function t2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",29),t._UZ(1,"worklenz-task-list-header",30),t.YNc(2,X0,3,3,"ng-container",31),t.YNc(3,$0,2,0,"div",32),t.TgZ(4,"div",33,34)(6,"worklenz-member-task-add-container",35),t.NdJ("focusChange",function(A){t.CHM(n);const s=t.MAs(5),o=t.oxw(5);return t.KtG(o.handleFocusChange(A,s))}),t.qZA()()()}if(2&r){const n=t.oxw().$implicit,e=t.oxw(4);t.xp6(1),t.Q6J("groupId",n.id),t.xp6(1),t.Q6J("ngForOf",n.tasks)("ngForTrackBy",e.trackById),t.xp6(1),t.Q6J("ngIf",!n.tasks.length),t.xp6(3),t.Q6J("projectId",e.projectId)("teamMember",e.teamMember)("groupId",n.id)}}function e2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",25)(1,"div",26),t.NdJ("click",function(){const s=t.CHM(n).$implicit,o=t.oxw(4);return t.KtG(o.toggleCollapse(s))}),t._UZ(2,"span",27),t._uU(3),t.qZA(),t.YNc(4,t2,7,7,"div",28),t.qZA()}if(2&r){const n=i.$implicit;t.xp6(1),t.Udp("background-color",n.color_code),t.xp6(1),t.Q6J("nzType",null!=n&&n.isExpand?"down":"right"),t.xp6(1),t.AsE(" ",n.name," (",n.tasks.length,") "),t.xp6(1),t.Q6J("ngIf",n&&(null==n?null:n.isExpand))}}function A2(r,i){if(1&r&&(t.ynx(0),t.YNc(1,e2,5,6,"div",24),t.BQk()),2&r){const n=t.oxw(3);t.xp6(1),t.Q6J("rxForOf",n.groups)("rxForTrackBy",n.trackById)}}function n2(r,i){if(1&r&&(t.ynx(0),t.YNc(1,A2,2,2,"ng-container",11),t.BQk()),2&r){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0!=n.activeTab)}}function r2(r,i){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"nz-tabset",6),t.NdJ("nzSelectedIndexChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.tabChange(A))}),t.TgZ(2,"nz-tab",7),t._UZ(3,"worklenz-overview-tab",8),t.qZA(),t._UZ(4,"nz-tab",7)(5,"nz-tab",7)(6,"nz-tab",7)(7,"nz-tab",7),t.qZA(),t.YNc(8,W0,7,2,"nz-space",9),t.TgZ(9,"nz-skeleton",10),t.YNc(10,n2,2,1,"ng-container",11),t.qZA(),t.BQk()}if(2&r){const n=t.oxw();t.xp6(1),t.Q6J("nzAnimated",!1)("nzType","card")("nzSelectedIndex",n.activeTab),t.xp6(1),t.Q6J("nzTitle","Overview"),t.xp6(1),t.Q6J("teamMember",n.teamMember)("projectId",n.projectId),t.xp6(1),t.Q6J("nzTitle","All Tasks"),t.xp6(1),t.Q6J("nzTitle","Tasks without Start date"),t.xp6(1),t.Q6J("nzTitle","Tasks without End date"),t.xp6(1),t.Q6J("nzTitle","Tasks without Start & End dates"),t.xp6(1),t.Q6J("ngIf",0!=n.activeTab),t.xp6(1),t.ekj("p-4",n.loading),t.Q6J("nzActive",!0)("nzLoading",n.loadingGroups),t.xp6(1),t.Q6J("ngIf",n.teamMember)}}function i2(r,i){if(1&r&&(t._UZ(0,"nz-avatar",40),t.ALo(1,"firstCharUpper")),2&r){const n=t.oxw(2);t.Udp("background-color",n.teamMember.avatar_url?"#ececec":n.getColor(n.teamMember.name)),t.Q6J("nzSize",28)("nzText",t.lcZ(1,5,n.teamMember.name))("nzSrc",n.teamMember.avatar_url)}}function s2(r,i){if(1&r&&(t.YNc(0,i2,2,7,"nz-avatar",39),t._uU(1)),2&r){const n=t.oxw();t.Q6J("ngIf",n.teamMember),t.xp6(1),t.hij(" ",null==n.teamMember?null:n.teamMember.name,"\n")}}function o2(r,i){1&r&&t._UZ(0,"span",41),2&r&&t.Q6J("nzType","close")("nzTheme","outline")}let a2=(()=>{var r;class i{get show(){return this._show}set show(e){e!==this._show&&(this._show=e)}get groups(){return this.service.groups}get selectedGroup(){return this.service.getCurrentGroup()}constructor(e,A,s,o,p,f,w,b,y,k,v,M){var L=this;this.cdr=e,this.api=A,this.ngZone=s,this.map=o,this.socket=p,this.renderer=f,this.service=w,this.utils=b,this.statusesApi=y,this.prioritiesApi=k,this.phasesApi=v,this.taskViewService=M,this._show=!1,this.teamMember=null,this.projectId=null,this.activeTab=0,this.showChange=new t.vpe,this.onOpenTask=new t.vpe,this.DRAWER_CLOSE_TIME=100,this.BODY_STYLE={padding:0,overflowX:"hidden",overflowY:"auto"},this.loading=!1,this.loadingGroups=!1,this.loadingStatuses=!1,this.loadingPriorities=!1,this.loadingPhases=!1,this.loadingCategories=!1,this.groupIds=[],this.selectedTask=null,this.categories=[],this.service.setCurrentGroup(this.service.GROUP_BY_OPTIONS[0]),this.taskViewService.onSingleMemberChange.pipe((0,ue.sL)()).subscribe(function(){var Z=(0,Ft.Z)(function*(z){z===L.teamMember?.team_member_id&&(yield L.getGroups(!1)),L.cdr.markForCheck()});return function(z){return Z.apply(this,arguments)}}()),this.taskViewService.onDelete.pipe((0,ue.sL)()).subscribe(function(){var Z=(0,Ft.Z)(function*(z){L.init()});return function(z){return Z.apply(this,arguments)}}()),this.service.onRemoveMembersTask.pipe((0,ue.sL)()).subscribe(Z=>{this.service.deleteTask(Z)})}tabChange(e){switch(this.activeTab=e,e){case 0:this.service.emitUpdateOverviewCharts();break;case 1:this.service.currentTab="",this.getGroups(!0);break;case 2:this.service.currentTab="start_date_null",this.getGroups(!0);break;case 3:this.service.currentTab="end_date_null",this.getGroups(!0);break;case 4:this.service.currentTab="start_end_dates_null",this.getGroups(!0)}}init(){this.service.isSubtasksIncluded=!0,t0.JD.all([this.tabChange(this.activeTab),this.getStatuses(),this.getPriorities(),this.getCategories(),this.getPhases()])}getConf(e){const A={id:this.projectId,members:this.teamMember?this.teamMember.team_member_id:"",archived:!1,group:this.service.getCurrentGroup().value,isSubtasksInclude:!1,dateChecker:this.service.currentTab};return e&&(A.parent_task=e),A}getGroups(e=!0){var A=this;return(0,Ft.Z)(function*(){if(A.projectId&&A.teamMember){try{A.map.deselectAll(),A.loadingGroups=e;const s=A.getConf();s.isSubtasksInclude=A.service.isSubtasksIncluded;const o=yield A.api.getTasksByMember(s);if(o.done){const p=(0,le.I8)(o.body);A.groupIds=p.map(f=>f.id),A.mapTasks(p),A.service.groups=p}A.loadingGroups=!1}catch{A.loadingGroups=!1}A.cdr.markForCheck()}})()}mapTasks(e){for(const A of e){this.map.registerGroup(A);for(const s of A.tasks)s.start_date&&(s.start_date=new Date(s.start_date)),s.end_date&&(s.end_date=new Date(s.end_date))}}getStatuses(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId)try{e.loadingStatuses=!0;const A=yield e.statusesApi.get(e.projectId);A.done&&(e.service.statuses=A.body),e.loadingStatuses=!1}catch{e.loadingStatuses=!1}})()}getPriorities(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingPriorities=!0;const A=yield e.prioritiesApi.get();A.done&&(e.service.priorities=A.body),e.loadingPriorities=!1}catch{e.loadingPriorities=!1}})()}getCategories(){var e=this;return(0,Ft.Z)(function*(){try{e.loadingCategories=!0;const A=yield e.statusesApi.getCategories();A.done&&(e.categories=A.body),e.loadingCategories=!1}catch{e.loadingCategories=!1}})()}getPhases(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId)try{const A=yield e.phasesApi.get(e.projectId);A.done&&(e.service.phases=A.body)}catch{}})()}handleCancel(){this._show&&(this._show=!1,this.showChange.emit(this._show))}onVisibilityChange(e){e&&setTimeout(()=>this.init(),this.DRAWER_CLOSE_TIME)}getColor(e){return Ze.Lj[e?.charAt(0).toUpperCase()||"A"]}trackById(e,A){return A.id}openTask(e){this.onOpenTask.emit(e),this.cdr.markForCheck()}toggleCollapse(e){var A=this;return(0,Ft.Z)(function*(){A.isTaskListGroup(e)&&(e.isExpand=!e.isExpand),A.cdr.detectChanges()})()}isTaskListGroup(e){return void 0!==e.tasks}toggleFocusCls(e,A){e?this.renderer.addClass(A,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(A,this.service.HIGHLIGHT_COL_CLS)}changeGroup(e){this.service.setCurrentGroup(e),this.init()}handleFocusChange(e,A){this.ngZone.runOutsideAngular(()=>{this.toggleFocusCls(e,A)})}unuseFunc(e,A,s){}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(t.sBO),t.Y36(_g),t.Y36(t.R0b),t.Y36(Tl),t.Y36(je.s),t.Y36(t.Qsj),t.Y36(Zr),t.Y36(En.F),t.Y36(Ls.w),t.Y36(Al.s),t.Y36(e0.f),t.Y36(Wi.f))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-member-tasks-drawer"]],inputs:{show:"show",teamMember:"teamMember",projectId:"projectId",activeTab:"activeTab"},outputs:{showChange:"showChange",onOpenTask:"onOpenTask"},decls:8,vars:9,consts:[[3,"nzVisible","nzWidth","nzBodyStyle","nzCloseIcon","nzTitle","nzWrapClassName","nzOnClose","nzVisibleChange"],[1,"d-block"],[4,"nzDrawerContent"],["titleTemplate",""],["iconTemplate",""],[3,"teamMemberId","projectId","groups"],[1,"task-drawer-tabset","pb-0",3,"nzAnimated","nzType","nzSelectedIndex","nzSelectedIndexChange"],[3,"nzTitle"],[3,"teamMember","projectId"],["class","align-items-center p-skel mb-3",4,"ngIf"],[1,"p-skel",3,"nzActive","nzLoading"],[4,"ngIf"],[1,"align-items-center","p-skel","mb-3"],["class","ms-1",4,"nzSpaceItem"],["nz-button","","nz-dropdown","","class","ms-1",3,"nzTrigger","nzDropdownMenu","nzClickHide",4,"nzSpaceItem"],["groupByMenu",""],["nz-menu",""],["class","m-0","nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ms-1"],["nz-button","","nz-dropdown","",1,"ms-1",3,"nzTrigger","nzDropdownMenu","nzClickHide"],["nz-tooltip","",3,"nzTooltipTitle"],["nz-icon","",3,"nzType"],["nz-menu-item","",1,"m-0",3,"nzSelected","click"],["nz-typography",""],["class","mb-3",4,"rxFor","rxForOf","rxForTrackBy"],[1,"mb-3"],[1,"group-heading","cursor-pointer",3,"click"],["nz-icon","","nzTheme","outline",1,"me-2",3,"nzType"],["class","tasks-container",4,"ngIf"],[1,"tasks-container"],[3,"groupId"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","tasks-empty-placeholder d-flex align-items-center mb-0 ps-3","nz-typography","","nzType","secondary",4,"ngIf"],[1,"new-task-input"],["td1",""],[3,"projectId","teamMember","groupId","focusChange"],[3,"task","onShowSubTasks","onOpenTask"],["row",""],["nz-typography","","nzType","secondary",1,"tasks-empty-placeholder","d-flex","align-items-center","mb-0","ps-3"],["class","me-2",3,"nzSize","nzText","background-color","nzSrc",4,"ngIf"],[1,"me-2",3,"nzSize","nzText","nzSrc"],["nz-icon","",3,"nzType","nzTheme"]],template:function(e,A){if(1&e&&(t.TgZ(0,"nz-drawer",0),t.NdJ("nzOnClose",function(){return A.handleCancel()})("nzVisibleChange",function(o){return A.onVisibilityChange(o)})("nzVisibleChange",function(o){return A.show=o}),t.TgZ(1,"div",1),t.YNc(2,r2,11,16,"ng-container",2),t.qZA()(),t.YNc(3,s2,2,2,"ng-template",null,3,t.W1O),t.YNc(5,o2,1,2,"ng-template",null,4,t.W1O),t._UZ(7,"worklenz-wl-context-menu",5)),2&e){const s=t.MAs(4),o=t.MAs(6);t.Q6J("nzVisible",A.show)("nzWidth",920)("nzBodyStyle",A.BODY_STYLE)("nzCloseIcon",o)("nzTitle",s)("nzWrapClassName","task-form-drawer-opened task-view"),t.xp6(7),t.Q6J("teamMemberId",A.teamMember?A.teamMember.team_member_id:null)("projectId",A.projectId)("groups",A.groups)}},dependencies:[Ot.sg,Ot.O5,xA.ix,aA.w,pn.dQ,$i.xH,$i.xw,qe.Ls,$e.ZU,Or.Dz,tA.SY,ln.ng,Qn.NU,Qn.$1,lr.Vz,lr.SQ,wA.wO,wA.r9,Xe.cm,Xe.RR,Xe.wA,S1._,w0,N0,H0,Z0,J0,es.I,Lo.p],styles:[".group-heading[_ngcontent-%COMP%]{max-width:max-content;width:max-content;padding:6px 16px 6px 6px;border-top-right-radius:4px;border-top-left-radius:4px}.p-skel[_ngcontent-%COMP%]{padding-left:24px}.tasks-container[_ngcontent-%COMP%]{max-width:880px;overflow-x:auto}.new-task-input[_ngcontent-%COMP%]{padding-left:4px;padding-top:4px;padding-bottom:4px;border-bottom:1px solid #f0f0f0;border-right:1px solid #f0f0f0;border-left:1px solid #f0f0f0;max-width:880px;overflow-x:auto;position:sticky;left:0}.tasks-empty-placeholder[_ngcontent-%COMP%]{width:100%;height:42px;background:#fafafa;border-left:1px solid #f0f0f0;border-right:1px solid #f0f0f0;left:0;position:sticky}"],changeDetection:0}),i})();const c2=["scroller"],l2=["fixed_right_column"],u2=["fixed_left_column"],d2=["custom_tooltip_element"],h2=["duration_indicator"];function p2(r,i){if(1&r&&(t.TgZ(0,"div",8),t.ynx(1),t.TgZ(2,"div",9)(3,"div",10),t._UZ(4,"img",11),t.qZA(),t.TgZ(5,"span",12),t._uU(6,"No tasks have been assigned to project members."),t.qZA(),t.TgZ(7,"a",13),t._uU(8,"Assign tasks to members."),t.qZA()(),t.BQk(),t.qZA()),2&r){const n=t.oxw();t.xp6(7),t.Q6J("href","/opom/projects/"+n.projectId+"?group=status",t.LSH)}}function f2(r,i){if(1&r&&(t._UZ(0,"nz-avatar",55),t.ALo(1,"firstCharUpper")),2&r){const n=t.oxw(2).$implicit,e=t.oxw(3);t.Udp("background-color",n.avatar_url?"#ececec":e.getColor(n.name)),t.Q6J("nzSize",28)("nzText",t.lcZ(1,5,n.name))("nzSrc",n.avatar_url)}}function g2(r,i){1&r&&(t.TgZ(0,"span",56),t._uU(1," No start date or end date assigned "),t.qZA())}function m2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"span",56)(1,"span",57),t.NdJ("click",function(A){t.CHM(n);const s=t.oxw(2).$implicit;return t.oxw(3).afterViewScrollHandler(s.indicator_offset),t.KtG(A.stopPropagation())}),t._uU(2),t.ALo(3,"date"),t.qZA(),t._uU(4," - "),t.TgZ(5,"span",57),t.NdJ("click",function(A){t.CHM(n);const s=t.oxw(2).$implicit;return t.oxw(3).afterViewScrollHandler(s.indicator_offset+s.indicator_width),t.KtG(A.stopPropagation())}),t._uU(6),t.ALo(7,"date"),t.qZA()()}if(2&r){const n=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.xi3(3,2,n.tasks_start_date,"MMM dd, YY")," "),t.xp6(4),t.hij(" ",t.xi3(7,5,n.tasks_end_date,"MMM dd, YY")," ")}}function _2(r,i){1&r&&t._UZ(0,"span",58),2&r&&t.Q6J("nzTooltipTitle","Duration of allocated tasks")}function w2(r,i){if(1&r&&(t.TgZ(0,"div",59),t._UZ(1,"nz-badge",60),t.TgZ(2,"span"),t._uU(3,"Total tasks "),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",59),t._UZ(7,"nz-badge",60),t.TgZ(8,"span"),t._uU(9,"Tasks without Start date "),t.qZA(),t.TgZ(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"div",59),t._UZ(13,"nz-badge",60),t.TgZ(14,"span"),t._uU(15,"Tasks without End date "),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA()(),t.TgZ(18,"div",59),t._UZ(19,"nz-badge",60),t.TgZ(20,"span"),t._uU(21,"Tasks without Start and End dates "),t.qZA(),t.TgZ(22,"span"),t._uU(23),t.qZA()()),2&r){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("nzColor","#fff"),t.xp6(4),t.hij("(",n.tasks_stats.total,")"),t.xp6(2),t.Q6J("nzColor","#F8A9A98C"),t.xp6(4),t.hij("(",n.tasks_stats.null_start_dates,")"),t.xp6(2),t.Q6J("nzColor","#F9A0A0BF"),t.xp6(4),t.hij("(",n.tasks_stats.null_end_dates,")"),t.xp6(2),t.Q6J("nzColor","#F7A7A7E5"),t.xp6(4),t.hij("(",n.tasks_stats.null_start_end_dates,")")}}function v2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",39),t.NdJ("mouseover",function(){t.CHM(n);const A=t.oxw(),s=A.index,o=A.$implicit;t.oxw();const p=t.MAs(14),f=t.oxw(2);return t.KtG(f.hoverInMember(s,p,f.getColor(o.name)))})("mouseleave",function(){t.CHM(n);const A=t.oxw().index;t.oxw();const s=t.MAs(14),o=t.oxw(2);return t.KtG(o.hoverOutMember(A,s))}),t.TgZ(1,"div",40),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.openMember(A,0))}),t.YNc(2,f2,2,7,"nz-avatar",41),t.TgZ(3,"div",42)(4,"div",43),t._uU(5),t.qZA(),t.TgZ(6,"div",44),t.YNc(7,g2,2,0,"span",45),t.YNc(8,m2,8,8,"span",45),t.YNc(9,_2,1,1,"span",46),t.qZA()()(),t.TgZ(10,"div",47)(11,"div",48)(12,"div",49)(13,"div",50),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.openMember(A,2))}),t.qZA(),t.TgZ(14,"div",51),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.openMember(A,3))}),t.qZA(),t.TgZ(15,"div",52),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.openMember(A,4))}),t.qZA(),t.TgZ(16,"div",53),t.NdJ("click",function(){t.CHM(n);const A=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.openMember(A,1))}),t.qZA()()(),t.YNc(17,w2,24,8,"ng-template",null,54,t.W1O),t.qZA()()}if(2&r){const n=t.MAs(18),e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",e.name),t.xp6(2),t.Q6J("nzTooltipTitle",e.name),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("ngIf",!e.tasks_start_date&&!e.tasks_end_date),t.xp6(1),t.Q6J("ngIf",e.tasks_start_date&&e.tasks_end_date),t.xp6(1),t.Q6J("ngIf",e.tasks_start_date||e.tasks_end_date),t.xp6(2),t.Q6J("nzTooltipTitle",n)("nzTooltipPlacement","right"),t.xp6(2),t.Udp("width",e.tasks_stats.null_start_dates_percentage+"%"),t.xp6(1),t.Udp("width",e.tasks_stats.null_end_dates_percentage+"%"),t.xp6(1),t.Udp("width",e.tasks_stats.null_start_end_dates_percentage+"%"),t.xp6(1),t.Udp("width",e.tasks_stats.available_start_end_dates_percentage+"%")}}function C2(r,i){if(1&r&&(t._UZ(0,"nz-avatar",55),t.ALo(1,"firstCharUpper")),2&r){const n=t.oxw(2).$implicit,e=t.oxw(3);t.Udp("background-color",n.avatar_url?"#ececec":e.getColor(n.name)),t.Q6J("nzSize",28)("nzText",t.lcZ(1,5,n.name))("nzSrc",n.avatar_url)}}function B2(r,i){if(1&r&&(t.TgZ(0,"div",61)(1,"div",62),t.YNc(2,C2,2,7,"nz-avatar",41),t.TgZ(3,"div",63)(4,"div",64),t._uU(5),t.qZA(),t.TgZ(6,"div",59)(7,"span",56),t._uU(8," No tasks assigned yet "),t.qZA()()()(),t.TgZ(9,"div",65)(10,"a",13),t._uU(11,"Assign Tasks"),t.qZA()()()),2&r){const n=t.oxw().$implicit,e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",n.name),t.xp6(2),t.Q6J("nzTooltipTitle",n.name),t.xp6(1),t.hij(" ",n.name," "),t.xp6(5),t.Q6J("href","/opom/projects/"+e.projectId+"?group=status",t.LSH)}}function b2(r,i){if(1&r&&(t.TgZ(0,"div",36),t.YNc(1,v2,19,16,"div",37),t.YNc(2,B2,12,4,"div",38),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("ngIf",!n.not_allocated),t.xp6(1),t.Q6J("ngIf",n.not_allocated)}}function y2(r,i){if(1&r&&(t.TgZ(0,"div",17)(1,"div",66),t._uU(2),t.qZA()()),2&r){const n=i.$implicit,e=t.oxw(3);t.xp6(1),t.Udp("min-width",n.days.length*e.GANNT_COLUMN_WIDTH+"px"),t.xp6(1),t.hij(" ",n.month," ")}}const L1=function(r,i){return[r,i]};function x2(r,i){if(1&r&&(t.TgZ(0,"div",68)(1,"div",69)(2,"div",70),t._uU(3),t.qZA(),t.TgZ(4,"div",71),t._uU(5),t.qZA()()()),2&r){const n=i.$implicit,e=t.oxw(4);t.Udp("min-width",e.GANNT_COLUMN_WIDTH+"px")("max-width",e.GANNT_COLUMN_WIDTH+"px"),t.xp6(1),t.Q6J("ngClass",t.WLB(7,L1,n.isWeekend?"weekend":"",n.isToday?"today today-bg":"")),t.xp6(2),t.hij(" ",n.name," "),t.xp6(2),t.hij(" ",n.day," ")}}function T2(r,i){if(1&r&&(t.TgZ(0,"div",17),t.YNc(1,x2,6,10,"div",67),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("rxForOf",n.days)}}function k2(r,i){if(1&r&&t._UZ(0,"div",73),2&r){const n=i.$implicit,e=t.oxw(4);t.Udp("min-width",e.GANNT_COLUMN_WIDTH+"px"),t.Q6J("ngClass",t.WLB(3,L1,n.isWeekend?"weekend":"",n.isToday?"today":""))}}function Q2(r,i){if(1&r&&(t.TgZ(0,"div",17),t.YNc(1,k2,1,6,"div",72),t.qZA()),2&r){const n=i.$implicit;t.xp6(1),t.Q6J("rxForOf",n.days)}}function F2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"div",36)(1,"div",74)(2,"div",75,76),t.NdJ("mouseover",function(A){const o=t.CHM(n).$implicit,p=t.MAs(3);t.oxw();const f=t.MAs(14),w=t.oxw(2);return t.KtG(w.hoverInIndicator(p,f,w.getColor(o.name),A,o))})("mouseleave",function(){t.CHM(n);const A=t.MAs(3);t.oxw();const s=t.MAs(14),o=t.oxw(2);return t.KtG(o.hoverOutIndicator(A,s))})("click",function(){const s=t.CHM(n).$implicit,o=t.oxw(3);return t.KtG(o.openMember(s,0))}),t.qZA()()()}if(2&r){const n=i.$implicit;t.xp6(2),t.Udp("background-color","#d9e3ee")("border-color","#adb5bd")("width",n.indicator_width+"px")("left",n.indicator_offset+"px")}}function U2(r,i){if(1&r&&(t.TgZ(0,"div",17)(1,"div",18,19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"span",23),t._uU(7,"Member"),t.qZA()()()(),t.TgZ(8,"div",24),t.YNc(9,b2,3,2,"div",25),t.qZA()(),t.TgZ(10,"div",26,27)(12,"div",28),t._UZ(13,"div",29,30),t.TgZ(15,"div",31),t.YNc(16,y2,3,3,"div",32),t.qZA(),t.TgZ(17,"div",33),t.YNc(18,T2,2,1,"div",32),t.qZA()(),t.TgZ(19,"div",34)(20,"div",35),t.YNc(21,Q2,2,1,"div",32),t.qZA(),t.YNc(22,F2,5,8,"div",25),t.qZA()()()),2&r){const n=t.oxw(2);t.xp6(9),t.Q6J("rxForOf",n.workloadMembers),t.xp6(3),t.Udp("width",n.numberOfDays*n.GANNT_COLUMN_WIDTH+"px"),t.xp6(4),t.Q6J("rxForOf",n.months),t.xp6(2),t.Q6J("rxForOf",n.months),t.xp6(1),t.Udp("width",n.numberOfDays*n.GANNT_COLUMN_WIDTH+"px"),t.xp6(2),t.Q6J("rxForOf",n.months),t.xp6(1),t.Q6J("rxForOf",n.workloadMembers)}}function I2(r,i){if(1&r&&(t.TgZ(0,"div",14)(1,"div",15),t.YNc(2,U2,23,9,"div",16),t.qZA()()),2&r){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.workloadMembers.length)}}function S2(r,i){if(1&r&&(t.TgZ(0,"span",77),t._uU(1),t.ALo(2,"date"),t.ALo(3,"date"),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.AsE("From ",t.xi3(2,2,n.customToolTipStartDate,"MMM dd, YYYY")," to ",t.xi3(3,5,n.customToolTipEndDate,"MMM dd, YYYY"),"")}}function z2(r,i){1&r&&(t.TgZ(0,"span",77),t._uU(1,"No start & end date"),t.qZA())}let L2=(()=>{var r;class i{constructor(e,A,s,o,p,f,w,b,y){var k=this;this.api=e,this.cdr=A,this.ngZone=s,this.socket=o,this.route=p,this.service=f,this.taskViewService=w,this.auth=b,this.timerService=y,this.GANNT_COLUMN_WIDTH=30,this.showTaskModal=!1,this.showMemberModal=!1,this.selectedTaskId=null,this.selectedTeamMember=null,this.initialScroll=0,this.numberOfDays=0,this.activeTab=0,this.projectId=null,this.chartStart=null,this.chartEnd=null,this.customToolTipStartDate=null,this.customToolTipEndDate=null,this.customToolTipLeft=null,this.customToolTipTop=null,this.months=[],this.workloadMembers=[],this.selectedTask=null,this.loading=!1,this.isResized=!1,this.refresh=function(){var v=(0,Ft.Z)(function*(M){yield k.init(!1)});return function(M){return v.apply(this,arguments)}}(),this.projectId=this.route.snapshot.paramMap.get("id"),this.taskViewService.onViewBackFrom.pipe((0,ue.sL)()).subscribe(v=>{this.handleTaskSelectFromView({id:v.parent_task_id,project_id:v.project_id})}),this.taskViewService.onDelete.pipe((0,ue.sL)()).subscribe(function(){var v=(0,Ft.Z)(function*(M){M.parent_task_id&&k.handleTaskSelectFromView({id:M.parent_task_id,project_id:k.projectId}),yield k.refresh(!1)});return function(M){return v.apply(this,arguments)}}()),this.service.onRemoveMembersTask.pipe((0,ue.sL)()).subscribe(function(){var v=(0,Ft.Z)(function*(M){yield k.refresh(!1)});return function(M){return v.apply(this,arguments)}}()),this.timerService.onSubmitOrUpdate.pipe((0,ue.sL)()).subscribe((0,Ft.Z)(function*(){yield k.refresh(!1)})),this.service.onRefreshMembers().pipe((0,ue.sL)()).subscribe((0,Ft.Z)(function*(){yield k.getMembers(!1)})),this.taskViewService.onSingleMemberChange.pipe((0,ue.sL)()).subscribe(v=>{this.init(!1)})}ngOnInit(){var e=this;return(0,Ft.Z)(function*(){yield e.init(!0),e.socket.on(Et.C.TASK_START_DATE_CHANGE.toString(),e.refresh),e.socket.on(Et.C.TASK_END_DATE_CHANGE.toString(),e.refresh)})()}ngOnDestroy(){this.socket.removeListener(Et.C.TASK_START_DATE_CHANGE.toString(),this.refresh),this.socket.removeListener(Et.C.TASK_END_DATE_CHANGE.toString(),this.refresh)}init(e){var A=this;return(0,Ft.Z)(function*(){yield A.createChart(e),yield A.getMembers(e)})()}createChart(e){var A=this;return(0,Ft.Z)(function*(){if(A.projectId&&A.auth.getCurrentSession()?.timezone_name)try{A.loading=e;const s=yield A.api.getGanntDates(A.projectId,A.auth.getCurrentSession()?.timezone_name?A.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone);s.done&&(A.months=s.body.date_data,A.numberOfDays=s.body.width,A.initialScroll=s.body.scroll_by,A.chartStart=s.body.chart_start,A.chartEnd=s.body.chart_end),A.cdr.markForCheck()}catch(s){(0,le.tu)(s),A.cdr.markForCheck()}})()}getMembers(e){var A=this;return(0,Ft.Z)(function*(){if(A.projectId&&A.auth.getCurrentSession()?.timezone_name)try{const s=yield A.api.getWorkloadMembers(A.projectId,A.auth.getCurrentSession()?.timezone_name?A.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone);s.done&&(A.workloadMembers=s.body,yield A.initScrollHandler(e),A.cdr.markForCheck())}catch(s){(0,le.tu)(s),A.loading=!1,A.cdr.markForCheck()}})()}getColor(e){return Ze.Lj[e?.charAt(0).toUpperCase()||"A"]}initScrollHandler(e){var A=this;return(0,Ft.Z)(function*(){A.ngZone.runOutsideAngular(()=>{setTimeout(()=>{A.fixed_right_column&&e&&(A.fixed_right_column.nativeElement.scrollLeft=A.initialScroll-2*Ze.b3,A.scrollListner())},100)}),A.loading=!1,A.cdr.markForCheck()})()}afterViewScrollHandler(e){this.ngZone.runOutsideAngular(()=>{this.fixed_right_column&&(this.fixed_right_column.nativeElement.classList.add("scroll-animation"),this.fixed_right_column.nativeElement.scrollLeft=e-2*Ze.b3,setTimeout(()=>{this.fixed_right_column&&this.fixed_right_column.nativeElement.classList.remove("scroll-animation")},125))}),this.cdr.markForCheck()}scrollListner(){this.ngZone.runOutsideAngular(()=>{this.fixed_left_column?.nativeElement.addEventListener("scroll",()=>{this.fixed_right_column&&(this.fixed_right_column.nativeElement.scrollTop=this.fixed_left_column?.nativeElement.scrollTop)}),this.fixed_right_column?.nativeElement.addEventListener("scroll",()=>{this.fixed_left_column&&(this.fixed_left_column.nativeElement.scrollTop=this.fixed_right_column?.nativeElement.scrollTop)})})}handleTaskSelectFromView(e){this.showTaskModal=!1,setTimeout(()=>{e&&this.openTask(e)},Ze.GR),this.cdr.detectChanges()}openTask(e){this.selectedTask=e,this.showTaskModal=!0,this.cdr.markForCheck()}onShowChange(e){e||(this.selectedTask=null)}openMember(e,A){this.selectedTeamMember=e,this.activeTab=A,this.showMemberModal=!0,this.cdr.markForCheck()}hoverInIndicator(e,A,s,o,p){this.ngZone.runOutsideAngular(()=>{this.setIndicatorHoverStyle(e,s),this.setHighlighterStyle(A,e,s),this.setCustomTooltipStyle(o,p),this.cdr.detectChanges()})}hoverOutIndicator(e,A){this.ngZone.runOutsideAngular(()=>{this.removeIndicatorHoverStyle(e),this.removeHighlighterStyle(A),this.removeCustomTooltipStyle(),this.cdr.detectChanges()})}hoverInMember(e,A,s){this.ngZone.runOutsideAngular(()=>{if(this.duration_indicators){const o=this.duration_indicators.toArray()[e].nativeElement;this.setIndicatorHoverStyle(o,s),this.setHighlighterStyle(A,o,s),this.cdr.detectChanges()}})}hoverOutMember(e,A){this.ngZone.runOutsideAngular(()=>{if(this.duration_indicators){const s=this.duration_indicators.toArray()[e].nativeElement;this.removeIndicatorHoverStyle(s),this.removeHighlighterStyle(A),this.cdr.detectChanges()}})}setIndicatorHoverStyle(e,A){e.style.backgroundColor=A+"69",e.style.borderColor="transparent",e.style.top="7px",e.style.bottom="7px"}removeIndicatorHoverStyle(e){e.style.backgroundColor="#d9e3ee",e.style.borderColor="#adb5bd",e.style.top="10px",e.style.bottom="10px"}setHighlighterStyle(e,A,s){e.style.backgroundColor=s+"70",e.style.left=A.style.left,e.style.width=A.style.width}removeHighlighterStyle(e){e.style.backgroundColor="transparent",e.style.left="0px",e.style.width="0px"}setCustomTooltipStyle(e,A){this.customToolTipLeft=e.clientX+15,this.customToolTipTop=e.clientY,this.customToolTipStartDate=A.tasks_start_date,this.customToolTipEndDate=A.tasks_end_date,this.custom_tooltip_element&&(this.custom_tooltip_element.nativeElement.style.opacity=1,this.custom_tooltip_element.nativeElement.style.scale=1),this.cdr.detectChanges()}removeCustomTooltipStyle(){this.customToolTipLeft=null,this.customToolTipTop=null,this.customToolTipStartDate=null,this.customToolTipEndDate=null,this.custom_tooltip_element&&(this.custom_tooltip_element.nativeElement.style.opacity=0,this.custom_tooltip_element.nativeElement.style.scale=0)}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(_g),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(je.s),t.Y36(be.gz),t.Y36(Zr),t.Y36(Wi.f),t.Y36(TA.e),t.Y36($m.d))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-workload-gaant-chart-v2"]],viewQuery:function(e,A){if(1&e&&(t.Gf(c2,5),t.Gf(l2,5),t.Gf(u2,5),t.Gf(d2,5),t.Gf(h2,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.scroller=s.first),t.iGM(s=t.CRH())&&(A.fixed_right_column=s.first),t.iGM(s=t.CRH())&&(A.fixed_left_column=s.first),t.iGM(s=t.CRH())&&(A.custom_tooltip_element=s.first),t.iGM(s=t.CRH())&&(A.duration_indicators=s)}},decls:9,vars:18,consts:[[1,"d-block",3,"nzActive","nzLoading"],["class","d-block mt-3 px-3",4,"ngIf"],["class","gannt",4,"ngIf"],[1,"custom-tooltip-element"],["custom_tooltip_element",""],["class","text-white",4,"ngIf"],[3,"activeTab","show","projectId","teamMember","onOpenTask","showChange"],[3,"show","selfResetTaskId","projectId","taskId","showChange"],[1,"d-block","mt-3","px-3"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],["nz-typography","",3,"href"],[1,"gannt"],[1,""],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"fixed-left-column"],["fixed_left_column",""],[1,"top-left-placeholder",2,"background-color","#fafafa"],[1,"d-flex","align-items-center","ps-3","h-default"],[1,"member-details"],["nz-typography","",1,"th-text"],[1,"tasks"],["class","task-name-row",4,"rxFor","rxForOf"],[1,"fixed-right-column"],["fixed_right_column",""],[1,"top"],[1,"highlighter"],["highlighter",""],[1,"d-flex","month-name"],["class","d-flex",4,"rxFor","rxForOf"],[1,"d-flex",2,"min-height","45px","max-height","45px"],[1,"middle"],[1,"day-cells","d-flex"],[1,"task-name-row"],["class","single-member d-flex align-items-center ps-3 cursor-pointer hover-light-blue",3,"mouseover","mouseleave",4,"ngIf"],["class","single-member d-flex align-items-center ps-3 na-member na-member-name",4,"ngIf"],[1,"single-member","d-flex","align-items-center","ps-3","cursor-pointer","hover-light-blue",3,"mouseover","mouseleave"],[1,"d-flex","align-items-center","member-details",3,"click"],["class","me-2",3,"nzSize","nzText","background-color","nzSrc",4,"ngIf"],[1,"d-block","name-ellipsis"],["nz-tooltip","",1,"d-block","ellipsis",3,"nzTooltipTitle"],[1,"d-block","mt-2","mb-0"],["nz-typography","","class","m-duration-text",4,"ngIf"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],[1,"member-stats"],["nz-tooltip","",1,"stat-indicator",3,"nzTooltipTitle","nzTooltipPlacement"],[1,"indicator-bars","d-flex","overflow-hidden"],[1,"bar-no-start-date",3,"click"],[1,"bar-no-end-date",3,"click"],[1,"bar-no-start-end-date",3,"click"],[1,"bar-have-start-end-date",3,"click"],["tooltipMember",""],[1,"me-2",3,"nzSize","nzText","nzSrc"],["nz-typography","",1,"m-duration-text"],[1,"navigator",3,"click"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle"],[1,"d-block"],[3,"nzColor","nzText"],[1,"single-member","d-flex","align-items-center","ps-3","na-member","na-member-name"],[1,"d-flex","align-items-center","member-details"],[1,"d-block","name-ellipsis","ellipsis"],["nz-tooltip","",1,"d-block",3,"nzTooltipTitle"],[1,"d-block","d-flex","align-items-center"],[1,"month-boundary"],["class","day-boundary",3,"min-width","max-width",4,"rxFor","rxForOf"],[1,"day-boundary"],[1,"d-block","text-center",3,"ngClass"],[1,"d-name"],[1,"d-day"],["class","inner-day-cell",3,"ngClass","min-width",4,"rxFor","rxForOf"],[1,"inner-day-cell",3,"ngClass"],[1,"single-member","position-relative"],[1,"duration-indicator","cursor-pointer","d-flex","align-items-center",3,"mouseover","mouseleave","click"],["elementIn","","duration_indicator",""],[1,"text-white"]],template:function(e,A){1&e&&(t.TgZ(0,"nz-skeleton",0),t.YNc(1,p2,9,1,"div",1),t.YNc(2,I2,3,1,"div",2),t.TgZ(3,"div",3,4),t.YNc(5,S2,4,8,"span",5),t.YNc(6,z2,2,0,"span",5),t.qZA()(),t.TgZ(7,"worklenz-member-tasks-drawer",6),t.NdJ("onOpenTask",function(o){return A.openTask(o)})("showChange",function(o){return A.showMemberModal=o}),t.qZA(),t.TgZ(8,"worklenz-task-view",7),t.NdJ("showChange",function(o){return A.showTaskModal=o})("showChange",function(o){return A.onShowChange(o)}),t.qZA()),2&e&&(t.Q6J("nzActive",!0)("nzLoading",A.loading),t.xp6(1),t.Q6J("ngIf",!A.workloadMembers.length),t.xp6(1),t.Q6J("ngIf",A.workloadMembers.length),t.xp6(1),t.Udp("left",A.customToolTipLeft+"px")("top",A.customToolTipTop+"px"),t.xp6(2),t.Q6J("ngIf",A.customToolTipStartDate&&A.customToolTipEndDate),t.xp6(1),t.Q6J("ngIf",!A.customToolTipStartDate&&!A.customToolTipEndDate),t.xp6(1),t.Q6J("activeTab",A.activeTab)("show",A.showMemberModal)("projectId",A.projectId)("teamMember",A.selectedTeamMember),t.xp6(1),t.Q6J("show",A.showTaskModal)("selfResetTaskId",!1)("projectId",(null==A.selectedTask?null:A.selectedTask.project_id)||null)("taskId",(null==A.selectedTask?null:A.selectedTask.id)||null))},dependencies:[Ot.mk,Ot.O5,aA.w,qe.Ls,$e.ZU,Or.Dz,tA.SY,ln.ng,ur.x7,qi.E,S1._,a2,Ot.uU,es.I],styles:['.gannt[_ngcontent-%COMP%]{border-top:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0}.top[_ngcontent-%COMP%], .top-left-placeholder[_ngcontent-%COMP%]{max-height:70px;min-height:70px;position:sticky;top:0;z-index:1;background:white}.top-left-placeholder[_ngcontent-%COMP%]{width:100%;right:0;box-shadow:0 1px #f0f0f0}.fixed-left-column[_ngcontent-%COMP%], .fixed-right-column[_ngcontent-%COMP%]{overflow-y:auto;min-height:calc(100vh - 220px);max-height:calc(100vh - 220px);will-change:transform;transition:scroll-behavior .125s ease}.fixed-left-column[_ngcontent-%COMP%]{min-width:500px;max-width:500px;overflow-x:scroll;box-shadow:10px 0 8px -8px #00000026;border-left:1px solid #f0f0f0;z-index:9}.member-details[_ngcontent-%COMP%]{max-width:270px;min-width:270px}.scroll-animation[_ngcontent-%COMP%]{scroll-behavior:smooth}.fixed-right-column[_ngcontent-%COMP%]{position:relative;overflow-x:scroll;box-shadow:1px 0 #f0f0f0}.single-member[_ngcontent-%COMP%], .day-boundary-inner[_ngcontent-%COMP%], .single-member-task[_ngcontent-%COMP%], .h-default[_ngcontent-%COMP%]{min-height:60px;max-height:60px}.single-member-task[_ngcontent-%COMP%]{box-shadow:1px 1px #f0f0f0}.single-member[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding-left:7px;transition:.25s all}.single-member.active[_ngcontent-%COMP%]{background:#f8f7f9}.m-t-name[_ngcontent-%COMP%]{min-width:270px;max-width:270px}.m-t-start-date[_ngcontent-%COMP%], .m-t-end-date[_ngcontent-%COMP%]{min-width:100px;max-width:100px}.task-bar[_ngcontent-%COMP%]{background:#d9d9d9;position:absolute;min-height:22px;max-height:22px;border-radius:4px;overflow:hidden;z-index:0;cursor:move;transition:.125s all}.duration-indicator[_ngcontent-%COMP%]{position:absolute;border-radius:4px;top:10px;bottom:10px;overflow:hidden;z-index:0;transition:.125s all;border:1px solid}.day-boundary[_ngcontent-%COMP%]{position:relative;box-shadow:-1px 1px #f0f0f0}.month-boundary[_ngcontent-%COMP%]{box-shadow:-1px 0 #f0f0f0;padding-left:14px;background:#e6f7ff}.resize-handle[_ngcontent-%COMP%]{position:absolute;width:5px;height:100%;cursor:col-resize;background-color:#ccc}.left-handle[_ngcontent-%COMP%]{left:0}.right-handle[_ngcontent-%COMP%]{right:0}.active-hover-bg[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{position:absolute;top:0;height:100%}.weekend[_ngcontent-%COMP%]{background:linear-gradient(-45deg,rgba(230,230,230,.5) 12.5%,transparent 12.5%,transparent 50%,rgba(230,230,230,.5) 50%,rgba(230,230,230,.5) 62.5%,transparent 62.5%,transparent) 0% 0%/5px 5px}.middle[_ngcontent-%COMP%]{position:relative}.day-cells[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;height:100%;z-index:-1}.inner-day-cell[_ngcontent-%COMP%]{box-shadow:-1px 1px #f0f0f0;height:100%}.bar-top[_ngcontent-%COMP%]{padding-top:11px}.name-ellipsis[_ngcontent-%COMP%]{max-width:200px;line-height:14px}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.stat-indicator[_ngcontent-%COMP%], .indicator-bars[_ngcontent-%COMP%]{border-radius:4px}.indicator-bars[_ngcontent-%COMP%]{min-width:185px;max-width:185px}.stat-indicator[_ngcontent-%COMP%], .indicator-bars[_ngcontent-%COMP%], .bar-no-start-date[_ngcontent-%COMP%], .bar-no-end-date[_ngcontent-%COMP%], .bar-no-start-end-date[_ngcontent-%COMP%], .bar-have-start-end-date[_ngcontent-%COMP%]{min-height:26px;max-height:26px}.bar-no-start-date[_ngcontent-%COMP%]{background:rgba(248,169,169,.55);transition:.2s all}.bar-no-start-date[_ngcontent-%COMP%]:hover{background:rgba(248,146,146,.85)}.bar-no-end-date[_ngcontent-%COMP%]{background:rgba(249,160,160,.75);transition:.2s all}.bar-no-end-date[_ngcontent-%COMP%]:hover{background:rgba(248,146,146,.9)}.bar-no-start-end-date[_ngcontent-%COMP%]{background:rgba(247,167,167,.9);transition:.2s all}.bar-no-start-end-date[_ngcontent-%COMP%]:hover{background:rgb(248,146,146)}.bar-have-start-end-date[_ngcontent-%COMP%]{background:#f0f0f0;transition:.2s all}.m-duration-text[_ngcontent-%COMP%]{color:#000000a6;font-size:12px}.today[_ngcontent-%COMP%]{position:relative}.today[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;bottom:0;width:2px;z-index:-1;background:rgba(24,143,249,.6509803922)}.today-bg[_ngcontent-%COMP%]{background:rgba(24,143,249,.6509803922)}.today-bg[_ngcontent-%COMP%]:after{display:none}.today-bg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.highlighter[_ngcontent-%COMP%]{position:absolute;top:25px;bottom:0;z-index:-1}.d-name[_ngcontent-%COMP%]{font-size:13px}.d-day[_ngcontent-%COMP%]{line-height:25px}.month-name[_ngcontent-%COMP%]{min-height:25px;max-height:25px}.hover-light-blue[_ngcontent-%COMP%]{transition:.25s all}.hover-light-blue[_ngcontent-%COMP%]:hover{background-color:#f8f7f9}.custom-tooltip-element[_ngcontent-%COMP%]{position:absolute;opacity:0;scale:0;z-index:999;padding:6px 8px;color:#fff;text-align:left;text-decoration:none;word-wrap:break-word;background-color:#4a4a4a;border-radius:4px;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;transition:.25s scale}.no-data-img-holder[_ngcontent-%COMP%]{max-width:100px}.navigator[_ngcontent-%COMP%]{transition:.25s all}.navigator[_ngcontent-%COMP%]:hover{color:#1890ff}.th-text[_ngcontent-%COMP%]{color:#000000d9;font-weight:500}'],changeDetection:0}),i})();var wg=ot(6192);function E2(r,i){1&r&&t._UZ(0,"nz-skeleton-element",29),2&r&&t.Q6J("nzActive",!0)("nzSize","default")}function M2(r,i){if(1&r&&(t.TgZ(0,"div",35),t._uU(1),t.qZA()),2&r){const n=t.oxw(2);t.Q6J("nzTooltipTitle",n.project.name),t.xp6(1),t.hij(" ",n.project&&n.project.name," ")}}function N2(r,i){if(1&r&&(t.ynx(0),t.TgZ(1,"nz-tag",36),t._uU(2),t.qZA(),t.BQk()),2&r){const n=t.oxw(2);t.xp6(1),t.Q6J("nzColor",n.project.category_color),t.xp6(1),t.hij(" ",n.project.category_name," ")}}function O2(r,i){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const n=t.oxw(4);t.xp6(1),t.hij("Start date : ",t.xi3(2,1,n.project.start_date,"mediumDate"),"")}}function P2(r,i){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const n=t.oxw(4);t.xp6(1),t.hij("End date : ",t.xi3(2,1,n.project.end_date,"mediumDate"),"")}}function D2(r,i){if(1&r&&(t.YNc(0,O2,3,4,"div",11),t.YNc(1,P2,3,4,"div",11)),2&r){const n=t.oxw(3);t.Q6J("ngIf",n.project.start_date),t.xp6(1),t.Q6J("ngIf",n.project.end_date)}}function H2(r,i){if(1&r&&(t.TgZ(0,"span",37),t._UZ(1,"span",38),t.YNc(2,D2,2,2,"ng-template",null,39,t.W1O),t.qZA()),2&r){const n=t.MAs(3);t.xp6(1),t.Q6J("nzType","calendar")("nzTooltipTitle",n)}}function Z2(r,i){if(1&r&&(t.TgZ(0,"div",30),t.YNc(1,M2,2,2,"div",31),t.TgZ(2,"div",32),t.YNc(3,N2,3,2,"ng-container",11),t._UZ(4,"span",33),t.ALo(5,"safeString"),t.ALo(6,"safeString"),t.YNc(7,H2,4,2,"span",34),t.qZA()()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.project&&n.project.name),t.xp6(2),t.Q6J("ngIf",n.project.category_name),t.xp6(1),t.Udp("color",n.project.status_color),t.Q6J("nzType",t.lcZ(5,7,n.project.status_icon))("nzTooltipTitle",t.lcZ(6,9,n.project.status)),t.xp6(3),t.Q6J("ngIf",n.project.start_date||n.project.end_date)}}function j2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.showDescriptionModel=!0)}),t._uU(1," (Show more) "),t.qZA()}}function R2(r,i){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const n=t.oxw();t.xp6(1),t.hij(" ",n.project.notes," ")}}function K2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.refresh())}),t._UZ(1,"span",42),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("nzTooltipTitle","Refresh project"),t.xp6(1),t.Q6J("nzSpin",n.refreshing)("nzTheme","outline")}}function G2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.openTemplateCreateDrawer())}),t._UZ(1,"span",43),t.qZA()}2&r&&(t.Q6J("nzTooltipTitle","Save as template"),t.xp6(1),t.Q6J("nzTheme","outline"))}function J2(r,i){1&r&&(t.ynx(0),t.YNc(1,G2,2,2,"button",10),t.BQk())}function Y2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.openProjectForm())}),t._UZ(1,"span",44),t.qZA()}2&r&&t.Q6J("nzTooltipTitle","Project settings")}function q2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.toggleProjectSubscription())}),t._UZ(1,"span",46),t._uU(2),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("nzTooltipTitle","Receive a project summary every evening.")("nzShape","round")("nzType","default"),t.xp6(1),t.Q6J("nzTheme",n.project.subscribed?"fill":"outline"),t.xp6(1),t.hij(" ",n.project.subscribed?"Unsubscribe":"Subscribe"," ")}}function V2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(n);const A=t.oxw(2);return t.KtG(A.openInviteMembersDrawer())}),t._UZ(1,"span",49),t._uU(2," Invite "),t.qZA()}}function W2(r,i){1&r&&(t.ynx(0),t.YNc(1,V2,3,0,"button",47),t.BQk())}function X2(r,i){if(1&r&&(t.TgZ(0,"button",53),t._UZ(1,"span",54),t.qZA()),2&r){t.oxw(2);const n=t.MAs(26);t.Q6J("nzDropdownMenu",n)}}function $2(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"nz-button-group")(1,"button",50),t.NdJ("click",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.openCreateTaskModal())}),t._UZ(2,"span",51),t._uU(3," Create Task "),t.qZA(),t.YNc(4,X2,2,1,"button",52),t.qZA()}if(2&r){const n=t.oxw();t.xp6(1),t.Q6J("nzLoading",n.creatingTask),t.xp6(3),t.Q6J("ngIf",n.ownerOrAdmin)}}function t_(r,i){1&r&&t._UZ(0,"span",62)}function e_(r,i){1&r&&t._UZ(0,"span",63)}function A_(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(A){t.CHM(n);const s=t.oxw(2).$implicit,o=t.oxw();return A.stopPropagation(),t.KtG(o.updatePinnedView(s.index))}),t.TgZ(1,"span",59),t.YNc(2,t_,1,0,"span",60),t.YNc(3,e_,1,0,"span",61),t.qZA()()}if(2&r){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngClass",n.isPinned?"rotated":""),t.xp6(1),t.Q6J("ngIf",!n.isPinned),t.xp6(1),t.Q6J("ngIf",n.isPinned)}}const n_=function(r){return{tab:r}},E1=function(){return["."]};function r_(r,i){if(1&r&&(t.TgZ(0,"span",56),t._uU(1),t.YNc(2,A_,4,3,"button",57),t.qZA()),2&r){const n=t.oxw().$implicit,e=t.oxw();t.Q6J("queryParams",t.VKq(6,n_,n.tab))("routerLink",t.DdM(8,E1))("queryParamsHandling","merge")("ngClass",e.selectedTabIndex===n.index?"active":""),t.xp6(1),t.hij(" ",n.label," "),t.xp6(1),t.Q6J("ngIf",0===n.index||1===n.index)}}function i_(r,i){1&r&&(t.TgZ(0,"nz-tab"),t.YNc(1,r_,3,9,"span",55),t.qZA())}function s_(r,i){1&r&&t._UZ(0,"span",66)}const o_=function(){return{tab:"updates"}};function a_(r,i){if(1&r&&(t.TgZ(0,"a",64),t._uU(1,"Updates "),t.YNc(2,s_,1,0,"span",65),t.qZA()),2&r){const n=t.oxw();t.Q6J("queryParams",t.DdM(4,o_))("routerLink",t.DdM(5,E1))("queryParamsHandling","merge"),t.xp6(2),t.Q6J("ngIf",n.enableBadge&&7!==n.selectedTabIndex)}}function c_(r,i){1&r&&(t.TgZ(0,"div",72),t._UZ(1,"worklenz-task-list-table"),t.qZA())}function l_(r,i){if(1&r&&t._UZ(0,"worklenz-project-insights",74),2&r){const n=t.oxw(3);t.Q6J("projectName",n.project.name)}}function u_(r,i){if(1&r&&(t.ynx(0),t.YNc(1,l_,1,1,"worklenz-project-insights",73),t.BQk()),2&r){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.project.name)}}function d_(r,i){1&r&&t._UZ(0,"worklenz-all-tasks-attachments")}function h_(r,i){1&r&&t._UZ(0,"worklenz-project-members")}function p_(r,i){1&r&&t._UZ(0,"worklenz-project-updates")}function f_(r,i){1&r&&t._UZ(0,"worklenz-kanban-board")}function g_(r,i){1&r&&t._UZ(0,"worklenz-workload-gaant-chart-v2")}function m_(r,i){1&r&&t._UZ(0,"worklenz-project-roadmap-v2-custom")}function __(r,i){if(1&r&&(t.TgZ(0,"div",67),t.ynx(1,68),t.TgZ(2,"div",0),t.YNc(3,c_,2,0,"div",69),t.YNc(4,u_,2,1,"ng-container",70),t.YNc(5,d_,1,0,"worklenz-all-tasks-attachments",70),t.YNc(6,h_,1,0,"worklenz-project-members",70),t.YNc(7,p_,1,0,"worklenz-project-updates",70),t.qZA(),t.TgZ(8,"div",71),t.YNc(9,f_,1,0,"worklenz-kanban-board",70),t.YNc(10,g_,1,0,"worklenz-workload-gaant-chart-v2",70),t.YNc(11,m_,1,0,"worklenz-project-roadmap-v2-custom",70),t.qZA(),t.BQk(),t.qZA()),2&r){const n=t.oxw();t.xp6(1),t.Q6J("ngSwitch",n.selectedTabIndex),t.xp6(2),t.Q6J("ngSwitchCase",0),t.xp6(1),t.Q6J("ngSwitchCase",4),t.xp6(1),t.Q6J("ngSwitchCase",5),t.xp6(1),t.Q6J("ngSwitchCase",6),t.xp6(1),t.Q6J("ngSwitchCase",7),t.xp6(2),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3)}}function w_(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"worklenz-project-members-form",75),t.NdJ("showChange",function(A){t.CHM(n);const s=t.oxw();return t.KtG(s.showInviteMembersModal=A)}),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("show",n.showInviteMembersModal)("projectId",n.projectId)("isProjectManager",n.isProjectManager())}}function v_(r,i){if(1&r){const n=t.EpF();t.TgZ(0,"worklenz-import-tasks-template",76),t.NdJ("onImportDone",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.importDone())})("onCancel",function(){t.CHM(n);const A=t.oxw();return t.KtG(A.closeImport())}),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("drawerVisible",n.importTemplateVisible)("projectId",n.projectId)}}const C_=[{path:"",component:Xh},{path:"member/:id",component:Mo},{path:":id",component:(()=>{var r;class i{constructor(e,A,s,o,p,f,w,b,y,k,v,M,L,Z,z,j,W,it,gt,It){this.app=e,this.route=A,this.router=s,this.auth=o,this.projectsApiService=p,this.tasksService=f,this.fb=w,this.service=b,this.list=y,this.socket=k,this.notificationSettings=v,this.phasesService=M,this.cdr=L,this.taskView=Z,this.location=z,this.projectFormService=j,this.projectCommentsApi=W,this.projectCommentsService=it,this.roadmapService=gt,this.projectsService=It,this.ganttType=Id.au,this.options=[{label:"Group",value:0,icon:"appstore"},{label:"List",value:1,icon:"bars"}],this.tabs=[{label:"Task List",tab:"tasks-list",index:0,isPinned:!1},{label:"Board",tab:"board",index:1,isPinned:!1},{label:"Workload",tab:"workload",index:2,isPinned:!1},{label:"Roadmap",tab:"roadmap",index:3,isPinned:!1},{label:"Insights",tab:"project-insights-member-overview",index:4,isPinned:!1},{label:"Files",tab:"all-attachments",index:5,isPinned:!1},{label:"Members",tab:"members",index:6,isPinned:!1}],this.projects=[],this.project={},this.selectedTask={},this.session=null,this.loading=!0,this.projectId=null,this.selectedTaskId=null,this.refreshing=!1,this.showInviteMembersModal=!1,this.importTemplateVisible=!1,this.taskUpdated=!1,this.creatingTask=!1,this.ownerOrAdmin=!1,this.projectManager=!1,this.showTaskModal=!1,this.showDescriptionModel=!1,this.backButtonClicked=!1,this.selectedTabIndex=0,this.currentTabIndex=0,this.tasksViewMode=0,this.defaultView=0,this.pinnedTabIndex=0,this.enableBadge=!1,this.app.setTitle("Loading..."),this.setProjectId(),this.setDefaultTab(),this.setPinnedTab(),this.tasksSearchForm=this.fb.group({search:[]}),this.notificationSettings.onNotificationClick.pipe((0,ue.sL)()).subscribe(()=>{this.setProjectId(),this.refresh(),this.getProject(),this.handleTaskViewOpened()}),this.projectFormService.onProjectUpdate.pipe((0,ue.sL)()).subscribe(()=>{this.getProject()}),this.projectCommentsService.onBadgeDisable.pipe((0,ue.sL)()).subscribe(()=>{this.enableBadge=!1}),this.session=this.auth.getCurrentSession()}get getLocalUpdatesCount(){if(!this.projectId)return 0;const e=localStorage.getItem("worklenz.project.updates-"+this.projectId);return e?+e:0}hasUnreadUpdates(){return 0===this.getLocalUpdatesCount}ngOnInit(){var e=this;return(0,Ft.Z)(function*(){e.ownerOrAdmin=e.auth.isOwnerOrAdmin(),e.projectManager=e.isProjectManager(),e.getProject(),e.handleTaskViewOpened(),e.router.events.pipe((0,_i.h)(A=>A instanceof be.m2)).subscribe(()=>{e.handleBackNavigation()}),window.onpopstate=A=>{e.backButtonClicked=!0},e.getUpdatesCount(),e.socket.on(Et.C.NEW_PROJECT_COMMENT_RECEIVED.toString(),()=>{e.enableBadge=!0,e.cdr.detectChanges()})})()}ngOnDestroy(){window.onpopstate=null,this.socket.removeListener(Et.C.NEW_PROJECT_COMMENT_RECEIVED.toString(),()=>{})}handleBackNavigation(){const e=this.route.snapshot.queryParamMap.get("tab");this.backButtonClicked&&!e&&this.router.navigateByUrl("/opom/projects"),this.backButtonClicked=!1}setProjectId(){this.projectId=this.route.snapshot.paramMap.get("id"),this.service.id=this.projectId}openCreateTaskModal(){this.addInstantTask()}isGroupByPhase(){return this.list.getCurrentGroup().value===this.list.GROUP_BY_PHASE_VALUE}isProjectManager(){return!!this.projectsService.projectOwnerTeamMemberId&&this.auth.getCurrentSession()?.team_member_id===this.projectsService.projectOwnerTeamMemberId}addInstantTask(){var e=this;return(0,Ft.Z)(function*(){try{e.creatingTask=!0;const A=e.auth.getCurrentSession(),s={name:Ze.qu,project_id:e.projectId??"",reporter_id:A?.id,team_id:A?.team_id,chart_start:e.roadmapService.chartStartDate?e.roadmapService.chartStartDate:""};e.socket.once(Et.C.QUICK_TASK.toString(),o=>{if(o?.id){e.selectedTask=o,e.selectedTaskId=o.id,e.showTaskModal=!0,e.taskView.emitOpenTask({task_id:o.id||null,project_id:o.project_id||null});const p=e.isGroupByPhase()?Ze.k9:e.list.getGroupIdByGroupedColumn(o);p&&e.list.addTask(o,p),e.service.emitNewTaskCreated(o)}e.creatingTask=!1,e.cdr.markForCheck()}),e.socket.emit(Et.C.QUICK_TASK.toString(),JSON.stringify(s))}catch(A){(0,le.tu)(A),e.creatingTask=!1}e.cdr.markForCheck()})()}getTasks(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId){try{e.loading=!e.taskUpdated,yield e.tasksService.getTasksByProject(e.projectId),e.loading=!1}catch{e.loading=!1}e.cdr.markForCheck()}})()}getUpdatesCount(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId)try{const A=yield e.projectCommentsApi.getCountByProjectId(e.projectId);A&&e.getLocalUpdatesCount<A.body&&(e.enableBadge=!0),e.cdr.markForCheck()}catch(A){(0,le.tu)(A),e.cdr.markForCheck()}})()}getProjectManager(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId)try{yield e.projectsApiService.getProjectManager(e.projectId)}catch(A){(0,le.tu)(A),e.cdr.markForCheck()}})()}onTaskCreateOrUpdate(){this.taskUpdated=!0,this.getTasks(),this.selectedTaskId=null,this.taskUpdated=!1,this.cdr.markForCheck()}getProject(){var e=this;return(0,Ft.Z)(function*(){if(e.projectId){try{e.loading=!0;const A=yield e.projectsApiService.getById(e.projectId);if(e.loading=!1,A.done){if(e.project=A.body,e.project&&(e.service.projectOwnerTeamMemberId=e.project.project_manager&&e.auth.getCurrentSession()?.team_member_id===e.project.project_manager?.id?e.project.project_manager.id:null),!e.project)return void e.back();e.project.name&&e.app.setTitle(e.project.name),A.body.phase_label&&e.phasesService.updateLabel(A.body.phase_label)}}catch{e.loading=!1}e.cdr.markForCheck()}})()}tabChanged(e){this.currentTabIndex=e,1!==this.currentTabIndex&&(this.tasksViewMode=0),this.cdr.markForCheck()}openProjectForm(){this.projectId&&this.projectsForm?.open(this.projectId,!0)}back(){this.router.navigate(["/opom/projects"]),this.service.projectOwnerTeamMemberId=null}refresh(){this.refreshing=!0,setTimeout(()=>{this.refreshing=!1,this.cdr.markForCheck()},10)}refreshAll(){setTimeout(()=>{window.location.reload(),this.cdr.markForCheck()},1)}setDefaultTab(){if(this.route.snapshot.queryParamMap.get("tab"))switch(this.route.snapshot.queryParamMap.get("tab")){case"tasks-list":default:this.selectedTabIndex=0;break;case"board":this.selectedTabIndex=1;break;case"workload":this.selectedTabIndex=2;break;case"roadmap":this.selectedTabIndex=3;break;case"project-insights-member-overview":this.selectedTabIndex=4;break;case"all-attachments":this.selectedTabIndex=5;break;case"members":this.selectedTabIndex=6;break;case"updates":this.selectedTabIndex=7}else this.router.navigate([],{relativeTo:this.route,queryParams:{tab:this.route.snapshot.queryParamMap.get("tab")},queryParamsHandling:"merge"})}setPinnedTab(){this.route.snapshot.queryParamMap.get("pinned_tab"),this.tabs.forEach(e=>{e.isPinned=!1}),"board"===this.route.snapshot.queryParamMap.get("tab")&&(this.selectedTabIndex=1),"board"===this.route.snapshot.queryParamMap.get("pinned_tab")&&(this.pinnedTabIndex=1),this.tabs[this.pinnedTabIndex].isPinned=!0}openImportTasksDrawer(){this.importTemplateVisible=!0,this.cdr.markForCheck()}importDone(){(0,Sd.Xk)(),this.closeImport()}closeImport(){this.importTemplateVisible=!1,this.cdr.markForCheck()}openInviteMembersDrawer(){this.showInviteMembersModal=!0}handleTaskViewOpened(){const e=this.route.snapshot.queryParamMap.get("task");e&&(this.selectedTaskId=e,this.showTaskModal=!0,this.cdr.markForCheck())}toggleProjectSubscription(){if(!this.projectId)return;this.project.subscribed=!this.project.subscribed;const e={project_id:this.projectId,user_id:this.session?.id,team_member_id:this.session?.team_member_id,mode:this.project.subscribed?0:1};this.socket.emit(Et.C.PROJECT_SUBSCRIBERS_CHANGE.toString(),e)}openTemplateCreateDrawer(){this.projectTemplateCreateDrawer.open()}updatePinnedView(e){var A=this;return(0,Ft.Z)(function*(){if(A.projectId){try{(yield A.projectsApiService.updateDefaultView(A.projectId,e)).done&&(A.tabs.forEach(o=>{o.isPinned=!1}),A.pinnedTabIndex=e,A.tabs[e].isPinned=!0,A.router.navigate([],{queryParams:{pinned_tab:1===e?"board":"tasks-list"},queryParamsHandling:"merge"}))}catch{}A.cdr.markForCheck()}})()}}return(r=i).\u0275fac=function(e){return new(e||r)(t.Y36(iu.z),t.Y36(be.gz),t.Y36(be.F0),t.Y36(TA.e),t.Y36(Xo.U),t.Y36(ml.c),t.Y36(jt.qu),t.Y36(Vi.m),t.Y36(Mn.b),t.Y36(je.s),t.Y36(bf.g),t.Y36(zd.u),t.Y36(t.sBO),t.Y36(Wi.f),t.Y36(Ot.Ye),t.Y36(Xi.s),t.Y36(_l.L),t.Y36(La.k),t.Y36(wi.s),t.Y36(Vi.m))},r.\u0275cmp=t.Xpm({type:r,selectors:[["worklenz-project-view"]],viewQuery:function(e,A){if(1&e&&(t.Gf(cr.g,5),t.Gf(gl.p,5),t.Gf(Es.e,5)),2&e){let s;t.iGM(s=t.CRH())&&(A.projectsForm=s.first),t.iGM(s=t.CRH())&&(A.projectUpdatesDrawer=s.first),t.iGM(s=t.CRH())&&(A.projectTemplateCreateDrawer=s.first)}},decls:45,vars:27,consts:[[1,"container"],["nzBackIcon","",1,"px-0","project-title-header",3,"nzGhost","nzBack"],["nzType","input","style","width:200px",3,"nzActive","nzSize",4,"ngIf"],["class","d-flex",4,"ngIf"],[1,"d-flex",2,"margin-top","4px"],[1,"project-subtitle",3,"ngClass"],[1,"project-subtitle-btn"],["nz-button","","nzType","link","class","m-0","nzSize","small",3,"click",4,"ngIf"],[3,"nzVisible","nzFooter","nzCentered","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],["nz-button","","nz-tooltip","","nzShape","circle","nzType","default",3,"nzTooltipTitle","click",4,"nzSpaceItem"],[4,"ngIf"],["nz-button","","nz-tooltip","",3,"nzTooltipTitle","nzShape","nzType","click",4,"nzSpaceItem"],[4,"nzSpaceItem"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","import","nzTheme","outline"],[1,"d-flex","align-items-center","justify-content-between"],[3,"nzSelectedIndex","nzAnimated","nzSize","nzSelectedIndexChange"],[4,"ngFor","ngForOf"],["nz-tab-link","","class","pe-2",3,"queryParams","routerLink","queryParamsHandling",4,"nzTabLink"],[3,"projectId","refreshing","refresh","refreshAll"],[3,"nzActive","nzLoading"],["class","mt-3",4,"ngIf"],[3,"onDelete","onUpdate"],[3,"show","projectId","isProjectManager","showChange",4,"ngIf"],[3,"drawerVisible","projectId","onImportDone","onCancel",4,"ngIf"],[3,"projectId"],["nzType","input",2,"width","200px",3,"nzActive","nzSize"],[1,"d-flex"],["class","project-title","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],[1,"project-title-icons","d-flex","align-items-center"],["nz-icon","","nz-tooltip","",1,"ms-2",2,"font-size","16px","margin-top","2px",3,"nzType","nzTooltipTitle"],["nz-typography","","nzType","secondary",4,"ngIf"],["nz-tooltip","",1,"project-title",3,"nzTooltipTitle"],[1,"rounded-pill","category-tag","ms-2",3,"nzColor"],["nz-typography","","nzType","secondary"],["nz-icon","","nz-tooltip","",1,"ms-2",2,"font-size","16px",3,"nzType","nzTooltipTitle"],["titleContent",""],["nz-button","","nzType","link","nzSize","small",1,"m-0",3,"click"],["nz-button","","nz-tooltip","","nzShape","circle","nzType","default",3,"nzTooltipTitle","click"],["nz-icon","","nzType","sync",3,"nzSpin","nzTheme"],["nz-icon","","nzType","save",3,"nzTheme"],["nz-icon","","nzTheme","outline","nzType","setting"],["nz-button","","nz-tooltip","",3,"nzTooltipTitle","nzShape","nzType","click"],["nz-icon","","nzType","bell",3,"nzTheme"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","usergroup-add","nzTheme","outline"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nz-dropdown","","nzPlacement","bottomRight","nzType","primary",3,"nzDropdownMenu",4,"ngIf"],["nz-button","","nz-dropdown","","nzPlacement","bottomRight","nzType","primary",3,"nzDropdownMenu"],["nz-icon","","nzType","down","nzTheme","outline"],["nz-tab-link","","class","me-1 tab-text",3,"queryParams","routerLink","queryParamsHandling","ngClass",4,"nzTabLink"],["nz-tab-link","",1,"me-1","tab-text",3,"queryParams","routerLink","queryParamsHandling","ngClass"],["nz-button","","nzType","text","class","p-0","style","max-width: 20px;",3,"click",4,"ngIf"],["nz-button","","nzType","text",1,"p-0",2,"max-width","20px",3,"click"],[3,"ngClass"],["nz-icon","","nzType","pushpin","nzTheme","outline","class","me-0 pin-icon",4,"ngIf"],["nz-icon","","nzType","pushpin","nzTheme","fill","class","me-0 pin-icon",4,"ngIf"],["nz-icon","","nzType","pushpin","nzTheme","outline",1,"me-0","pin-icon"],["nz-icon","","nzType","pushpin","nzTheme","fill",1,"me-0","pin-icon"],["nz-tab-link","",1,"pe-2",3,"queryParams","routerLink","queryParamsHandling"],["class","updates-badge",4,"ngIf"],[1,"updates-badge"],[1,"mt-3"],[3,"ngSwitch"],["class","position-relative","style","margin-right: -24px;",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"container-fluid"],[1,"position-relative",2,"margin-right","-24px"],[3,"projectName",4,"ngIf"],[3,"projectName"],[3,"show","projectId","isProjectManager","showChange"],[3,"drawerVisible","projectId","onImportDone","onCancel"]],template:function(e,A){1&e&&(t.TgZ(0,"div",0)(1,"nz-page-header",1),t.NdJ("nzBack",function(){return A.back()}),t.TgZ(2,"nz-page-header-title"),t.YNc(3,E2,1,2,"nz-skeleton-element",2),t.YNc(4,Z2,8,11,"div",3),t.qZA(),t.TgZ(5,"nz-page-header-subtitle")(6,"div",4)(7,"div",5),t._uU(8),t.ALo(9,"nzEllipsis"),t.qZA(),t.TgZ(10,"div",6),t.YNc(11,j2,2,0,"button",7),t.qZA()()(),t.TgZ(12,"nz-modal",8),t.NdJ("nzVisibleChange",function(o){return A.showDescriptionModel=o})("nzOnCancel",function(){return A.showDescriptionModel=!1}),t.YNc(13,R2,2,1,"ng-container",9),t.qZA(),t.TgZ(14,"nz-page-header-extra")(15,"nz-space"),t.YNc(16,K2,2,3,"button",10),t.YNc(17,J2,2,0,"ng-container",11),t.ynx(18),t.YNc(19,Y2,2,1,"button",10),t.BQk(),t.ynx(20),t.YNc(21,q2,3,5,"button",12),t.BQk(),t.YNc(22,W2,2,0,"ng-container",11),t.ynx(23),t.YNc(24,$2,5,2,"nz-button-group",13),t.TgZ(25,"nz-dropdown-menu",null,14)(27,"ul",15)(28,"li",16),t.NdJ("click",function(){return A.openImportTasksDrawer()}),t._UZ(29,"span",17),t._uU(30,"\xa0 Import Tasks "),t.qZA()()(),t.BQk(),t.qZA()(),t.TgZ(31,"nz-page-header-footer",18)(32,"nz-tabset",19),t.NdJ("nzSelectedIndexChange",function(o){return A.selectedTabIndex=o})("nzSelectedIndexChange",function(o){return A.tabChanged(o)}),t.YNc(33,i_,2,0,"nz-tab",20),t.TgZ(34,"nz-tab"),t.YNc(35,a_,3,6,"a",21),t.qZA()(),t.TgZ(36,"worklenz-project-view-extra",22),t.NdJ("refresh",function(){return A.refresh()})("refreshAll",function(){return A.refreshAll()}),t.qZA()()()(),t.TgZ(37,"div",0),t._UZ(38,"nz-skeleton",23),t.qZA(),t.YNc(39,__,12,9,"div",24),t.TgZ(40,"worklenz-project-form-modal",25),t.NdJ("onDelete",function(){return A.back()})("onUpdate",function(){return A.refreshAll()}),t.qZA(),t.YNc(41,w_,1,3,"worklenz-project-members-form",26),t.YNc(42,v_,1,2,"worklenz-import-tasks-template",27),t._UZ(43,"worklenz-project-updates-drawer")(44,"worklenz-project-template-create-drawer",28)),2&e&&(t.xp6(1),t.Q6J("nzGhost",!1),t.xp6(2),t.Q6J("ngIf",A.loading),t.xp6(1),t.Q6J("ngIf",!A.loading),t.xp6(3),t.Q6J("ngClass",A.project.notes&&A.project.notes.length>60?"ellipsis-on":""),t.xp6(1),t.hij(" ",t.Dn7(9,23,A.project.notes,60,"...")," "),t.xp6(3),t.Q6J("ngIf",A.project.notes&&A.project.notes.length>60),t.xp6(1),t.Q6J("nzVisible",A.showDescriptionModel)("nzFooter",null)("nzCentered",!0),t.xp6(5),t.Q6J("ngIf",A.ownerOrAdmin),t.xp6(5),t.Q6J("ngIf",A.ownerOrAdmin||A.isProjectManager()),t.xp6(10),t.Q6J("nzSelectedIndex",A.selectedTabIndex)("nzAnimated",!1)("nzSize","small"),t.xp6(1),t.Q6J("ngForOf",A.tabs),t.xp6(3),t.Q6J("projectId",A.projectId)("refreshing",A.refreshing),t.xp6(2),t.Q6J("nzActive",!0)("nzLoading",A.refreshing),t.xp6(1),t.Q6J("ngIf",!A.refreshing),t.xp6(2),t.Q6J("ngIf",A.projectId),t.xp6(1),t.Q6J("ngIf",A.projectId),t.xp6(2),t.Q6J("projectId",A.projectId))},dependencies:[Ot.mk,Ot.sg,Ot.O5,Ot.RF,Ot.n9,be.rH,Ea.du,Ea.Hf,Fr.$O,Fr.u9,Fr.yG,Fr.Jp,Fr.$,xA.ix,xA.fY,aA.w,pn.dQ,$i.xH,$i.xw,$i.Ao,$i.Fx,qe.Ls,$e.ZU,mn.j,tA.SY,ln.ng,ln.Xw,ln.yg,Qn.NU,Qn.$1,wA.wO,wA.r9,Xe.cm,Xe.RR,Xe.wA,Ld.w,cr.g,wl.c,vl.m,qa,gl.p,Es.e,Cr,Tm,Dm,zo,Vm,Wm,L2,Ot.uU,wg.N7,si.m],styles:["nz-page-header-title[_ngcontent-%COMP%]{max-width:60%}nz-page-header-subtitle[_ngcontent-%COMP%]{max-width:35%}.project-title[_ngcontent-%COMP%]{max-width:400px;overflow:hidden;text-overflow:ellipsis}.project-subtitle.ellipsis-on[_ngcontent-%COMP%]{max-width:75%;overflow:hidden;text-overflow:ellipsis}.updates-badge[_ngcontent-%COMP%]{position:absolute;top:6px;right:2px;background-color:#ff4d4f;width:6px;height:6px;border-radius:100%}.tab-text[_ngcontent-%COMP%], .pin-icon[_ngcontent-%COMP%]{color:#1890ff}.rotated[_ngcontent-%COMP%]{transform:rotate(-45deg);transition:.15s all}"],changeDetection:0}),i})()}];let B_=(()=>{var r;class i{}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[be.Bz.forChild(C_),be.Bz]}),i})();var b_=ot(95717),M1=ot(16976),y_=ot(57907),N1=ot(60804),vg=ot(6361),x_=ot(3626),T_=ot(28538),k_=ot(96494),Q_=ot(90694),F_=ot(33410),O1=ot(57417),U_=ot(90565),I_=ot(12996),S_=ot(38125),Cg=ot(26501),P1=ot(331),D1=ot(29666);const z_=[{path:"",component:qa}];let L_=(()=>{var r;class i{}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[be.Bz.forChild(z_),be.Bz]}),i})(),E_=(()=>{var r;class i{}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[Ot.ez,L_,Or.Rt,ur.mS,xA.sL,Nn.Wr,wr.Hb,Xe.b1,N1.Xo,ri.U5,qe.PV,ZA.o7,M1.Ph,Br._p,O1.$6,_s.W,vr.LV,ln.H0,Qn.zf,_n.j,Ce.HQ,mn.X,tA.cg,$e.ZJ,Ea.Qp,_r._t,Cg.z,Oa.W,wg.YS,jt.u5,jt.UX,lr.BL,Pa.L,wn.vh,ii.o]}),i})();var M_=ot(61320),N_=ot(68907),O_=ot(29402);const P_=[];let D_=(()=>{var r;class i{}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[be.Bz.forChild(P_),be.Bz]}),i})(),H_=(()=>{var r;class i{}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[Ot.ez,D_,Nn.Wr,LA.Jb,mn.X,qe.PV,Cg.z,$e.ZJ,Or.Rt,tA.cg,ln.H0,xA.sL,ZA.o7,pn.vG,jt.UX,jt.u5,wr.Hb,D1.V,Xe.b1,wA.ip,vg.N7,vg.Cl]}),i})(),Z_=(()=>{var r;class i{}return(r=i).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[Ot.ez,B_,U1.S,Ea.Qp,jt.UX,ri.U5,ZA.o7,b_.ic,Fr.KJ,xA.sL,Ce.HQ,$i.we,qe.PV,M1.Ph,$e.ZJ,vr.LV,mn.X,jt.u5,Nn.Wr,_s.W,Br._p,Or.Rt,tA.cg,ln.H0,y_.aF,wr.Hb,N1.Xo,vg.Cl,wn.vh,Qn.zf,x_.lt,T_.j,F_.wm,k_.m,Q_.AdministratorModule,_n.j,ur.mS,O1.$6,U_.cD,$o.KW,lr.BL,Xe.b1,_r._t,Tc.Ju,Pa.L,Oa.W,ii.o,Ld.w,cr.g,wl.c,I_.A2,S_.q6,Cg.z,P1.g,D1.V,wg.YS,E_,gl.p,M_.YM,N_.a,I1.D,nr.vQ,Es.e,xc.p,O_.J,z1.o,H_]}),i})();t.B6R(zo,[Ot.mk,Ot.O5,jt.JJ,LA.SK,xA.ix,aA.w,pn.dQ,qe.Ls,jt.On,Nn.Ie,$o.wY,P1.P,Mo,Cd,cd],[])},74456:function(d1){d1.exports=function(){"use strict";var so=function(l,c){return(so=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var _ in u)Object.prototype.hasOwnProperty.call(u,_)&&(d[_]=u[_])})(l,c)};function ot(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=l}so(l,c),l.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}var Ot=function(){return Ot=Object.assign||function(c){for(var d,u=1,_=arguments.length;u<_;u++)for(var B in d=arguments[u])Object.prototype.hasOwnProperty.call(d,B)&&(c[B]=d[B]);return c},Ot.apply(this,arguments)};function be(l,c,d,u){return new(d||(d=Promise))(function(B,Q){function O(rt){try{X(u.next(rt))}catch(lt){Q(lt)}}function N(rt){try{X(u.throw(rt))}catch(lt){Q(lt)}}function X(rt){rt.done?B(rt.value):function _(B){return B instanceof d?B:new d(function(Q){Q(B)})}(rt.value).then(O,N)}X((u=u.apply(l,c||[])).next())})}function Ft(l,c){var u,_,B,Q,d={label:0,sent:function(){if(1&B[0])throw B[1];return B[1]},trys:[],ops:[]};return Q={next:O(0),throw:O(1),return:O(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function O(X){return function(rt){return function N(X){if(u)throw new TypeError("Generator is already executing.");for(;d;)try{if(u=1,_&&(B=2&X[0]?_.return:X[0]?_.throw||((B=_.return)&&B.call(_),0):_.next)&&!(B=B.call(_,X[1])).done)return B;switch(_=0,B&&(X=[2&X[0],B.value]),X[0]){case 0:case 1:B=X;break;case 4:return d.label++,{value:X[1],done:!1};case 5:d.label++,_=X[1],X=[0];continue;case 7:X=d.ops.pop(),d.trys.pop();continue;default:if(!(B=(B=d.trys).length>0&&B[B.length-1])&&(6===X[0]||2===X[0])){d=0;continue}if(3===X[0]&&(!B||X[1]>B[0]&&X[1]<B[3])){d.label=X[1];break}if(6===X[0]&&d.label<B[1]){d.label=B[1],B=X;break}if(B&&d.label<B[2]){d.label=B[2],d.ops.push(X);break}B[2]&&d.ops.pop(),d.trys.pop();continue}X=c.call(l,d)}catch(rt){X=[6,rt],_=0}finally{u=B=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([X,rt])}}}function t(l,c,d){if(d||2===arguments.length)for(var B,u=0,_=c.length;u<_;u++)(B||!(u in c))&&(B||(B=Array.prototype.slice.call(c,0,u)),B[u]=c[u]);return l.concat(B||c)}for(var Ze=function(){function l(c,d,u,_){this.left=c,this.top=d,this.width=u,this.height=_}return l.prototype.add=function(c,d,u,_){return new l(this.left+c,this.top+d,this.width+u,this.height+_)},l.fromClientRect=function(c,d){return new l(d.left+c.windowBounds.left,d.top+c.windowBounds.top,d.width,d.height)},l.fromDOMRectList=function(c,d){var u=Array.from(d).find(function(_){return 0!==_.width});return u?new l(u.left+c.windowBounds.left,u.top+c.windowBounds.top,u.width,u.height):l.EMPTY},l.EMPTY=new l(0,0,0,0),l}(),cr=function(l,c){return Ze.fromClientRect(l,c.getBoundingClientRect())},jt=function(l){for(var c=[],d=0,u=l.length;d<u;){var _=l.charCodeAt(d++);if(_>=55296&&_<=56319&&d<u){var B=l.charCodeAt(d++);56320==(64512&B)?c.push(((1023&_)<<10)+(1023&B)+65536):(c.push(_),d--)}else c.push(_)}return c},ue=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];if(String.fromCodePoint)return String.fromCodePoint.apply(String,l);var d=l.length;if(!d)return"";for(var u=[],_=-1,B="";++_<d;){var Q=l[_];Q<=65535?u.push(Q):u.push(55296+((Q-=65536)>>10),Q%1024+56320),(_+1===d||u.length>16384)&&(B+=String.fromCharCode.apply(String,u),u.length=0)}return B},Au="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zh=typeof Uint8Array>"u"?[]:new Uint8Array(256),LA=0;LA<64;LA++)Zh[Au.charCodeAt(LA)]=LA;for(var ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ZA=typeof Uint8Array>"u"?[]:new Uint8Array(256),xA=0;xA<64;xA++)ZA[ri.charCodeAt(xA)]=xA;for(var Mn=function(l,c,d){return l.slice?l.slice(c,d):new Uint16Array(Array.prototype.slice.call(l,c,d))},Ce=function(){function l(c,d,u,_,B,Q){this.initialValue=c,this.errorValue=d,this.highStart=u,this.highValueIndex=_,this.index=B,this.data=Q}return l.prototype.get=function(c){var d;if(c>=0){if(c<55296||c>56319&&c<=65535)return this.data[d=((d=this.index[c>>5])<<2)+(31&c)];if(c<=65535)return this.data[d=((d=this.index[2048+(c-55296>>5)])<<2)+(31&c)];if(c<this.highStart)return d=this.index[d=2080+(c>>11)],this.data[d=((d=this.index[d+=c>>5&63])<<2)+(31&c)];if(c<=1114111)return this.data[this.highValueIndex]}return this.errorValue},l}(),qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e=typeof Uint8Array>"u"?[]:new Uint8Array(256),Nn=0;Nn<64;Nn++)$e[qe.charCodeAt(Nn)]=Nn;var d,u,_,Q,O,oi=10,Qc=13,oo=15,ta=17,ao=18,Yh=19,ou=20,Uc=21,co=22,ws=24,Fn=25,lo=26,vs=27,Cs=28,zi=30,ea=32,Aa=33,Sc=34,zc=35,uo=37,Ec=38,na=39,ra=40,au=42,Xh=[9001,65288],Te="\xd7",bs=(d=function(l){var u,B,Q,O,N,c=.75*l.length,d=l.length,_=0;"="===l[l.length-1]&&(c--,"="===l[l.length-2]&&c--);var X=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(c):new Array(c),rt=Array.isArray(X)?X:new Uint8Array(X);for(u=0;u<d;u+=4)B=ZA[l.charCodeAt(u)],Q=ZA[l.charCodeAt(u+1)],O=ZA[l.charCodeAt(u+2)],N=ZA[l.charCodeAt(u+3)],rt[_++]=B<<2|Q>>4,rt[_++]=(15&Q)<<4|O>>2,rt[_++]=(3&O)<<6|63&N;return X}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),u=Array.isArray(d)?function(l){for(var c=l.length,d=[],u=0;u<c;u+=4)d.push(l[u+3]<<24|l[u+2]<<16|l[u+1]<<8|l[u]);return d}(d):new Uint32Array(d),_=Array.isArray(d)?function(l){for(var c=l.length,d=[],u=0;u<c;u+=2)d.push(l[u+1]<<8|l[u]);return d}(d):new Uint16Array(d),Q=Mn(_,12,u[4]/2),O=2===u[5]?Mn(_,(24+u[4])/2):function(l,c,d){return l.slice?l.slice(c,d):new Uint32Array(Array.prototype.slice.call(l,c,d))}(u,Math.ceil((24+u[4])/4)),new Ce(u[0],u[1],u[2],u[3],Q,O)),Ur=[zi,36],Nc=[1,2,3,5],lu=[oi,8],uu=[vs,lo],$h=Nc.concat(lu),Oc=[Ec,na,ra,Sc,zc],tp=[oo,Qc],ia=function(l,c,d,u){var _=u[d];if(Array.isArray(l)?-1!==l.indexOf(_):l===_)for(var B=d;B<=u.length;){if((Q=u[++B])===c)return!0;if(Q!==oi)break}if(_===oi)for(B=d;B>0;){var O=u[--B];if(Array.isArray(l)?-1!==l.indexOf(O):l===O)for(var N=d;N<=u.length;){var Q;if((Q=u[++N])===c)return!0;if(Q!==oi)break}if(O!==oi)break}return!1},hu=function(l,c){for(var d=l;d>=0;){var u=c[d];if(u!==oi)return u;d--}return 0},Pc=function(l,c,d,u,_){if(0===d[u])return Te;var B=u-1;if(Array.isArray(_)&&!0===_[B])return Te;var Q=B-1,O=B+1,N=c[B],X=Q>=0?c[Q]:0,rt=c[O];if(2===N&&3===rt)return Te;if(-1!==Nc.indexOf(N))return"!";if(-1!==Nc.indexOf(rt)||-1!==lu.indexOf(rt))return Te;if(8===hu(B,c))return"\xf7";if(11===bs.get(l[B])||(N===ea||N===Aa)&&11===bs.get(l[O])||7===N||7===rt||9===N||-1===[oi,Qc,oo].indexOf(N)&&9===rt||-1!==[ta,ao,Yh,ws,Cs].indexOf(rt)||hu(B,c)===co||ia(23,co,B,c)||ia([ta,ao],Uc,B,c)||ia(12,12,B,c))return Te;if(N===oi)return"\xf7";if(23===N||23===rt)return Te;if(16===rt||16===N)return"\xf7";if(-1!==[Qc,oo,Uc].indexOf(rt)||14===N||36===X&&-1!==tp.indexOf(N)||N===Cs&&36===rt||rt===ou||-1!==Ur.indexOf(rt)&&N===Fn||-1!==Ur.indexOf(N)&&rt===Fn||N===vs&&-1!==[uo,ea,Aa].indexOf(rt)||-1!==[uo,ea,Aa].indexOf(N)&&rt===lo||-1!==Ur.indexOf(N)&&-1!==uu.indexOf(rt)||-1!==uu.indexOf(N)&&-1!==Ur.indexOf(rt)||-1!==[vs,lo].indexOf(N)&&(rt===Fn||-1!==[co,oo].indexOf(rt)&&c[O+1]===Fn)||-1!==[co,oo].indexOf(N)&&rt===Fn||N===Fn&&-1!==[Fn,Cs,ws].indexOf(rt))return Te;if(-1!==[Fn,Cs,ws,ta,ao].indexOf(rt))for(var lt=B;lt>=0;){if((Bt=c[lt])===Fn)return Te;if(-1===[Cs,ws].indexOf(Bt))break;lt--}if(-1!==[vs,lo].indexOf(rt))for(lt=-1!==[ta,ao].indexOf(N)?Q:B;lt>=0;){var Bt;if((Bt=c[lt])===Fn)return Te;if(-1===[Cs,ws].indexOf(Bt))break;lt--}if(Ec===N&&-1!==[Ec,na,Sc,zc].indexOf(rt)||-1!==[na,Sc].indexOf(N)&&-1!==[na,ra].indexOf(rt)||-1!==[ra,zc].indexOf(N)&&rt===ra||-1!==Oc.indexOf(N)&&-1!==[ou,lo].indexOf(rt)||-1!==Oc.indexOf(rt)&&N===vs||-1!==Ur.indexOf(N)&&-1!==Ur.indexOf(rt)||N===ws&&-1!==Ur.indexOf(rt)||-1!==Ur.concat(Fn).indexOf(N)&&rt===co&&-1===Xh.indexOf(l[O])||-1!==Ur.concat(Fn).indexOf(rt)&&N===ao)return Te;if(41===N&&41===rt){for(var Xt=d[B],Dt=1;Xt>0&&41===c[--Xt];)Dt++;if(Dt%2!=0)return Te}return N===ea&&rt===Aa?Te:"\xf7"},ep=function(l,c){c||(c={lineBreak:"normal",wordBreak:"normal"});var d=function(l,c){void 0===c&&(c="strict");var d=[],u=[],_=[];return l.forEach(function(B,Q){var O=bs.get(B);if(O>50?(_.push(!0),O-=50):_.push(!1),-1!==["normal","auto","loose"].indexOf(c)&&-1!==[8208,8211,12316,12448].indexOf(B))return u.push(Q),d.push(16);if(4===O||11===O){if(0===Q)return u.push(Q),d.push(zi);var N=d[Q-1];return-1===$h.indexOf(N)?(u.push(u[Q-1]),d.push(N)):(u.push(Q),d.push(zi))}return u.push(Q),31===O?d.push("strict"===c?Uc:uo):O===au||29===O?d.push(zi):43===O?d.push(B>=131072&&B<=196605||B>=196608&&B<=262141?uo:zi):void d.push(O)}),[u,d,_]}(l,c.lineBreak),u=d[0],_=d[1],B=d[2];return("break-all"===c.wordBreak||"break-word"===c.wordBreak)&&(_=_.map(function(O){return-1!==[Fn,zi,au].indexOf(O)?uo:O})),[u,_,"keep-all"===c.wordBreak?B.map(function(O,N){return O&&l[N]>=19968&&l[N]<=40959}):void 0]},pu=function(){function l(c,d,u,_){this.codePoints=c,this.required="!"===d,this.start=u,this.end=_}return l.prototype.slice=function(){return ue.apply(void 0,this.codePoints.slice(this.start,this.end))},l}(),bA=function(l){return l>=48&&l<=57},Xn=function(l){return bA(l)||l>=65&&l<=70||l>=97&&l<=102},QA=function(l){return 10===l||9===l||32===l},_o=function(l){return function(l){return function(l){return l>=97&&l<=122}(l)||function(l){return l>=65&&l<=90}(l)}(l)||function(l){return l>=128}(l)||95===l},Kc=function(l){return _o(l)||bA(l)||45===l},Iu=function(l){return l>=0&&l<=8||11===l||l>=14&&l<=31||127===l},Sr=function(l,c){return 92===l&&10!==c},wo=function(l,c,d){return 45===l?_o(c)||Sr(c,d):!!_o(l)||!(92!==l||!Sr(l,c))},ua=function(l,c,d){return 43===l||45===l?!!bA(c)||46===c&&bA(d):bA(46===l?c:l)},f1=function(l){var c=0,d=1;(43===l[c]||45===l[c])&&(45===l[c]&&(d=-1),c++);for(var u=[];bA(l[c]);)u.push(l[c++]);var _=u.length?parseInt(ue.apply(void 0,u),10):0;46===l[c]&&c++;for(var B=[];bA(l[c]);)B.push(l[c++]);var Q=B.length,O=Q?parseInt(ue.apply(void 0,B),10):0;(69===l[c]||101===l[c])&&c++;var N=1;(43===l[c]||45===l[c])&&(45===l[c]&&(N=-1),c++);for(var X=[];bA(l[c]);)X.push(l[c++]);var rt=X.length?parseInt(ue.apply(void 0,X),10):0;return d*(_+O*Math.pow(10,-Q))*Math.pow(10,N*rt)},g1={type:2},m1={type:3},sp={type:4},da={type:13},_1={type:8},w1={type:21},Su={type:9},vo={type:10},v1={type:11},C1={type:12},B1={type:14},Co={type:23},b1={type:1},y1={type:25},op={type:24},Gc={type:26},x1={type:27},T1={type:28},k1={type:29},Bo={type:31},zu={type:32},ap=function(){function l(){this._value=[]}return l.prototype.write=function(c){this._value=this._value.concat(jt(c))},l.prototype.read=function(){for(var c=[],d=this.consumeToken();d!==zu;)c.push(d),d=this.consumeToken();return c},l.prototype.consumeToken=function(){var c=this.consumeCodePoint();switch(c){case 34:return this.consumeStringToken(34);case 35:var d=this.peekCodePoint(0),u=this.peekCodePoint(1),_=this.peekCodePoint(2);if(Kc(d)||Sr(u,_)){var B=wo(d,u,_)?2:1;return{type:5,value:this.consumeName(),flags:B}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),da;break;case 39:return this.consumeStringToken(39);case 40:return g1;case 41:return m1;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),B1;break;case 43:if(ua(c,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(c),this.consumeNumericToken();break;case 44:return sp;case 45:var O=c,N=this.peekCodePoint(0),X=this.peekCodePoint(1);if(ua(O,N,X))return this.reconsumeCodePoint(c),this.consumeNumericToken();if(wo(O,N,X))return this.reconsumeCodePoint(c),this.consumeIdentLikeToken();if(45===N&&62===X)return this.consumeCodePoint(),this.consumeCodePoint(),op;break;case 46:if(ua(c,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(c),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var rt=this.consumeCodePoint();if(42===rt&&47===(rt=this.consumeCodePoint()))return this.consumeToken();if(-1===rt)return this.consumeToken()}break;case 58:return Gc;case 59:return x1;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),y1;break;case 64:var lt=this.peekCodePoint(0),Bt=this.peekCodePoint(1),Xt=this.peekCodePoint(2);if(wo(lt,Bt,Xt))return{type:7,value:this.consumeName()};break;case 91:return T1;case 92:if(Sr(c,this.peekCodePoint(0)))return this.reconsumeCodePoint(c),this.consumeIdentLikeToken();break;case 93:return k1;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),_1;break;case 123:return v1;case 125:return C1;case 117:case 85:var Dt=this.peekCodePoint(0),Gt=this.peekCodePoint(1);return 43===Dt&&(Xn(Gt)||63===Gt)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(c),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Su;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),w1;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),vo;break;case-1:return zu}return QA(c)?(this.consumeWhiteSpace(),Bo):bA(c)?(this.reconsumeCodePoint(c),this.consumeNumericToken()):_o(c)?(this.reconsumeCodePoint(c),this.consumeIdentLikeToken()):{type:6,value:ue(c)}},l.prototype.consumeCodePoint=function(){var c=this._value.shift();return typeof c>"u"?-1:c},l.prototype.reconsumeCodePoint=function(c){this._value.unshift(c)},l.prototype.peekCodePoint=function(c){return c>=this._value.length?-1:this._value[c]},l.prototype.consumeUnicodeRangeToken=function(){for(var c=[],d=this.consumeCodePoint();Xn(d)&&c.length<6;)c.push(d),d=this.consumeCodePoint();for(var u=!1;63===d&&c.length<6;)c.push(d),d=this.consumeCodePoint(),u=!0;if(u)return{type:30,start:parseInt(ue.apply(void 0,c.map(function(N){return 63===N?48:N})),16),end:parseInt(ue.apply(void 0,c.map(function(N){return 63===N?70:N})),16)};var Q=parseInt(ue.apply(void 0,c),16);if(45===this.peekCodePoint(0)&&Xn(this.peekCodePoint(1))){this.consumeCodePoint(),d=this.consumeCodePoint();for(var O=[];Xn(d)&&O.length<6;)O.push(d),d=this.consumeCodePoint();return{type:30,start:Q,end:parseInt(ue.apply(void 0,O),16)}}return{type:30,start:Q,end:Q}},l.prototype.consumeIdentLikeToken=function(){var c=this.consumeName();return"url"===c.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:c}):{type:20,value:c}},l.prototype.consumeUrlToken=function(){var c=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var d=this.peekCodePoint(0);if(39===d||34===d){var u=this.consumeStringToken(this.consumeCodePoint());return 0===u.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:u.value}):(this.consumeBadUrlRemnants(),Co)}for(;;){var _=this.consumeCodePoint();if(-1===_||41===_)return{type:22,value:ue.apply(void 0,c)};if(QA(_))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:ue.apply(void 0,c)}):(this.consumeBadUrlRemnants(),Co);if(34===_||39===_||40===_||Iu(_))return this.consumeBadUrlRemnants(),Co;if(92===_){if(!Sr(_,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Co;c.push(this.consumeEscapedCodePoint())}else c.push(_)}},l.prototype.consumeWhiteSpace=function(){for(;QA(this.peekCodePoint(0));)this.consumeCodePoint()},l.prototype.consumeBadUrlRemnants=function(){for(;;){var c=this.consumeCodePoint();if(41===c||-1===c)return;Sr(c,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},l.prototype.consumeStringSlice=function(c){for(var u="";c>0;){var _=Math.min(5e4,c);u+=ue.apply(void 0,this._value.splice(0,_)),c-=_}return this._value.shift(),u},l.prototype.consumeStringToken=function(c){for(var d="",u=0;;){var _=this._value[u];if(-1===_||void 0===_||_===c)return{type:0,value:d+=this.consumeStringSlice(u)};if(10===_)return this._value.splice(0,u),b1;if(92===_){var B=this._value[u+1];-1!==B&&void 0!==B&&(10===B?(d+=this.consumeStringSlice(u),u=-1,this._value.shift()):Sr(_,B)&&(d+=this.consumeStringSlice(u),d+=ue(this.consumeEscapedCodePoint()),u=-1))}u++}},l.prototype.consumeNumber=function(){var c=[],d=4,u=this.peekCodePoint(0);for((43===u||45===u)&&c.push(this.consumeCodePoint());bA(this.peekCodePoint(0));)c.push(this.consumeCodePoint());u=this.peekCodePoint(0);var _=this.peekCodePoint(1);if(46===u&&bA(_))for(c.push(this.consumeCodePoint(),this.consumeCodePoint()),d=8;bA(this.peekCodePoint(0));)c.push(this.consumeCodePoint());u=this.peekCodePoint(0),_=this.peekCodePoint(1);var B=this.peekCodePoint(2);if((69===u||101===u)&&((43===_||45===_)&&bA(B)||bA(_)))for(c.push(this.consumeCodePoint(),this.consumeCodePoint()),d=8;bA(this.peekCodePoint(0));)c.push(this.consumeCodePoint());return[f1(c),d]},l.prototype.consumeNumericToken=function(){var c=this.consumeNumber(),d=c[0],u=c[1],_=this.peekCodePoint(0),B=this.peekCodePoint(1),Q=this.peekCodePoint(2);return wo(_,B,Q)?{type:15,number:d,flags:u,unit:this.consumeName()}:37===_?(this.consumeCodePoint(),{type:16,number:d,flags:u}):{type:17,number:d,flags:u}},l.prototype.consumeEscapedCodePoint=function(){var c=this.consumeCodePoint();if(Xn(c)){for(var d=ue(c);Xn(this.peekCodePoint(0))&&d.length<6;)d+=ue(this.consumeCodePoint());QA(this.peekCodePoint(0))&&this.consumeCodePoint();var u=parseInt(d,16);return 0===u||function(l){return l>=55296&&l<=57343}(u)||u>1114111?65533:u}return-1===c?65533:c},l.prototype.consumeName=function(){for(var c="";;){var d=this.consumeCodePoint();if(Kc(d))c+=ue(d);else{if(!Sr(d,this.peekCodePoint(0)))return this.reconsumeCodePoint(d),c;c+=ue(this.consumeEscapedCodePoint())}}},l}(),Lu=function(){function l(c){this._tokens=c}return l.create=function(c){var d=new ap;return d.write(c),new l(d.read())},l.parseValue=function(c){return l.create(c).parseComponentValue()},l.parseValues=function(c){return l.create(c).parseComponentValues()},l.prototype.parseComponentValue=function(){for(var c=this.consumeToken();31===c.type;)c=this.consumeToken();if(32===c.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(c);var d=this.consumeComponentValue();do{c=this.consumeToken()}while(31===c.type);if(32===c.type)return d;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},l.prototype.parseComponentValues=function(){for(var c=[];;){var d=this.consumeComponentValue();if(32===d.type)return c;c.push(d),c.push()}},l.prototype.consumeComponentValue=function(){var c=this.consumeToken();switch(c.type){case 11:case 28:case 2:return this.consumeSimpleBlock(c.type);case 19:return this.consumeFunction(c)}return c},l.prototype.consumeSimpleBlock=function(c){for(var d={type:c,values:[]},u=this.consumeToken();;){if(32===u.type||Mu(u,c))return d;this.reconsumeToken(u),d.values.push(this.consumeComponentValue()),u=this.consumeToken()}},l.prototype.consumeFunction=function(c){for(var d={name:c.value,values:[],type:18};;){var u=this.consumeToken();if(32===u.type||3===u.type)return d;this.reconsumeToken(u),d.values.push(this.consumeComponentValue())}},l.prototype.consumeToken=function(){var c=this._tokens.shift();return typeof c>"u"?zu:c},l.prototype.reconsumeToken=function(c){this._tokens.unshift(c)},l}(),ui=function(l){return 15===l.type},bo=function(l){return 17===l.type},lA=function(l){return 20===l.type},Q1=function(l){return 0===l.type},Eu=function(l,c){return lA(l)&&l.value===c},ha=function(l){return 31!==l.type},Pi=function(l){return 31!==l.type&&4!==l.type},fr=function(l){var c=[],d=[];return l.forEach(function(u){if(4===u.type){if(0===d.length)throw new Error("Error parsing function args, zero tokens for arg");return c.push(d),void(d=[])}31!==u.type&&d.push(u)}),d.length&&c.push(d),c},Mu=function(l,c){return 11===c&&12===l.type||28===c&&29===l.type||2===c&&3===l.type},zr=function(l){return 17===l.type||15===l.type},EA=function(l){return 16===l.type||zr(l)},yo=function(l){return l.length>1?[l[0],l[1]]:[l[0]]},YA={type:17,number:0,flags:4},Nu={type:16,number:50,flags:4},Di={type:16,number:100,flags:4},pa=function(l,c,d){var u=l[0],_=l[1];return[gA(u,c),gA(typeof _<"u"?_:u,d)]},gA=function(l,c){if(16===l.type)return l.number/100*c;if(ui(l))switch(l.unit){case"rem":case"em":return 16*l.number;default:return l.number}return l.number},xo_parse=function(l,c){if(15===c.type)switch(c.unit){case"deg":return Math.PI*c.number/180;case"grad":return Math.PI/200*c.number;case"rad":return c.number;case"turn":return 2*Math.PI*c.number}throw new Error("Unsupported angle type")},To=function(l){return 15===l.type&&("deg"===l.unit||"grad"===l.unit||"rad"===l.unit||"turn"===l.unit)},Qs=function(l){switch(l.filter(lA).map(function(d){return d.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[YA,YA];case"to top":case"bottom":return vn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[YA,Di];case"to right":case"left":return vn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Di,Di];case"to bottom":case"top":return vn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Di,YA];case"to left":case"right":return vn(270)}return 0},vn=function(l){return Math.PI*l/180},Cn_parse=function(l,c){if(18===c.type){var d=Ou[c.name];if(typeof d>"u")throw new Error('Attempting to parse an unsupported color function "'+c.name+'"');return d(l,c.values)}if(5===c.type){if(3===c.value.length){var u=c.value.substring(0,1),_=c.value.substring(1,2),B=c.value.substring(2,3);return tr(parseInt(u+u,16),parseInt(_+_,16),parseInt(B+B,16),1)}if(4===c.value.length){u=c.value.substring(0,1),_=c.value.substring(1,2),B=c.value.substring(2,3);var Q=c.value.substring(3,4);return tr(parseInt(u+u,16),parseInt(_+_,16),parseInt(B+B,16),parseInt(Q+Q,16)/255)}if(6===c.value.length)return u=c.value.substring(0,2),_=c.value.substring(2,4),B=c.value.substring(4,6),tr(parseInt(u,16),parseInt(_,16),parseInt(B,16),1);if(8===c.value.length)return u=c.value.substring(0,2),_=c.value.substring(2,4),B=c.value.substring(4,6),Q=c.value.substring(6,8),tr(parseInt(u,16),parseInt(_,16),parseInt(B,16),parseInt(Q,16)/255)}if(20===c.type){var O=gr[c.value.toUpperCase()];if(typeof O<"u")return O}return gr.TRANSPARENT},Lr=function(l){return 0==(255&l)},MA=function(l){var c=255&l,d=255&l>>8,u=255&l>>16,_=255&l>>24;return c<255?"rgba("+_+","+u+","+d+","+c/255+")":"rgb("+_+","+u+","+d+")"},tr=function(l,c,d,u){return(l<<24|c<<16|d<<8|Math.round(255*u)<<0)>>>0},en=function(l,c){if(17===l.type)return l.number;if(16===l.type){var d=3===c?1:255;return 3===c?l.number/100*d:Math.round(l.number/100*d)}return 0},An=function(l,c){var d=c.filter(Pi);if(3===d.length){var u=d.map(en);return tr(u[0],u[1],u[2],1)}if(4===d.length){var O=d.map(en);return tr(O[0],O[1],O[2],O[3])}return 0};function qA(l,c,d){return d<0&&(d+=1),d>=1&&(d-=1),d<1/6?(c-l)*d*6+l:d<.5?c:d<2/3?6*(c-l)*(2/3-d)+l:l}var nn=function(l,c){var d=c.filter(Pi),u=d[0],_=d[1],B=d[2],Q=d[3],O=(17===u.type?vn(u.number):xo_parse(l,u))/(2*Math.PI),N=EA(_)?_.number/100:0,X=EA(B)?B.number/100:0,rt=typeof Q<"u"&&EA(Q)?gA(Q,1):1;if(0===N)return tr(255*X,255*X,255*X,1);var lt=X<=.5?X*(N+1):X+N-X*N,Bt=2*X-lt,Xt=qA(Bt,lt,O+1/3),Dt=qA(Bt,lt,O),Gt=qA(Bt,lt,O-1/3);return tr(255*Xt,255*Dt,255*Gt,rt)},Ou={hsl:nn,hsla:nn,rgb:An,rgba:An},ko=function(l,c){return Cn_parse(l,Lu.create(c).parseComponentValue())},gr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cp={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(l,c){return c.map(function(d){if(lA(d))switch(d.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},lp={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fs=function(l,c){var d=Cn_parse(l,c[0]),u=c[1];return u&&EA(u)?{color:d,stop:u}:{color:d,stop:null}},Pu=function(l,c){var d=l[0],u=l[l.length-1];null===d.stop&&(d.stop=YA),null===u.stop&&(u.stop=Di);for(var _=[],B=0,Q=0;Q<l.length;Q++){var O=l[Q].stop;if(null!==O){var N=gA(O,c);_.push(N>B?N:B),B=N}else _.push(null)}var X=null;for(Q=0;Q<_.length;Q++){var rt=_[Q];if(null===rt)null===X&&(X=Q);else if(null!==X){for(var lt=Q-X,Xt=(rt-_[X-1])/(lt+1),Dt=1;Dt<=lt;Dt++)_[X+Dt-1]=Xt*Dt;X=null}}return l.map(function(Gt,Ue){return{color:Gt.color,stop:Math.max(Math.min(1,_[Ue]/c),0)}})},Jc=function(l,c,d){var u="number"==typeof l?l:function(l,c,d){var u=c/2,_=d/2,B=gA(l[0],c)-u,Q=_-gA(l[1],d);return(Math.atan2(Q,B)+2*Math.PI)%(2*Math.PI)}(l,c,d),_=Math.abs(c*Math.sin(u))+Math.abs(d*Math.cos(u)),B=c/2,Q=d/2,O=_/2,N=Math.sin(u-Math.PI/2)*O,X=Math.cos(u-Math.PI/2)*O;return[_,B-X,B+X,Q-N,Q+N]},Pn=function(l,c){return Math.sqrt(l*l+c*c)},Hi=function(l,c,d,u,_){return[[0,0],[0,c],[l,0],[l,c]].reduce(function(Q,O){var rt=Pn(d-O[0],u-O[1]);return(_?rt<Q.optimumDistance:rt>Q.optimumDistance)?{optimumCorner:O,optimumDistance:rt}:Q},{optimumDistance:_?1/0:-1/0,optimumCorner:null}).optimumCorner},Zi=function(l,c){var d=vn(180),u=[];return fr(c).forEach(function(_,B){if(0===B){var Q=_[0];if(20===Q.type&&-1!==["top","left","right","bottom"].indexOf(Q.value))return void(d=Qs(_));if(To(Q))return void(d=(xo_parse(l,Q)+vn(270))%vn(360))}var O=Fs(l,_);u.push(O)}),{angle:d,stops:u,type:1}},hi="closest-side",ji="farthest-side",pe="closest-corner",yA="farthest-corner",pi="ellipse",ye="contain",rn=function(l,c){var d=0,u=3,_=[],B=[];return fr(c).forEach(function(Q,O){var N=!0;if(0===O?N=Q.reduce(function(rt,lt){if(lA(lt))switch(lt.value){case"center":return B.push(Nu),!1;case"top":case"left":return B.push(YA),!1;case"right":case"bottom":return B.push(Di),!1}else if(EA(lt)||zr(lt))return B.push(lt),!1;return rt},N):1===O&&(N=Q.reduce(function(rt,lt){if(lA(lt))switch(lt.value){case"circle":return d=0,!1;case pi:return d=1,!1;case ye:case hi:return u=0,!1;case ji:return u=1,!1;case pe:return u=2,!1;case"cover":case yA:return u=3,!1}else if(zr(lt)||EA(lt))return Array.isArray(u)||(u=[]),u.push(lt),!1;return rt},N)),N){var X=Fs(l,Q);_.push(X)}}),{size:u,shape:d,stops:_,position:B,type:2}},Yc_parse=function(l,c){if(22===c.type){var d={url:c.value,type:0};return l.cache.addImage(c.value),d}if(18===c.type){var u=ju[c.name];if(typeof u>"u")throw new Error('Attempting to parse an unsupported image function "'+c.name+'"');return u(l,c.values)}throw new Error("Unsupported image type "+c.type)};for(var ju={"linear-gradient":function(l,c){var d=vn(180),u=[];return fr(c).forEach(function(_,B){if(0===B){var Q=_[0];if(20===Q.type&&"to"===Q.value)return void(d=Qs(_));if(To(Q))return void(d=xo_parse(l,Q))}var O=Fs(l,_);u.push(O)}),{angle:d,stops:u,type:1}},"-moz-linear-gradient":Zi,"-ms-linear-gradient":Zi,"-o-linear-gradient":Zi,"-webkit-linear-gradient":Zi,"radial-gradient":function(l,c){var d=0,u=3,_=[],B=[];return fr(c).forEach(function(Q,O){var N=!0;if(0===O){var X=!1;N=Q.reduce(function(lt,Bt){if(X)if(lA(Bt))switch(Bt.value){case"center":return B.push(Nu),lt;case"top":case"left":return B.push(YA),lt;case"right":case"bottom":return B.push(Di),lt}else(EA(Bt)||zr(Bt))&&B.push(Bt);else if(lA(Bt))switch(Bt.value){case"circle":return d=0,!1;case pi:return d=1,!1;case"at":return X=!0,!1;case hi:return u=0,!1;case"cover":case ji:return u=1,!1;case ye:case pe:return u=2,!1;case yA:return u=3,!1}else if(zr(Bt)||EA(Bt))return Array.isArray(u)||(u=[]),u.push(Bt),!1;return lt},N)}if(N){var rt=Fs(l,Q);_.push(rt)}}),{size:u,shape:d,stops:_,position:B,type:2}},"-moz-radial-gradient":rn,"-ms-radial-gradient":rn,"-o-radial-gradient":rn,"-webkit-radial-gradient":rn,"-webkit-gradient":function(l,c){var d=vn(180),u=[],_=1;return fr(c).forEach(function(N,X){var rt=N[0];if(0===X){if(lA(rt)&&"linear"===rt.value)return void(_=1);if(lA(rt)&&"radial"===rt.value)return void(_=2)}if(18===rt.type)if("from"===rt.name){var lt=Cn_parse(l,rt.values[0]);u.push({stop:YA,color:lt})}else if("to"===rt.name)lt=Cn_parse(l,rt.values[0]),u.push({stop:Di,color:lt});else if("color-stop"===rt.name){var Bt=rt.values.filter(Pi);if(2===Bt.length){lt=Cn_parse(l,Bt[1]);var Xt=Bt[0];bo(Xt)&&u.push({stop:{type:16,number:100*Xt.number,flags:Xt.flags},color:lt})}}}),1===_?{angle:(d+vn(180))%vn(360),stops:u,type:_}:{size:3,shape:0,stops:u,position:[],type:_}}},FA={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(l,c){if(0===c.length)return[];var d=c[0];return 20===d.type&&"none"===d.value?[]:c.filter(function(u){return Pi(u)&&function up(l){return!(20===l.type&&"none"===l.value||18===l.type&&!ju[l.name])}(u)}).map(function(u){return Yc_parse(l,u)})}},UA={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(l,c){return c.map(function(d){if(lA(d))switch(d.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},IA={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(l,c){return fr(c).map(function(d){return d.filter(EA)}).map(yo)}},dp={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(l,c){return fr(c).map(function(d){return d.filter(lA).map(function(u){return u.value}).join(" ")}).map(hp)}},hp=function(l){switch(l){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Ki=function(l){return l.AUTO="auto",l.CONTAIN="contain",l.COVER="cover",l}(Ki||{}),_a={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(l,c){return fr(c).map(function(d){return d.filter(pp)})}},pp=function(l){return lA(l)||EA(l)},wa=function(l){return{name:"border-"+l+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},fp=wa("top"),gp=wa("right"),Ru=wa("bottom"),qc=wa("left"),In=function(l){return{name:"border-radius-"+l,initialValue:"0 0",prefix:!1,type:1,parse:function(c,d){return yo(d.filter(EA))}}},Ku=In("top-left"),Gu=In("top-right"),er=In("bottom-right"),Is=In("bottom-left"),Er=function(l){return{name:"border-"+l+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(c,d){switch(d){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ss=Er("top"),va=Er("right"),VA=Er("bottom"),Ca=Er("left"),Mr=function(l){return{name:"border-"+l+"-width",initialValue:"0",type:0,prefix:!1,parse:function(c,d){return ui(d)?d.number:0}}},Ba=Mr("top"),ba=Mr("right"),Gi=Mr("bottom"),ya=Mr("left"),se={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mp={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(l,c){return"rtl"===c?1:0}},F1={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(l,c){return c.filter(lA).reduce(function(d,u){return d|Ju(u.value)},0)}},Ju=function(l){switch(l){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Yu={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(l,c){switch(c){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},qu={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(l,c){return 20===c.type&&"normal"===c.value?0:17===c.type||15===c.type?c.number:0}},Qo=function(l){return l.NORMAL="normal",l.STRICT="strict",l}(Qo||{}),Vu={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(l,c){return"strict"===c?Qo.STRICT:Qo.NORMAL}},_p={name:"line-height",initialValue:"normal",prefix:!1,type:4},xa=function(l,c){return lA(l)&&"normal"===l.value?1.2*c:17===l.type?c*l.number:EA(l)?gA(l,c):c},Wu={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(l,c){return 20===c.type&&"none"===c.value?null:Yc_parse(l,c)}},wp={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(l,c){return"inside"===c?0:1}},Ta={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(l,c){switch(c){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Fo=function(l){return{name:"margin-"+l,initialValue:"0",prefix:!1,type:4}},vp=Fo("top"),Xu=Fo("right"),Cp=Fo("bottom"),Bp=Fo("left"),ka={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(l,c){return c.filter(lA).map(function(d){switch(d.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},$u={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(l,c){return"break-word"===c?"break-word":"normal"}},Uo=function(l){return{name:"padding-"+l,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Vc=Uo("top"),zs=Uo("right"),Qa=Uo("bottom"),td=Uo("left"),ed={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(l,c){switch(c){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ad={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(l,c){switch(c){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},bp={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(l,c){return 1===c.length&&Eu(c[0],"none")?[]:fr(c).map(function(d){for(var u={color:gr.TRANSPARENT,offsetX:YA,offsetY:YA,blur:YA},_=0,B=0;B<d.length;B++){var Q=d[B];zr(Q)?(0===_?u.offsetX=Q:1===_?u.offsetY=Q:u.blur=Q,_++):u.color=Cn_parse(l,Q)}return u})}},yp={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(l,c){switch(c){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},nd={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(l,c){if(20===c.type&&"none"===c.value)return null;if(18===c.type){var d=rd[c.name];if(typeof d>"u")throw new Error('Attempting to parse an unsupported transform function "'+c.name+'"');return d(c.values)}return null}},rd={matrix:function(l){var c=l.filter(function(d){return 17===d.type}).map(function(d){return d.number});return 6===c.length?c:null},matrix3d:function(l){var c=l.filter(function(N){return 17===N.type}).map(function(N){return N.number});return 16===c.length?[c[0],c[1],c[4],c[5],c[12],c[13]]:null}},Dn={type:16,number:50,flags:4},gi=[Dn,Dn],xp={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(l,c){var d=c.filter(EA);return 2!==d.length?gi:[d[0],d[1]]}},Tp={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(l,c){switch(c){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Sn=function(l){return l.NORMAL="normal",l.BREAK_ALL="break-all",l.KEEP_ALL="keep-all",l}(Sn||{}),kp={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(l,c){switch(c){case"break-all":return Sn.BREAK_ALL;case"keep-all":return Sn.KEEP_ALL;default:return Sn.NORMAL}}},id={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(l,c){if(20===c.type)return{auto:!0,order:0};if(bo(c))return{auto:!1,order:c.number};throw new Error("Invalid z-index number parsed")}},Xc={name:"time",parse:function(l,c){if(15===c.type)switch(c.unit.toLowerCase()){case"s":return 1e3*c.number;case"ms":return c.number}throw new Error("Unsupported time type")}},Qp={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(l,c){return bo(c)?c.number:1}},Fp={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Up={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(l,c){return c.filter(lA).map(function(d){switch(d.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(d){return 0!==d})}},Ip={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(l,c){var d=[],u=[];return c.forEach(function(_){switch(_.type){case 20:case 0:d.push(_.value);break;case 17:d.push(_.number.toString());break;case 4:u.push(d.join(" ")),d.length=0}}),d.length&&u.push(d.join(" ")),u.map(function(_){return-1===_.indexOf(" ")?_:"'"+_+"'"})}},Sp={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},zp={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(l,c){return bo(c)?c.number:lA(c)&&"bold"===c.value?700:400}},Lp={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(l,c){return c.filter(lA).map(function(d){return d.value})}},sd={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(l,c){switch(c){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},RA=function(l,c){return 0!=(l&c)},Ep={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(l,c){if(0===c.length)return[];var d=c[0];return 20===d.type&&"none"===d.value?[]:c}},Mp={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(l,c){if(0===c.length)return null;var d=c[0];if(20===d.type&&"none"===d.value)return null;for(var u=[],_=c.filter(ha),B=0;B<_.length;B++){var Q=_[B],O=_[B+1];if(20===Q.type){var N=O&&bo(O)?O.number:1;u.push({counter:Q.value,increment:N})}}return u}},Np={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(l,c){if(0===c.length)return[];for(var d=[],u=c.filter(ha),_=0;_<u.length;_++){var B=u[_],Q=u[_+1];if(lA(B)&&"none"!==B.value){var O=Q&&bo(Q)?Q.number:0;d.push({counter:B.value,reset:O})}}return d}},Op={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(l,c){return c.filter(ui).map(function(d){return Xc.parse(l,d)})}},$c={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(l,c){if(0===c.length)return null;var d=c[0];if(20===d.type&&"none"===d.value)return null;var u=[],_=c.filter(Q1);if(_.length%2!=0)return null;for(var B=0;B<_.length;B+=2)u.push({open:_[B].value,close:_[B+1].value});return u}},od=function(l,c,d){if(!l)return"";var u=l[Math.min(c,l.length-1)];return u?d?u.open:u.close:""},tl={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(l,c){return 1===c.length&&Eu(c[0],"none")?[]:fr(c).map(function(d){for(var u={color:255,offsetX:YA,offsetY:YA,blur:YA,spread:YA,inset:!1},_=0,B=0;B<d.length;B++){var Q=d[B];Eu(Q,"inset")?u.inset=!0:zr(Q)?(0===_?u.offsetX=Q:1===_?u.offsetY=Q:2===_?u.blur=Q:u.spread=Q,_++):u.color=Cn_parse(l,Q)}return u})}},el={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(l,c){var u=[];return c.filter(lA).forEach(function(_){switch(_.value){case"stroke":u.push(1);break;case"fill":u.push(0);break;case"markers":u.push(2)}}),[0,1,2].forEach(function(_){-1===u.indexOf(_)&&u.push(_)}),u}},Fa={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Nr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(l,c){return ui(c)?c.number:0}},je=function(){function l(c,d){var u,_;this.animationDuration=ee(c,Op,d.animationDuration),this.backgroundClip=ee(c,cp,d.backgroundClip),this.backgroundColor=ee(c,lp,d.backgroundColor),this.backgroundImage=ee(c,FA,d.backgroundImage),this.backgroundOrigin=ee(c,UA,d.backgroundOrigin),this.backgroundPosition=ee(c,IA,d.backgroundPosition),this.backgroundRepeat=ee(c,dp,d.backgroundRepeat),this.backgroundSize=ee(c,_a,d.backgroundSize),this.borderTopColor=ee(c,fp,d.borderTopColor),this.borderRightColor=ee(c,gp,d.borderRightColor),this.borderBottomColor=ee(c,Ru,d.borderBottomColor),this.borderLeftColor=ee(c,qc,d.borderLeftColor),this.borderTopLeftRadius=ee(c,Ku,d.borderTopLeftRadius),this.borderTopRightRadius=ee(c,Gu,d.borderTopRightRadius),this.borderBottomRightRadius=ee(c,er,d.borderBottomRightRadius),this.borderBottomLeftRadius=ee(c,Is,d.borderBottomLeftRadius),this.borderTopStyle=ee(c,Ss,d.borderTopStyle),this.borderRightStyle=ee(c,va,d.borderRightStyle),this.borderBottomStyle=ee(c,VA,d.borderBottomStyle),this.borderLeftStyle=ee(c,Ca,d.borderLeftStyle),this.borderTopWidth=ee(c,Ba,d.borderTopWidth),this.borderRightWidth=ee(c,ba,d.borderRightWidth),this.borderBottomWidth=ee(c,Gi,d.borderBottomWidth),this.borderLeftWidth=ee(c,ya,d.borderLeftWidth),this.boxShadow=ee(c,tl,d.boxShadow),this.color=ee(c,se,d.color),this.direction=ee(c,mp,d.direction),this.display=ee(c,F1,d.display),this.float=ee(c,Yu,d.cssFloat),this.fontFamily=ee(c,Ip,d.fontFamily),this.fontSize=ee(c,Sp,d.fontSize),this.fontStyle=ee(c,sd,d.fontStyle),this.fontVariant=ee(c,Lp,d.fontVariant),this.fontWeight=ee(c,zp,d.fontWeight),this.letterSpacing=ee(c,qu,d.letterSpacing),this.lineBreak=ee(c,Vu,d.lineBreak),this.lineHeight=ee(c,_p,d.lineHeight),this.listStyleImage=ee(c,Wu,d.listStyleImage),this.listStylePosition=ee(c,wp,d.listStylePosition),this.listStyleType=ee(c,Ta,d.listStyleType),this.marginTop=ee(c,vp,d.marginTop),this.marginRight=ee(c,Xu,d.marginRight),this.marginBottom=ee(c,Cp,d.marginBottom),this.marginLeft=ee(c,Bp,d.marginLeft),this.opacity=ee(c,Qp,d.opacity);var B=ee(c,ka,d.overflow);this.overflowX=B[0],this.overflowY=B[B.length>1?1:0],this.overflowWrap=ee(c,$u,d.overflowWrap),this.paddingTop=ee(c,Vc,d.paddingTop),this.paddingRight=ee(c,zs,d.paddingRight),this.paddingBottom=ee(c,Qa,d.paddingBottom),this.paddingLeft=ee(c,td,d.paddingLeft),this.paintOrder=ee(c,el,d.paintOrder),this.position=ee(c,Ad,d.position),this.textAlign=ee(c,ed,d.textAlign),this.textDecorationColor=ee(c,Fp,null!==(u=d.textDecorationColor)&&void 0!==u?u:d.color),this.textDecorationLine=ee(c,Up,null!==(_=d.textDecorationLine)&&void 0!==_?_:d.textDecoration),this.textShadow=ee(c,bp,d.textShadow),this.textTransform=ee(c,yp,d.textTransform),this.transform=ee(c,nd,d.transform),this.transformOrigin=ee(c,xp,d.transformOrigin),this.visibility=ee(c,Tp,d.visibility),this.webkitTextStrokeColor=ee(c,Fa,d.webkitTextStrokeColor),this.webkitTextStrokeWidth=ee(c,Nr,d.webkitTextStrokeWidth),this.wordBreak=ee(c,kp,d.wordBreak),this.zIndex=ee(c,id,d.zIndex)}return l.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},l.prototype.isTransparent=function(){return Lr(this.backgroundColor)},l.prototype.isTransformed=function(){return null!==this.transform},l.prototype.isPositioned=function(){return 0!==this.position},l.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},l.prototype.isFloating=function(){return 0!==this.float},l.prototype.isInlineLevel=function(){return RA(this.display,4)||RA(this.display,33554432)||RA(this.display,268435456)||RA(this.display,536870912)||RA(this.display,67108864)||RA(this.display,134217728)},l}(),Al=function l(c,d){this.content=ee(c,Ep,d.content),this.quotes=ee(c,$c,d.quotes)},Ls=function l(c,d){this.counterIncrement=ee(c,Mp,d.counterIncrement),this.counterReset=ee(c,Np,d.counterReset)},ee=function(l,c,d){var u=new ap,_=null!==d&&typeof d<"u"?d.toString():c.initialValue;u.write(_);var B=new Lu(u.read());switch(c.type){case 2:var Q=B.parseComponentValue();return c.parse(l,lA(Q)?Q.value:c.initialValue);case 0:return c.parse(l,B.parseComponentValue());case 1:return c.parse(l,B.parseComponentValues());case 4:return B.parseComponentValue();case 3:switch(c.format){case"angle":return xo_parse(l,B.parseComponentValue());case"color":return Cn_parse(l,B.parseComponentValue());case"image":return Yc_parse(l,B.parseComponentValue());case"length":var O=B.parseComponentValue();return zr(O)?O:YA;case"length-percentage":var N=B.parseComponentValue();return EA(N)?N:YA;case"time":return Xc.parse(l,B.parseComponentValue())}}},Io=function(l,c){var d=function(l){switch(l.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(l);return 1===d||c===d},Hn=function l(c,d){this.context=c,this.textNodes=[],this.elements=[],this.flags=0,Io(d,3),this.styles=new je(c,window.getComputedStyle(d,null)),_l(d)&&(this.styles.animationDuration.some(function(u){return u>0})&&(d.style.animationDuration="0s"),null!==this.styles.transform&&(d.style.transform="none")),this.bounds=cr(this.context,d),Io(d,4)&&(this.flags|=16)},mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",So=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ua=0;Ua<64;Ua++)So[mi.charCodeAt(Ua)]=Ua;for(var ud=function(l,c,d){return l.slice?l.slice(c,d):new Uint16Array(Array.prototype.slice.call(l,c,d))},tf=function(){function l(c,d,u,_,B,Q){this.initialValue=c,this.errorValue=d,this.highStart=u,this.highValueIndex=_,this.index=B,this.data=Q}return l.prototype.get=function(c){var d;if(c>=0){if(c<55296||c>56319&&c<=65535)return this.data[d=((d=this.index[c>>5])<<2)+(31&c)];if(c<=65535)return this.data[d=((d=this.index[2048+(c-55296>>5)])<<2)+(31&c)];if(c<this.highStart)return d=this.index[d=2080+(c>>11)],this.data[d=((d=this.index[d+=c>>5&63])<<2)+(31&c)];if(c<=1114111)return this.data[this.highValueIndex]}return this.errorValue},l}(),dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ia=typeof Uint8Array>"u"?[]:new Uint8Array(256),Yi=0;Yi<64;Yi++)Ia[dd.charCodeAt(Yi)]=Yi;var gd=8,al=9,md=11,_d=12,nf=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];if(String.fromCodePoint)return String.fromCodePoint.apply(String,l);var d=l.length;if(!d)return"";for(var u=[],_=-1,B="";++_<d;){var Q=l[_];Q<=65535?u.push(Q):u.push(55296+((Q-=65536)>>10),Q%1024+56320),(_+1===d||u.length>16384)&&(B+=String.fromCharCode.apply(String,u),u.length=0)}return B},rf=function(l,c){var d=function(l){var u,B,Q,O,N,c=.75*l.length,d=l.length,_=0;"="===l[l.length-1]&&(c--,"="===l[l.length-2]&&c--);var X=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(c):new Array(c),rt=Array.isArray(X)?X:new Uint8Array(X);for(u=0;u<d;u+=4)B=So[l.charCodeAt(u)],Q=So[l.charCodeAt(u+1)],O=So[l.charCodeAt(u+2)],N=So[l.charCodeAt(u+3)],rt[_++]=B<<2|Q>>4,rt[_++]=(15&Q)<<4|O>>2,rt[_++]=(3&O)<<6|63&N;return X}(l),u=Array.isArray(d)?function(l){for(var c=l.length,d=[],u=0;u<c;u+=4)d.push(l[u+3]<<24|l[u+2]<<16|l[u+1]<<8|l[u]);return d}(d):new Uint32Array(d),_=Array.isArray(d)?function(l){for(var c=l.length,d=[],u=0;u<c;u+=2)d.push(l[u+1]<<8|l[u]);return d}(d):new Uint16Array(d),Q=ud(_,12,u[4]/2),O=2===u[5]?ud(_,(24+u[4])/2):function(l,c,d){return l.slice?l.slice(c,d):new Uint32Array(Array.prototype.slice.call(l,c,d))}(u,Math.ceil((24+u[4])/4));return new tf(u[0],u[1],u[2],u[3],Q,O)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),sf=function(l){return rf.get(l)},of=function(l,c,d){var u=d-2,_=c[u],B=c[d-1],Q=c[d];if(2===B&&3===Q)return"\xd7";if(2===B||3===B||4===B||2===Q||3===Q||4===Q)return"\xf7";if(B===gd&&-1!==[gd,al,md,_d].indexOf(Q)||(B===md||B===al)&&(Q===al||10===Q)||(B===_d||10===B)&&10===Q||13===Q||5===Q||7===Q||1===B)return"\xd7";if(13===B&&14===Q){for(;5===_;)_=c[--u];if(14===_)return"\xd7"}if(15===B&&15===Q){for(var O=0;15===_;)O++,_=c[--u];if(O%2==0)return"\xd7"}return"\xf7"},af=function(l){var c=function(l){for(var c=[],d=0,u=l.length;d<u;){var _=l.charCodeAt(d++);if(_>=55296&&_<=56319&&d<u){var B=l.charCodeAt(d++);56320==(64512&B)?c.push(((1023&_)<<10)+(1023&B)+65536):(c.push(_),d--)}else c.push(_)}return c}(l),d=c.length,u=0,_=0,B=c.map(sf);return{next:function(){if(u>=d)return{done:!0,value:null};for(var Q="\xd7";u<d&&"\xd7"===(Q=of(0,B,++u)););if("\xd7"!==Q||u===d){var O=nf.apply(null,c.slice(_,u));return _=u,{value:O,done:!1}}return{done:!0,value:null}}}},nr=function(l){return 0===l[0]&&255===l[1]&&0===l[2]&&255===l[3]},hl=function(l,c,d,u,_){var B="http://www.w3.org/2000/svg",Q=document.createElementNS(B,"svg"),O=document.createElementNS(B,"foreignObject");return Q.setAttributeNS(null,"width",l.toString()),Q.setAttributeNS(null,"height",c.toString()),O.setAttributeNS(null,"width","100%"),O.setAttributeNS(null,"height","100%"),O.setAttributeNS(null,"x",d.toString()),O.setAttributeNS(null,"y",u.toString()),O.setAttributeNS(null,"externalResourcesRequired","true"),Q.appendChild(O),O.appendChild(_),Q},Bd=function(l){return new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,u.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(l))})},sn={get SUPPORT_RANGE_BOUNDS(){var l=function(l){if(l.createRange){var d=l.createRange();if(d.getBoundingClientRect){var u=l.createElement("boundtest");u.style.height="123px",u.style.display="block",l.body.appendChild(u),d.selectNode(u);var _=d.getBoundingClientRect(),B=Math.round(_.height);if(l.body.removeChild(u),123===B)return!0}}return!1}(document);return Object.defineProperty(sn,"SUPPORT_RANGE_BOUNDS",{value:l}),l},get SUPPORT_WORD_BREAKING(){var l=sn.SUPPORT_RANGE_BOUNDS&&function(l){var c=l.createElement("boundtest");c.style.width="50px",c.style.display="block",c.style.fontSize="12px",c.style.letterSpacing="0px",c.style.wordSpacing="0px",l.body.appendChild(c);var d=l.createRange();c.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var u=c.firstChild,_=jt(u.data).map(function(N){return ue(N)}),B=0,Q={},O=_.every(function(N,X){d.setStart(u,B),d.setEnd(u,B+N.length);var rt=d.getBoundingClientRect();B+=N.length;var lt=rt.x>Q.x||rt.y>Q.y;return Q=rt,0===X||lt});return l.body.removeChild(c),O}(document);return Object.defineProperty(sn,"SUPPORT_WORD_BREAKING",{value:l}),l},get SUPPORT_SVG_DRAWING(){var l=function(l){var c=new Image,d=l.createElement("canvas"),u=d.getContext("2d");if(!u)return!1;c.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{u.drawImage(c,0,0),d.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(sn,"SUPPORT_SVG_DRAWING",{value:l}),l},get SUPPORT_FOREIGNOBJECT_DRAWING(){var l="function"==typeof Array.from&&"function"==typeof window.fetch?function(l){var c=l.createElement("canvas"),d=100;c.width=d,c.height=d;var u=c.getContext("2d");if(!u)return Promise.reject(!1);u.fillStyle="rgb(0, 255, 0)",u.fillRect(0,0,d,d);var _=new Image,B=c.toDataURL();_.src=B;var Q=hl(d,d,0,0,_);return u.fillStyle="red",u.fillRect(0,0,d,d),Bd(Q).then(function(O){u.drawImage(O,0,0);var N=u.getImageData(0,0,d,d).data;u.fillStyle="red",u.fillRect(0,0,d,d);var X=l.createElement("div");return X.style.backgroundImage="url("+B+")",X.style.height=d+"px",nr(N)?Bd(hl(d,d,0,0,X)):Promise.reject(!1)}).then(function(O){return u.drawImage(O,0,0),nr(u.getImageData(0,0,d,d).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(sn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:l}),l},get SUPPORT_CORS_IMAGES(){var l=typeof(new Image).crossOrigin<"u";return Object.defineProperty(sn,"SUPPORT_CORS_IMAGES",{value:l}),l},get SUPPORT_RESPONSE_TYPE(){var l="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(sn,"SUPPORT_RESPONSE_TYPE",{value:l}),l},get SUPPORT_CORS_XHR(){var l="withCredentials"in new XMLHttpRequest;return Object.defineProperty(sn,"SUPPORT_CORS_XHR",{value:l}),l},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var l=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(sn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:l}),l}},Eo=function l(c,d){this.text=c,this.bounds=d},hf=function(l,c){var d=c.ownerDocument;if(d){var u=d.createElement("html2canvaswrapper");u.appendChild(c.cloneNode(!0));var _=c.parentNode;if(_){_.replaceChild(u,c);var B=cr(l,u);return u.firstChild&&_.replaceChild(u.firstChild,u),B}}return Ze.EMPTY},bd=function(l,c,d){var u=l.ownerDocument;if(!u)throw new Error("Node has no owner document");var _=u.createRange();return _.setStart(l,c),_.setEnd(l,c+d),_},pl=function(l){if(sn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var c=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(c.segment(l)).map(function(d){return d.segment})}return function(l){for(var u,c=af(l),d=[];!(u=c.next()).done;)u.value&&d.push(u.value.slice());return d}(l)},ff=function(l,c){return 0!==c.letterSpacing?pl(l):function(l,c){if(sn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var d=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(d.segment(l)).map(function(u){return u.segment})}return qi(l,c)}(l,c)},Et=[32,160,4961,65792,65793,4153,4241],qi=function(l,c){for(var _,d=function(l,c){var d=jt(l),u=ep(d,c),_=u[0],B=u[1],Q=u[2],O=d.length,N=0,X=0;return{next:function(){if(X>=O)return{done:!0,value:null};for(var rt=Te;X<O&&(rt=Pc(d,B,_,++X,Q))===Te;);if(rt!==Te||X===O){var lt=new pu(d,rt,N,X);return N=X,{value:lt,done:!1}}return{done:!0,value:null}}}}(l,{lineBreak:c.lineBreak,wordBreak:"break-word"===c.overflowWrap?"break-word":c.wordBreak}),u=[],B=function(){if(_.value){var Q=_.value.slice(),O=jt(Q),N="";O.forEach(function(X){-1===Et.indexOf(X)?N+=ue(X):(N.length&&u.push(N),u.push(ue(X)),N="")}),N.length&&u.push(N)}};!(_=d.next()).done;)B();return u},gf=function l(c,d,u){this.text=mf(d.data,u.textTransform),this.textBounds=function(l,c,d,u){var _=ff(c,d),B=[],Q=0;return _.forEach(function(O){if(d.textDecorationLine.length||O.trim().length>0)if(sn.SUPPORT_RANGE_BOUNDS){var N=bd(u,Q,O.length).getClientRects();if(N.length>1){var X=pl(O),rt=0;X.forEach(function(Bt){B.push(new Eo(Bt,Ze.fromDOMRectList(l,bd(u,rt+Q,Bt.length).getClientRects()))),rt+=Bt.length})}else B.push(new Eo(O,Ze.fromDOMRectList(l,N)))}else{var lt=u.splitText(O.length);B.push(new Eo(O,hf(l,u))),u=lt}else sn.SUPPORT_RANGE_BOUNDS||(u=u.splitText(O.length));Q+=O.length}),B}(c,this.text,u,d)},mf=function(l,c){switch(c){case 1:return l.toLowerCase();case 3:return l.replace(_f,wf);case 2:return l.toUpperCase();default:return l}},_f=/(^|\s|:|-|\(|\))([a-z])/g,wf=function(l,c,d){return l.length>0?c+d.toUpperCase():l},yd=function(l){function c(d,u){var _=l.call(this,d,u)||this;return _.src=u.currentSrc||u.src,_.intrinsicWidth=u.naturalWidth,_.intrinsicHeight=u.naturalHeight,_.context.cache.addImage(_.src),_}return ot(c,l),c}(Hn),xd=function(l){function c(d,u){var _=l.call(this,d,u)||this;return _.canvas=u,_.intrinsicWidth=u.width,_.intrinsicHeight=u.height,_}return ot(c,l),c}(Hn),Td=function(l){function c(d,u){var _=l.call(this,d,u)||this,B=new XMLSerializer,Q=cr(d,u);return u.setAttribute("width",Q.width+"px"),u.setAttribute("height",Q.height+"px"),_.svg="data:image/svg+xml,"+encodeURIComponent(B.serializeToString(u)),_.intrinsicWidth=u.width.baseVal.value,_.intrinsicHeight=u.height.baseVal.value,_.context.cache.addImage(_.svg),_}return ot(c,l),c}(Hn),kd=function(l){function c(d,u){var _=l.call(this,d,u)||this;return _.value=u.value,_}return ot(c,l),c}(Hn),fl=function(l){function c(d,u){var _=l.call(this,d,u)||this;return _.start=u.start,_.reversed="boolean"==typeof u.reversed&&!0===u.reversed,_}return ot(c,l),c}(Hn),vf=[{type:15,flags:0,unit:"px",number:3}],Cf=[{type:16,flags:0,number:50}],Sa="checkbox",za="radio",Bf="password",Ud=707406591,Mo=function(l){function c(d,u){var _=l.call(this,d,u)||this;switch(_.type=u.type.toLowerCase(),_.checked=u.checked,_.value=function(l){var c=l.type===Bf?new Array(l.value.length+1).join("\u2022"):l.value;return 0===c.length?l.placeholder||"":c}(u),(_.type===Sa||_.type===za)&&(_.styles.backgroundColor=3739148031,_.styles.borderTopColor=_.styles.borderRightColor=_.styles.borderBottomColor=_.styles.borderLeftColor=2779096575,_.styles.borderTopWidth=_.styles.borderRightWidth=_.styles.borderBottomWidth=_.styles.borderLeftWidth=1,_.styles.borderTopStyle=_.styles.borderRightStyle=_.styles.borderBottomStyle=_.styles.borderLeftStyle=1,_.styles.backgroundClip=[0],_.styles.backgroundOrigin=[0],_.bounds=function(l){return l.width>l.height?new Ze(l.left+(l.width-l.height)/2,l.top,l.height,l.height):l.width<l.height?new Ze(l.left,l.top+(l.height-l.width)/2,l.width,l.width):l}(_.bounds)),_.type){case Sa:_.styles.borderTopRightRadius=_.styles.borderTopLeftRadius=_.styles.borderBottomRightRadius=_.styles.borderBottomLeftRadius=vf;break;case za:_.styles.borderTopRightRadius=_.styles.borderTopLeftRadius=_.styles.borderBottomRightRadius=_.styles.borderBottomLeftRadius=Cf}return _}return ot(c,l),c}(Hn),Id=function(l){function c(d,u){var _=l.call(this,d,u)||this,B=u.options[u.selectedIndex||0];return _.value=B&&B.text||"",_}return ot(c,l),c}(Hn),Sd=function(l){function c(d,u){var _=l.call(this,d,u)||this;return _.value=u.value,_}return ot(c,l),c}(Hn),_i=function(l){function c(d,u){var _=l.call(this,d,u)||this;_.src=u.src,_.width=parseInt(u.width,10)||0,_.height=parseInt(u.height,10)||0,_.backgroundColor=_.styles.backgroundColor;try{if(u.contentWindow&&u.contentWindow.document&&u.contentWindow.document.documentElement){_.tree=Vi(d,u.contentWindow.document.documentElement);var B=u.contentWindow.document.documentElement?ko(d,getComputedStyle(u.contentWindow.document.documentElement).backgroundColor):gr.TRANSPARENT,Q=u.contentWindow.document.body?ko(d,getComputedStyle(u.contentWindow.document.body).backgroundColor):gr.TRANSPARENT;_.backgroundColor=Lr(B)?Lr(Q)?_.styles.backgroundColor:Q:B}}catch{}return _}return ot(c,l),c}(Hn),gl=["OL","UL","MENU"],Es=function(l,c,d,u){for(var _=c.firstChild,B=void 0;_;_=B)if(B=_.nextSibling,Wi(_)&&_.data.trim().length>0)d.textNodes.push(new gf(l,_,d.styles));else if(Xi(_))if(Ms(_)&&_.assignedNodes)_.assignedNodes().forEach(function(O){return Es(l,O,d,u)});else{var Q=ml(l,_);Q.styles.isVisible()&&(bf(_,Q,u)?Q.flags|=4:zd(Q.styles)&&(Q.flags|=2),-1!==gl.indexOf(_.tagName)&&(Q.flags|=8),d.elements.push(Q),_.shadowRoot?Es(l,_.shadowRoot,Q,u):!Ma(_)&&!wl(_)&&!Na(_)&&Es(l,_,Q,u))}},ml=function(l,c){return Cl(c)?new yd(l,c):_r(c)?new xd(l,c):wl(c)?new Td(l,c):wi(c)?new kd(l,c):Ea(c)?new fl(l,c):$i(c)?new Mo(l,c):Na(c)?new Id(l,c):Ma(c)?new Sd(l,c):Ed(c)?new _i(l,c):new Hn(l,c)},Vi=function(l,c){var d=ml(l,c);return d.flags|=4,Es(l,c,d,d),d},bf=function(l,c,d){return c.styles.isPositionedWithZIndex()||c.styles.opacity<1||c.styles.isTransformed()||vl(l)&&d.styles.isTransparent()},zd=function(l){return l.isPositioned()||l.isFloating()},Wi=function(l){return l.nodeType===Node.TEXT_NODE},Xi=function(l){return l.nodeType===Node.ELEMENT_NODE},_l=function(l){return Xi(l)&&typeof l.style<"u"&&!La(l)},La=function(l){return"object"==typeof l.className},wi=function(l){return"LI"===l.tagName},Ea=function(l){return"OL"===l.tagName},$i=function(l){return"INPUT"===l.tagName},wl=function(l){return"svg"===l.tagName},vl=function(l){return"BODY"===l.tagName},_r=function(l){return"CANVAS"===l.tagName},No=function(l){return"VIDEO"===l.tagName},Cl=function(l){return"IMG"===l.tagName},Ed=function(l){return"IFRAME"===l.tagName},me=function(l){return"STYLE"===l.tagName},Ma=function(l){return"TEXTAREA"===l.tagName},Na=function(l){return"SELECT"===l.tagName},Ms=function(l){return"SLOT"===l.tagName},wr=function(l){return l.tagName.indexOf("-")>0},vr=function(){function l(){this.counters={}}return l.prototype.getCounterValue=function(c){var d=this.counters[c];return d&&d.length?d[d.length-1]:1},l.prototype.getCounterValues=function(c){return this.counters[c]||[]},l.prototype.pop=function(c){var d=this;c.forEach(function(u){return d.counters[u].pop()})},l.prototype.parse=function(c){var d=this,u=c.counterIncrement,_=c.counterReset,B=!0;null!==u&&u.forEach(function(O){var N=d.counters[O.counter];N&&0!==O.increment&&(B=!1,N.length||N.push(1),N[Math.max(0,N.length-1)]+=O.increment)});var Q=[];return B&&_.forEach(function(O){var N=d.counters[O.counter];Q.push(O.counter),N||(N=d.counters[O.counter]=[]),N.push(O.reset)}),Q},l}(),Oa={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Pa={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Ns={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Md={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Os=function(l,c,d,u,_,B){return l<c||l>d?Do(l,_,B.length>0):u.integers.reduce(function(Q,O,N){for(;l>=O;)l-=O,Q+=u.values[N];return Q},"")+B},SA=function(l,c,d,u){var _="";do{d||l--,_=u(l)+_,l/=c}while(l*c>=c);return _},Ve=function(l,c,d,u,_){var B=d-c+1;return(l<0?"-":"")+(SA(Math.abs(l),B,u,function(Q){return ue(Math.floor(Q%B)+c)})+_)},ts=function(l,c,d){void 0===d&&(d=". ");var u=c.length;return SA(Math.abs(l),u,!1,function(_){return c[Math.floor(_%u)]})+d},Pr=function(l,c,d,u,_,B){if(l<-9999||l>9999)return Do(l,4,_.length>0);var Q=Math.abs(l),O=_;if(0===Q)return c[0]+O;for(var N=0;Q>0&&N<=4;N++){var X=Q%10;0===X&&RA(B,1)&&""!==O?O=c[X]+O:X>1||1===X&&0===N||1===X&&1===N&&RA(B,2)||1===X&&1===N&&RA(B,4)&&l>100||1===X&&N>1&&RA(B,8)?O=c[X]+(N>0?d[N-1]:"")+O:1===X&&N>0&&(O=d[N-1]+O),Q=Math.floor(Q/10)}return(l<0?u:"")+O},Bl="\ub9c8\uc774\ub108\uc2a4",Do=function(l,c,d){var u=d?". ":"",_=d?"\u3001":"",B=d?", ":"",Q=d?" ":"";switch(c){case 0:return"\u2022"+Q;case 1:return"\u25e6"+Q;case 2:return"\u25fe"+Q;case 5:var O=Ve(l,48,57,!0,u);return O.length<4?"0"+O:O;case 4:return ts(l,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",_);case 6:return Os(l,1,3999,Oa,3,u).toLowerCase();case 7:return Os(l,1,3999,Oa,3,u);case 8:return Ve(l,945,969,!1,u);case 9:return Ve(l,97,122,!1,u);case 10:return Ve(l,65,90,!1,u);case 11:return Ve(l,1632,1641,!0,u);case 12:case 49:return Os(l,1,9999,Pa,3,u);case 35:return Os(l,1,9999,Pa,3,u).toLowerCase();case 13:return Ve(l,2534,2543,!0,u);case 14:case 30:return Ve(l,6112,6121,!0,u);case 15:return ts(l,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",_);case 16:return ts(l,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",_);case 17:case 48:return Pr(l,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",_,14);case 47:return Pr(l,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",_,15);case 42:return Pr(l,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",_,14);case 41:return Pr(l,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",_,15);case 26:return Pr(l,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",_,0);case 25:return Pr(l,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",_,7);case 31:return Pr(l,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Bl,B,7);case 33:return Pr(l,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Bl,B,0);case 32:return Pr(l,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Bl,B,7);case 18:return Ve(l,2406,2415,!0,u);case 20:return Os(l,1,19999,Md,3,u);case 21:return Ve(l,2790,2799,!0,u);case 22:return Ve(l,2662,2671,!0,u);case 22:return Os(l,1,10999,Ns,3,u);case 23:return ts(l,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return ts(l,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ve(l,3302,3311,!0,u);case 28:return ts(l,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",_);case 29:return ts(l,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",_);case 34:return Ve(l,3792,3801,!0,u);case 37:return Ve(l,6160,6169,!0,u);case 38:return Ve(l,4160,4169,!0,u);case 39:return Ve(l,2918,2927,!0,u);case 40:return Ve(l,1776,1785,!0,u);case 43:return Ve(l,3046,3055,!0,u);case 44:return Ve(l,3174,3183,!0,u);case 45:return Ve(l,3664,3673,!0,u);case 46:return Ve(l,3872,3881,!0,u);default:return Ve(l,48,57,!0,u)}},Dd="data-html2canvas-ignore",Hd=function(){function l(c,d,u){if(this.context=c,this.options=u,this.scrolledElements=[],this.referenceElement=d,this.counters=new vr,this.quoteDepth=0,!d.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(d.ownerDocument.documentElement,!1)}return l.prototype.toIFrame=function(c,d){var u=this,_=yf(c,d);if(!_.contentWindow)return Promise.reject("Unable to find iframe window");var B=c.defaultView.pageXOffset,Q=c.defaultView.pageYOffset,O=_.contentWindow,N=O.document,X=kf(_).then(function(){return be(u,void 0,void 0,function(){var rt,lt;return Ft(this,function(Bt){switch(Bt.label){case 0:return this.scrolledElements.forEach(If),O&&(O.scrollTo(d.left,d.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(O.scrollY!==d.top||O.scrollX!==d.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(O.scrollX-d.left,O.scrollY-d.top,0,0))),rt=this.options.onclone,typeof(lt=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:N.fonts&&N.fonts.ready?[4,N.fonts.ready]:[3,2];case 1:Bt.sent(),Bt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Tf(N)]:[3,4];case 3:Bt.sent(),Bt.label=4;case 4:return"function"==typeof rt?[2,Promise.resolve().then(function(){return rt(N,lt)}).then(function(){return _})]:[2,_]}})})});return N.open(),N.write(Ff(document.doctype)+"<html></html>"),Uf(this.referenceElement.ownerDocument,B,Q),N.replaceChild(N.adoptNode(this.documentElement),N.documentElement),N.close(),X},l.prototype.createElementClone=function(c){if(Io(c,2),_r(c))return this.createCanvasClone(c);if(No(c))return this.createVideoClone(c);if(me(c))return this.createStyleClone(c);var d=c.cloneNode(!1);return Cl(d)&&(Cl(c)&&c.currentSrc&&c.currentSrc!==c.src&&(d.src=c.currentSrc,d.srcset=""),"lazy"===d.loading&&(d.loading="eager")),wr(d)?this.createCustomElementClone(d):d},l.prototype.createCustomElementClone=function(c){var d=document.createElement("html2canvascustomelement");return bl(c.style,d),d},l.prototype.createStyleClone=function(c){try{var d=c.sheet;if(d&&d.cssRules){var u=[].slice.call(d.cssRules,0).reduce(function(B,Q){return Q&&"string"==typeof Q.cssText?B+Q.cssText:B},""),_=c.cloneNode(!1);return _.textContent=u,_}}catch(B){if(this.context.logger.error("Unable to access cssRules property",B),"SecurityError"!==B.name)throw B}return c.cloneNode(!1)},l.prototype.createCanvasClone=function(c){var d;if(this.options.inlineImages&&c.ownerDocument){var u=c.ownerDocument.createElement("img");try{return u.src=c.toDataURL(),u}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",c)}}var _=c.cloneNode(!1);try{_.width=c.width,_.height=c.height;var B=c.getContext("2d"),Q=_.getContext("2d");if(Q)if(!this.options.allowTaint&&B)Q.putImageData(B.getImageData(0,0,c.width,c.height),0,0);else{var O=null!==(d=c.getContext("webgl2"))&&void 0!==d?d:c.getContext("webgl");if(O){var N=O.getContextAttributes();!1===N?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",c)}Q.drawImage(c,0,0)}return _}catch{this.context.logger.info("Unable to clone canvas as it is tainted",c)}return _},l.prototype.createVideoClone=function(c){var d=c.ownerDocument.createElement("canvas");d.width=c.offsetWidth,d.height=c.offsetHeight;var u=d.getContext("2d");try{return u&&(u.drawImage(c,0,0,d.width,d.height),this.options.allowTaint||u.getImageData(0,0,d.width,d.height)),d}catch{this.context.logger.info("Unable to clone video as it is tainted",c)}var _=c.ownerDocument.createElement("canvas");return _.width=c.offsetWidth,_.height=c.offsetHeight,_},l.prototype.appendChildNode=function(c,d,u){(!Xi(d)||!function(l){return"SCRIPT"===l.tagName}(d)&&!d.hasAttribute(Dd)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(d)))&&(!this.options.copyStyles||!Xi(d)||!me(d))&&c.appendChild(this.cloneNode(d,u))},l.prototype.cloneChildNodes=function(c,d,u){for(var _=this,B=c.shadowRoot?c.shadowRoot.firstChild:c.firstChild;B;B=B.nextSibling)if(Xi(B)&&Ms(B)&&"function"==typeof B.assignedNodes){var Q=B.assignedNodes();Q.length&&Q.forEach(function(O){return _.appendChildNode(d,O,u)})}else this.appendChildNode(d,B,u)},l.prototype.cloneNode=function(c,d){if(Wi(c))return document.createTextNode(c.data);if(!c.ownerDocument)return c.cloneNode(!1);var u=c.ownerDocument.defaultView;if(u&&Xi(c)&&(_l(c)||La(c))){var _=this.createElementClone(c);_.style.transitionProperty="none";var B=u.getComputedStyle(c),Q=u.getComputedStyle(c,":before"),O=u.getComputedStyle(c,":after");this.referenceElement===c&&_l(_)&&(this.clonedReferenceElement=_),vl(_)&&zf(_);var N=this.counters.parse(new Ls(this.context,B)),X=this.resolvePseudoContent(c,_,Q,Da.BEFORE);wr(c)&&(d=!0),No(c)||this.cloneChildNodes(c,_,d),X&&_.insertBefore(X,_.firstChild);var rt=this.resolvePseudoContent(c,_,O,Da.AFTER);return rt&&_.appendChild(rt),this.counters.pop(N),(B&&(this.options.copyStyles||La(c))&&!Ed(c)||d)&&bl(B,_),(0!==c.scrollTop||0!==c.scrollLeft)&&this.scrolledElements.push([_,c.scrollLeft,c.scrollTop]),(Ma(c)||Na(c))&&(Ma(_)||Na(_))&&(_.value=c.value),_}return c.cloneNode(!1)},l.prototype.resolvePseudoContent=function(c,d,u,_){var B=this;if(u){var Q=u.content,O=d.ownerDocument;if(O&&Q&&"none"!==Q&&"-moz-alt-content"!==Q&&"none"!==u.display){this.counters.parse(new Ls(this.context,u));var N=new Al(this.context,u),X=O.createElement("html2canvaspseudoelement");bl(u,X),N.content.forEach(function(lt){if(0===lt.type)X.appendChild(O.createTextNode(lt.value));else if(22===lt.type){var Bt=O.createElement("img");Bt.src=lt.value,Bt.style.opacity="1",X.appendChild(Bt)}else if(18===lt.type){if("attr"===lt.name){var Xt=lt.values.filter(lA);Xt.length&&X.appendChild(O.createTextNode(c.getAttribute(Xt[0].value)||""))}else if("counter"===lt.name){var Dt=lt.values.filter(Pi),Ue=Dt[1];if((Gt=Dt[0])&&lA(Gt)){var ae=B.counters.getCounterValue(Gt.value),oe=Ue&&lA(Ue)?Ta.parse(B.context,Ue.value):3;X.appendChild(O.createTextNode(Do(ae,oe,!1)))}}else if("counters"===lt.name){var Gt,Ke=lt.values.filter(Pi),ze=Ke[1];if(Ue=Ke[2],(Gt=Ke[0])&&lA(Gt)){var we=B.counters.getCounterValues(Gt.value),Vt=Ue&&lA(Ue)?Ta.parse(B.context,Ue.value):3,De=ze&&0===ze.type?ze.value:"",Oe=we.map(function(Bn){return Do(Bn,Vt,!1)}).join(De);X.appendChild(O.createTextNode(Oe))}}}else if(20===lt.type)switch(lt.value){case"open-quote":X.appendChild(O.createTextNode(od(N.quotes,B.quoteDepth++,!0)));break;case"close-quote":X.appendChild(O.createTextNode(od(N.quotes,--B.quoteDepth,!1)));break;default:X.appendChild(O.createTextNode(lt.value))}}),X.className=es+" "+Ha;var rt=_===Da.BEFORE?" "+es:" "+Ha;return La(d)?d.className.baseValue+=rt:d.className+=rt,X}}},l.destroy=function(c){return!!c.parentNode&&(c.parentNode.removeChild(c),!0)},l}(),Da=function(l){return l[l.BEFORE=0]="BEFORE",l[l.AFTER=1]="AFTER",l}(Da||{}),yf=function(l,c){var d=l.createElement("iframe");return d.className="html2canvas-container",d.style.visibility="hidden",d.style.position="fixed",d.style.left="-10000px",d.style.top="0px",d.style.border="0",d.width=c.width.toString(),d.height=c.height.toString(),d.scrolling="no",d.setAttribute(Dd,"true"),l.body.appendChild(d),d},xf=function(l){return new Promise(function(c){l.complete?c():l.src?(l.onload=c,l.onerror=c):c()})},Tf=function(l){return Promise.all([].slice.call(l.images,0).map(xf))},kf=function(l){return new Promise(function(c,d){var u=l.contentWindow;if(!u)return d("No window assigned for iframe");var _=u.document;u.onload=l.onload=function(){u.onload=l.onload=null;var B=setInterval(function(){_.body.childNodes.length>0&&"complete"===_.readyState&&(clearInterval(B),c(l))},50)}})},Qf=["all","d","content"],bl=function(l,c){for(var d=l.length-1;d>=0;d--){var u=l.item(d);-1===Qf.indexOf(u)&&c.style.setProperty(u,l.getPropertyValue(u))}return c},Ff=function(l){var c="";return l&&(c+="<!DOCTYPE ",l.name&&(c+=l.name),l.internalSubset&&(c+=l.internalSubset),l.publicId&&(c+='"'+l.publicId+'"'),l.systemId&&(c+='"'+l.systemId+'"'),c+=">"),c},Uf=function(l,c,d){l&&l.defaultView&&(c!==l.defaultView.pageXOffset||d!==l.defaultView.pageYOffset)&&l.defaultView.scrollTo(c,d)},If=function(l){var c=l[0],u=l[2];c.scrollLeft=l[1],c.scrollTop=u},es="___html2canvas___pseudoelement_before",Ha="___html2canvas___pseudoelement_after",jd='{\n    content: "" !important;\n    display: none !important;\n}',zf=function(l){Lf(l,"."+es+":before"+jd+"\n         ."+Ha+":after"+jd)},Lf=function(l,c){var d=l.ownerDocument;if(d){var u=d.createElement("style");u.textContent=c,l.appendChild(u)}},Rd=function(){function l(){}return l.getOrigin=function(c){var d=l._link;return d?(d.href=c,d.href=d.href,d.protocol+d.hostname+d.port):"about:blank"},l.isSameOrigin=function(c){return l.getOrigin(c)===l._origin},l.setContext=function(c){l._link=c.document.createElement("a"),l._origin=l.getOrigin(c.location.href)},l._origin="about:blank",l}(),Ef=function(){function l(c,d){this.context=c,this._options=d,this._cache={}}return l.prototype.addImage=function(c){var d=Promise.resolve();return this.has(c)||(Za(c)||Pf(c))&&(this._cache[c]=this.loadImage(c)).catch(function(){}),d},l.prototype.match=function(c){return this._cache[c]},l.prototype.loadImage=function(c){return be(this,void 0,void 0,function(){var d,u,_,B,Q=this;return Ft(this,function(O){switch(O.label){case 0:return d=Rd.isSameOrigin(c),u=!yl(c)&&!0===this._options.useCORS&&sn.SUPPORT_CORS_IMAGES&&!d,_=!yl(c)&&!d&&!Za(c)&&"string"==typeof this._options.proxy&&sn.SUPPORT_CORS_XHR&&!u,d||!1!==this._options.allowTaint||yl(c)||Za(c)||_||u?(B=c,_?[4,this.proxy(B)]:[3,2]):[2];case 1:B=O.sent(),O.label=2;case 2:return this.context.logger.debug("Added image "+c.substring(0,256)),[4,new Promise(function(N,X){var rt=new Image;rt.onload=function(){return N(rt)},rt.onerror=X,(Df(B)||u)&&(rt.crossOrigin="anonymous"),rt.src=B,!0===rt.complete&&setTimeout(function(){return N(rt)},500),Q._options.imageTimeout>0&&setTimeout(function(){return X("Timed out ("+Q._options.imageTimeout+"ms) loading image")},Q._options.imageTimeout)})];case 3:return[2,O.sent()]}})})},l.prototype.has=function(c){return typeof this._cache[c]<"u"},l.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},l.prototype.proxy=function(c){var d=this,u=this._options.proxy;if(!u)throw new Error("No proxy defined");var _=c.substring(0,256);return new Promise(function(B,Q){var O=sn.SUPPORT_RESPONSE_TYPE?"blob":"text",N=new XMLHttpRequest;N.onload=function(){if(200===N.status)if("text"===O)B(N.response);else{var lt=new FileReader;lt.addEventListener("load",function(){return B(lt.result)},!1),lt.addEventListener("error",function(Bt){return Q(Bt)},!1),lt.readAsDataURL(N.response)}else Q("Failed to proxy resource "+_+" with status code "+N.status)},N.onerror=Q;var X=u.indexOf("?")>-1?"&":"?";if(N.open("GET",""+u+X+"url="+encodeURIComponent(c)+"&responseType="+O),"text"!==O&&N instanceof XMLHttpRequest&&(N.responseType=O),d._options.imageTimeout){var rt=d._options.imageTimeout;N.timeout=rt,N.ontimeout=function(){return Q("Timed out ("+rt+"ms) proxying "+_)}}N.send()})},l}(),Mf=/^data:image\/svg\+xml/i,Nf=/^data:image\/.*;base64,/i,Of=/^data:image\/.*/i,Pf=function(l){return sn.SUPPORT_SVG_DRAWING||!Hf(l)},yl=function(l){return Of.test(l)},Df=function(l){return Nf.test(l)},Za=function(l){return"blob"===l.substr(0,4)},Hf=function(l){return"svg"===l.substr(-3).toLowerCase()||Mf.test(l)},qt=function(){function l(c,d){this.type=0,this.x=c,this.y=d}return l.prototype.add=function(c,d){return new l(this.x+c,this.y+d)},l}(),Ds=function(l,c,d){return new qt(l.x+(c.x-l.x)*d,l.y+(c.y-l.y)*d)},ja=function(){function l(c,d,u,_){this.type=1,this.start=c,this.startControl=d,this.endControl=u,this.end=_}return l.prototype.subdivide=function(c,d){var u=Ds(this.start,this.startControl,c),_=Ds(this.startControl,this.endControl,c),B=Ds(this.endControl,this.end,c),Q=Ds(u,_,c),O=Ds(_,B,c),N=Ds(Q,O,c);return d?new l(this.start,u,Q,N):new l(N,O,B,this.end)},l.prototype.add=function(c,d){return new l(this.start.add(c,d),this.startControl.add(c,d),this.endControl.add(c,d),this.end.add(c,d))},l.prototype.reverse=function(){return new l(this.end,this.endControl,this.startControl,this.start)},l}(),jn=function(l){return 1===l.type},Zf=function l(c){var d=c.styles,u=c.bounds,_=pa(d.borderTopLeftRadius,u.width,u.height),B=_[0],Q=_[1],O=pa(d.borderTopRightRadius,u.width,u.height),N=O[0],X=O[1],rt=pa(d.borderBottomRightRadius,u.width,u.height),lt=rt[0],Bt=rt[1],Xt=pa(d.borderBottomLeftRadius,u.width,u.height),Dt=Xt[0],Gt=Xt[1],Ue=[];Ue.push((B+N)/u.width),Ue.push((Dt+lt)/u.width),Ue.push((Q+Gt)/u.height),Ue.push((X+Bt)/u.height);var ae=Math.max.apply(Math,Ue);ae>1&&(B/=ae,Q/=ae,N/=ae,X/=ae,lt/=ae,Bt/=ae,Dt/=ae,Gt/=ae);var oe=u.width-N,Ke=u.height-Bt,ze=u.width-lt,we=u.height-Gt,Vt=d.borderTopWidth,De=d.borderRightWidth,Oe=d.borderBottomWidth,Be=d.borderLeftWidth,NA=gA(d.paddingTop,c.bounds.width),Bn=gA(d.paddingRight,c.bounds.width),zn=gA(d.paddingBottom,c.bounds.width),iA=gA(d.paddingLeft,c.bounds.width);this.topLeftBorderDoubleOuterBox=B>0||Q>0?vA(u.left+Be/3,u.top+Vt/3,B-Be/3,Q-Vt/3,AA.TOP_LEFT):new qt(u.left+Be/3,u.top+Vt/3),this.topRightBorderDoubleOuterBox=B>0||Q>0?vA(u.left+oe,u.top+Vt/3,N-De/3,X-Vt/3,AA.TOP_RIGHT):new qt(u.left+u.width-De/3,u.top+Vt/3),this.bottomRightBorderDoubleOuterBox=lt>0||Bt>0?vA(u.left+ze,u.top+Ke,lt-De/3,Bt-Oe/3,AA.BOTTOM_RIGHT):new qt(u.left+u.width-De/3,u.top+u.height-Oe/3),this.bottomLeftBorderDoubleOuterBox=Dt>0||Gt>0?vA(u.left+Be/3,u.top+we,Dt-Be/3,Gt-Oe/3,AA.BOTTOM_LEFT):new qt(u.left+Be/3,u.top+u.height-Oe/3),this.topLeftBorderDoubleInnerBox=B>0||Q>0?vA(u.left+2*Be/3,u.top+2*Vt/3,B-2*Be/3,Q-2*Vt/3,AA.TOP_LEFT):new qt(u.left+2*Be/3,u.top+2*Vt/3),this.topRightBorderDoubleInnerBox=B>0||Q>0?vA(u.left+oe,u.top+2*Vt/3,N-2*De/3,X-2*Vt/3,AA.TOP_RIGHT):new qt(u.left+u.width-2*De/3,u.top+2*Vt/3),this.bottomRightBorderDoubleInnerBox=lt>0||Bt>0?vA(u.left+ze,u.top+Ke,lt-2*De/3,Bt-2*Oe/3,AA.BOTTOM_RIGHT):new qt(u.left+u.width-2*De/3,u.top+u.height-2*Oe/3),this.bottomLeftBorderDoubleInnerBox=Dt>0||Gt>0?vA(u.left+2*Be/3,u.top+we,Dt-2*Be/3,Gt-2*Oe/3,AA.BOTTOM_LEFT):new qt(u.left+2*Be/3,u.top+u.height-2*Oe/3),this.topLeftBorderStroke=B>0||Q>0?vA(u.left+Be/2,u.top+Vt/2,B-Be/2,Q-Vt/2,AA.TOP_LEFT):new qt(u.left+Be/2,u.top+Vt/2),this.topRightBorderStroke=B>0||Q>0?vA(u.left+oe,u.top+Vt/2,N-De/2,X-Vt/2,AA.TOP_RIGHT):new qt(u.left+u.width-De/2,u.top+Vt/2),this.bottomRightBorderStroke=lt>0||Bt>0?vA(u.left+ze,u.top+Ke,lt-De/2,Bt-Oe/2,AA.BOTTOM_RIGHT):new qt(u.left+u.width-De/2,u.top+u.height-Oe/2),this.bottomLeftBorderStroke=Dt>0||Gt>0?vA(u.left+Be/2,u.top+we,Dt-Be/2,Gt-Oe/2,AA.BOTTOM_LEFT):new qt(u.left+Be/2,u.top+u.height-Oe/2),this.topLeftBorderBox=B>0||Q>0?vA(u.left,u.top,B,Q,AA.TOP_LEFT):new qt(u.left,u.top),this.topRightBorderBox=N>0||X>0?vA(u.left+oe,u.top,N,X,AA.TOP_RIGHT):new qt(u.left+u.width,u.top),this.bottomRightBorderBox=lt>0||Bt>0?vA(u.left+ze,u.top+Ke,lt,Bt,AA.BOTTOM_RIGHT):new qt(u.left+u.width,u.top+u.height),this.bottomLeftBorderBox=Dt>0||Gt>0?vA(u.left,u.top+we,Dt,Gt,AA.BOTTOM_LEFT):new qt(u.left,u.top+u.height),this.topLeftPaddingBox=B>0||Q>0?vA(u.left+Be,u.top+Vt,Math.max(0,B-Be),Math.max(0,Q-Vt),AA.TOP_LEFT):new qt(u.left+Be,u.top+Vt),this.topRightPaddingBox=N>0||X>0?vA(u.left+Math.min(oe,u.width-De),u.top+Vt,oe>u.width+De?0:Math.max(0,N-De),Math.max(0,X-Vt),AA.TOP_RIGHT):new qt(u.left+u.width-De,u.top+Vt),this.bottomRightPaddingBox=lt>0||Bt>0?vA(u.left+Math.min(ze,u.width-Be),u.top+Math.min(Ke,u.height-Oe),Math.max(0,lt-De),Math.max(0,Bt-Oe),AA.BOTTOM_RIGHT):new qt(u.left+u.width-De,u.top+u.height-Oe),this.bottomLeftPaddingBox=Dt>0||Gt>0?vA(u.left+Be,u.top+Math.min(we,u.height-Oe),Math.max(0,Dt-Be),Math.max(0,Gt-Oe),AA.BOTTOM_LEFT):new qt(u.left+Be,u.top+u.height-Oe),this.topLeftContentBox=B>0||Q>0?vA(u.left+Be+iA,u.top+Vt+NA,Math.max(0,B-(Be+iA)),Math.max(0,Q-(Vt+NA)),AA.TOP_LEFT):new qt(u.left+Be+iA,u.top+Vt+NA),this.topRightContentBox=N>0||X>0?vA(u.left+Math.min(oe,u.width+Be+iA),u.top+Vt+NA,oe>u.width+Be+iA?0:N-Be+iA,X-(Vt+NA),AA.TOP_RIGHT):new qt(u.left+u.width-(De+Bn),u.top+Vt+NA),this.bottomRightContentBox=lt>0||Bt>0?vA(u.left+Math.min(ze,u.width-(Be+iA)),u.top+Math.min(Ke,u.height+Vt+NA),Math.max(0,lt-(De+Bn)),Bt-(Oe+zn),AA.BOTTOM_RIGHT):new qt(u.left+u.width-(De+Bn),u.top+u.height-(Oe+zn)),this.bottomLeftContentBox=Dt>0||Gt>0?vA(u.left+Be+iA,u.top+we,Math.max(0,Dt-(Be+iA)),Gt-(Oe+zn),AA.BOTTOM_LEFT):new qt(u.left+Be+iA,u.top+u.height-(Oe+zn))},AA=function(l){return l[l.TOP_LEFT=0]="TOP_LEFT",l[l.TOP_RIGHT=1]="TOP_RIGHT",l[l.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",l[l.BOTTOM_LEFT=3]="BOTTOM_LEFT",l}(AA||{}),vA=function(l,c,d,u,_){var B=(Math.sqrt(2)-1)/3*4,Q=d*B,O=u*B,N=l+d,X=c+u;switch(_){case AA.TOP_LEFT:return new ja(new qt(l,X),new qt(l,X-O),new qt(N-Q,c),new qt(N,c));case AA.TOP_RIGHT:return new ja(new qt(l,c),new qt(l+Q,c),new qt(N,X-O),new qt(N,X));case AA.BOTTOM_RIGHT:return new ja(new qt(N,c),new qt(N,c+O),new qt(l+Q,X),new qt(l,X));default:return new ja(new qt(N,X),new qt(N-Q,X),new qt(l,c+O),new qt(l,c))}},Ra=function(l){return[l.topLeftBorderBox,l.topRightBorderBox,l.bottomRightBorderBox,l.bottomLeftBorderBox]},Ka=function(l){return[l.topLeftPaddingBox,l.topRightPaddingBox,l.bottomRightPaddingBox,l.bottomLeftPaddingBox]},Rf=function l(c,d,u){this.offsetX=c,this.offsetY=d,this.matrix=u,this.type=0,this.target=6},Ga=function l(c,d){this.path=c,this.target=d,this.type=1},Kf=function l(c){this.opacity=c,this.type=2,this.target=6},Kd=function(l){return 1===l.type},Gd=function(l,c){return l.length===c.length&&l.some(function(d,u){return d===c[u]})},Jd=function l(c){this.element=c,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Yd=function(){function l(c,d){if(this.container=c,this.parent=d,this.effects=[],this.curves=new Zf(this.container),this.container.styles.opacity<1&&this.effects.push(new Kf(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new Rf(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var Q=Ra(this.curves),O=Ka(this.curves);Gd(Q,O)?this.effects.push(new Ga(Q,6)):(this.effects.push(new Ga(Q,2)),this.effects.push(new Ga(O,4)))}}return l.prototype.getEffects=function(c){for(var d=-1===[2,3].indexOf(this.container.styles.position),u=this.parent,_=this.effects.slice(0);u;){var B=u.effects.filter(function(N){return!Kd(N)});if(d||0!==u.container.styles.position||!u.parent){if(_.unshift.apply(_,B),d=-1===[2,3].indexOf(u.container.styles.position),0!==u.container.styles.overflowX){var Q=Ra(u.curves),O=Ka(u.curves);Gd(Q,O)||_.unshift(new Ga(O,6))}}else _.unshift.apply(_,B);u=u.parent}return _.filter(function(N){return RA(N.target,c)})},l}(),xl=function(l,c,d,u){l.container.elements.forEach(function(_){var B=RA(_.flags,4),Q=RA(_.flags,2),O=new Yd(_,l);RA(_.styles.display,2048)&&u.push(O);var N=RA(_.flags,8)?[]:u;if(B||Q){var X=B||_.styles.isPositioned()?d:c,rt=new Jd(O);if(_.styles.isPositioned()||_.styles.opacity<1||_.styles.isTransformed()){var lt=_.styles.zIndex.order;if(lt<0){var Bt=0;X.negativeZIndex.some(function(Dt,Gt){return lt>Dt.element.container.styles.zIndex.order?(Bt=Gt,!1):Bt>0}),X.negativeZIndex.splice(Bt,0,rt)}else if(lt>0){var Xt=0;X.positiveZIndex.some(function(Dt,Gt){return lt>=Dt.element.container.styles.zIndex.order?(Xt=Gt+1,!1):Xt>0}),X.positiveZIndex.splice(Xt,0,rt)}else X.zeroOrAutoZIndexOrTransformedOrOpacity.push(rt)}else _.styles.isFloating()?X.nonPositionedFloats.push(rt):X.nonPositionedInlineLevel.push(rt);xl(O,rt,B?rt:d,N)}else _.styles.isInlineLevel()?c.inlineLevel.push(O):c.nonInlineLevel.push(O),xl(O,c,d,N);RA(_.flags,8)&&qd(_,N)})},qd=function(l,c){for(var d=l instanceof fl?l.start:1,u=l instanceof fl&&l.reversed,_=0;_<c.length;_++){var B=c[_];B.container instanceof kd&&"number"==typeof B.container.value&&0!==B.container.value&&(d=B.container.value),B.listValue=Do(d,B.container.styles.listStyleType,!0),d+=u?-1:1}},Vd=function(l,c){switch(c){case 0:return Rn(l.topLeftBorderBox,l.topLeftPaddingBox,l.topRightBorderBox,l.topRightPaddingBox);case 1:return Rn(l.topRightBorderBox,l.topRightPaddingBox,l.bottomRightBorderBox,l.bottomRightPaddingBox);case 2:return Rn(l.bottomRightBorderBox,l.bottomRightPaddingBox,l.bottomLeftBorderBox,l.bottomLeftPaddingBox);default:return Rn(l.bottomLeftBorderBox,l.bottomLeftPaddingBox,l.topLeftBorderBox,l.topLeftPaddingBox)}},Ja=function(l,c){var d=[];return jn(l)?d.push(l.subdivide(.5,!1)):d.push(l),jn(c)?d.push(c.subdivide(.5,!0)):d.push(c),d},Rn=function(l,c,d,u){var _=[];return jn(l)?_.push(l.subdivide(.5,!1)):_.push(l),jn(d)?_.push(d.subdivide(.5,!0)):_.push(d),jn(u)?_.push(u.subdivide(.5,!0).reverse()):_.push(u),jn(c)?_.push(c.subdivide(.5,!1).reverse()):_.push(c),_},Wd=function(l){var d=l.styles;return l.bounds.add(d.borderLeftWidth,d.borderTopWidth,-(d.borderRightWidth+d.borderLeftWidth),-(d.borderTopWidth+d.borderBottomWidth))},Ya=function(l){var c=l.styles,d=l.bounds,u=gA(c.paddingLeft,d.width),_=gA(c.paddingRight,d.width),B=gA(c.paddingTop,d.width),Q=gA(c.paddingBottom,d.width);return d.add(u+c.borderLeftWidth,B+c.borderTopWidth,-(c.borderRightWidth+c.borderLeftWidth+u+_),-(c.borderTopWidth+c.borderBottomWidth+B+Q))},qa=function(l,c,d){var u=function(l,c){return 0===l?c.bounds:2===l?Ya(c):Wd(c)}(Zs(l.styles.backgroundOrigin,c),l),_=function(l,c){return 0===l?c.bounds:2===l?Ya(c):Wd(c)}(Zs(l.styles.backgroundClip,c),l),B=eg(Zs(l.styles.backgroundSize,c),d,u),Q=B[0],O=B[1],N=pa(Zs(l.styles.backgroundPosition,c),u.width-Q,u.height-O);return[Ag(Zs(l.styles.backgroundRepeat,c),N,B,u,_),Math.round(u.left+N[0]),Math.round(u.top+N[1]),Q,O]},As=function(l){return lA(l)&&l.value===Ki.AUTO},Hs=function(l){return"number"==typeof l},eg=function(l,c,d){var u=c[0],_=c[1],B=c[2],Q=l[0],O=l[1];if(!Q)return[0,0];if(EA(Q)&&O&&EA(O))return[gA(Q,d.width),gA(O,d.height)];var N=Hs(B);if(lA(Q)&&(Q.value===Ki.CONTAIN||Q.value===Ki.COVER))return Hs(B)?d.width/d.height<B!=(Q.value===Ki.COVER)?[d.width,d.width/B]:[d.height*B,d.height]:[d.width,d.height];var rt=Hs(u),lt=Hs(_),Bt=rt||lt;if(As(Q)&&(!O||As(O)))return rt&&lt?[u,_]:N||Bt?Bt&&N?[rt?u:_*B,lt?_:u/B]:[rt?u:d.width,lt?_:d.height]:[d.width,d.height];if(N){var ae=0,oe=0;return EA(Q)?ae=gA(Q,d.width):EA(O)&&(oe=gA(O,d.height)),As(Q)?ae=oe*B:(!O||As(O))&&(oe=ae/B),[ae,oe]}var Ke=null,ze=null;if(EA(Q)?Ke=gA(Q,d.width):O&&EA(O)&&(ze=gA(O,d.height)),null!==Ke&&(!O||As(O))&&(ze=rt&&lt?Ke/u*_:d.height),null!==ze&&As(Q)&&(Ke=rt&&lt?ze/_*u:d.width),null!==Ke&&null!==ze)return[Ke,ze];throw new Error("Unable to calculate background-size for element")},Zs=function(l,c){var d=l[c];return typeof d>"u"?l[0]:d},Ag=function(l,c,d,u,_){var B=c[0],Q=c[1],O=d[0],N=d[1];switch(l){case 2:return[new qt(Math.round(u.left),Math.round(u.top+Q)),new qt(Math.round(u.left+u.width),Math.round(u.top+Q)),new qt(Math.round(u.left+u.width),Math.round(N+u.top+Q)),new qt(Math.round(u.left),Math.round(N+u.top+Q))];case 3:return[new qt(Math.round(u.left+B),Math.round(u.top)),new qt(Math.round(u.left+B+O),Math.round(u.top)),new qt(Math.round(u.left+B+O),Math.round(u.height+u.top)),new qt(Math.round(u.left+B),Math.round(u.height+u.top))];case 1:return[new qt(Math.round(u.left+B),Math.round(u.top+Q)),new qt(Math.round(u.left+B+O),Math.round(u.top+Q)),new qt(Math.round(u.left+B+O),Math.round(u.top+Q+N)),new qt(Math.round(u.left+B),Math.round(u.top+Q+N))];default:return[new qt(Math.round(_.left),Math.round(_.top)),new qt(Math.round(_.left+_.width),Math.round(_.top)),new qt(Math.round(_.left+_.width),Math.round(_.height+_.top)),new qt(Math.round(_.left),Math.round(_.height+_.top))]}},Xd="Hidden Text",rg=function(){function l(c){this._data={},this._document=c}return l.prototype.parseMetrics=function(c,d){var u=this._document.createElement("div"),_=this._document.createElement("img"),B=this._document.createElement("span"),Q=this._document.body;u.style.visibility="hidden",u.style.fontFamily=c,u.style.fontSize=d,u.style.margin="0",u.style.padding="0",u.style.whiteSpace="nowrap",Q.appendChild(u),_.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",_.width=1,_.height=1,_.style.margin="0",_.style.padding="0",_.style.verticalAlign="baseline",B.style.fontFamily=c,B.style.fontSize=d,B.style.margin="0",B.style.padding="0",B.appendChild(this._document.createTextNode(Xd)),u.appendChild(B),u.appendChild(_);var O=_.offsetTop-B.offsetTop+2;u.removeChild(B),u.appendChild(this._document.createTextNode(Xd)),u.style.lineHeight="normal",_.style.verticalAlign="super";var N=_.offsetTop-u.offsetTop+2;return Q.removeChild(u),{baseline:O,middle:N}},l.prototype.getMetrics=function(c,d){var u=c+" "+d;return typeof this._data[u]>"u"&&(this._data[u]=this.parseMetrics(c,d)),this._data[u]},l}(),$d=function l(c,d){this.context=c,this.options=d},th=function(l){function c(d,u){var _=l.call(this,d,u)||this;return _._activeEffects=[],_.canvas=u.canvas?u.canvas:document.createElement("canvas"),_.ctx=_.canvas.getContext("2d"),u.canvas||(_.canvas.width=Math.floor(u.width*u.scale),_.canvas.height=Math.floor(u.height*u.scale),_.canvas.style.width=u.width+"px",_.canvas.style.height=u.height+"px"),_.fontMetrics=new rg(document),_.ctx.scale(_.options.scale,_.options.scale),_.ctx.translate(-u.x,-u.y),_.ctx.textBaseline="bottom",_._activeEffects=[],_.context.logger.debug("Canvas renderer initialized ("+u.width+"x"+u.height+") with scale "+u.scale),_}return ot(c,l),c.prototype.applyEffects=function(d){for(var u=this;this._activeEffects.length;)this.popEffect();d.forEach(function(_){return u.applyEffect(_)})},c.prototype.applyEffect=function(d){this.ctx.save(),function(l){return 2===l.type}(d)&&(this.ctx.globalAlpha=d.opacity),function(l){return 0===l.type}(d)&&(this.ctx.translate(d.offsetX,d.offsetY),this.ctx.transform(d.matrix[0],d.matrix[1],d.matrix[2],d.matrix[3],d.matrix[4],d.matrix[5]),this.ctx.translate(-d.offsetX,-d.offsetY)),Kd(d)&&(this.path(d.path),this.ctx.clip()),this._activeEffects.push(d)},c.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},c.prototype.renderStack=function(d){return be(this,void 0,void 0,function(){return Ft(this,function(_){switch(_.label){case 0:return d.element.container.styles.isVisible()?[4,this.renderStackContent(d)]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})})},c.prototype.renderNode=function(d){return be(this,void 0,void 0,function(){return Ft(this,function(u){switch(u.label){case 0:return RA(d.container.flags,16),d.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(d)]:[3,3];case 1:return u.sent(),[4,this.renderNodeContent(d)];case 2:u.sent(),u.label=3;case 3:return[2]}})})},c.prototype.renderTextWithLetterSpacing=function(d,u,_){var B=this;0===u?this.ctx.fillText(d.text,d.bounds.left,d.bounds.top+_):pl(d.text).reduce(function(O,N){return B.ctx.fillText(N,O,d.bounds.top+_),O+B.ctx.measureText(N).width},d.bounds.left)},c.prototype.createFontStyle=function(d){var u=d.fontVariant.filter(function(Q){return"normal"===Q||"small-caps"===Q}).join(""),_=lg(d.fontFamily).join(", "),B=ui(d.fontSize)?""+d.fontSize.number+d.fontSize.unit:d.fontSize.number+"px";return[[d.fontStyle,u,d.fontWeight,B,_].join(" "),_,B]},c.prototype.renderTextNode=function(d,u){return be(this,void 0,void 0,function(){var _,Q,O,N,X,rt,lt,Bt=this;return Ft(this,function(Xt){return _=this.createFontStyle(u),Q=_[1],O=_[2],this.ctx.font=_[0],this.ctx.direction=1===u.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",N=this.fontMetrics.getMetrics(Q,O),X=N.baseline,rt=N.middle,lt=u.paintOrder,d.textBounds.forEach(function(Dt){lt.forEach(function(Gt){switch(Gt){case 0:Bt.ctx.fillStyle=MA(u.color),Bt.renderTextWithLetterSpacing(Dt,u.letterSpacing,X);var Ue=u.textShadow;Ue.length&&Dt.text.trim().length&&(Ue.slice(0).reverse().forEach(function(ae){Bt.ctx.shadowColor=MA(ae.color),Bt.ctx.shadowOffsetX=ae.offsetX.number*Bt.options.scale,Bt.ctx.shadowOffsetY=ae.offsetY.number*Bt.options.scale,Bt.ctx.shadowBlur=ae.blur.number,Bt.renderTextWithLetterSpacing(Dt,u.letterSpacing,X)}),Bt.ctx.shadowColor="",Bt.ctx.shadowOffsetX=0,Bt.ctx.shadowOffsetY=0,Bt.ctx.shadowBlur=0),u.textDecorationLine.length&&(Bt.ctx.fillStyle=MA(u.textDecorationColor||u.color),u.textDecorationLine.forEach(function(ae){switch(ae){case 1:Bt.ctx.fillRect(Dt.bounds.left,Math.round(Dt.bounds.top+X),Dt.bounds.width,1);break;case 2:Bt.ctx.fillRect(Dt.bounds.left,Math.round(Dt.bounds.top),Dt.bounds.width,1);break;case 3:Bt.ctx.fillRect(Dt.bounds.left,Math.ceil(Dt.bounds.top+rt),Dt.bounds.width,1)}}));break;case 1:u.webkitTextStrokeWidth&&Dt.text.trim().length&&(Bt.ctx.strokeStyle=MA(u.webkitTextStrokeColor),Bt.ctx.lineWidth=u.webkitTextStrokeWidth,Bt.ctx.lineJoin=window.chrome?"miter":"round",Bt.ctx.strokeText(Dt.text,Dt.bounds.left,Dt.bounds.top+X)),Bt.ctx.strokeStyle="",Bt.ctx.lineWidth=0,Bt.ctx.lineJoin="miter"}})}),[2]})})},c.prototype.renderReplacedElement=function(d,u,_){if(_&&d.intrinsicWidth>0&&d.intrinsicHeight>0){var B=Ya(d),Q=Ka(u);this.path(Q),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(_,0,0,d.intrinsicWidth,d.intrinsicHeight,B.left,B.top,B.width,B.height),this.ctx.restore()}},c.prototype.renderNodeContent=function(d){return be(this,void 0,void 0,function(){var u,_,B,Q,O,rt,lt,Bt,Dt,Gt,Ue,ae,oe,Ke,ze,we;return Ft(this,function(Vt){switch(Vt.label){case 0:this.applyEffects(d.getEffects(4)),_=d.curves,B=(u=d.container).styles,Q=0,O=u.textNodes,Vt.label=1;case 1:return Q<O.length?[4,this.renderTextNode(O[Q],B)]:[3,4];case 2:Vt.sent(),Vt.label=3;case 3:return Q++,[3,1];case 4:if(!(u instanceof yd))return[3,8];Vt.label=5;case 5:return Vt.trys.push([5,7,,8]),[4,this.context.cache.match(u.src)];case 6:return oe=Vt.sent(),this.renderReplacedElement(u,_,oe),[3,8];case 7:return Vt.sent(),this.context.logger.error("Error loading image "+u.src),[3,8];case 8:if(u instanceof xd&&this.renderReplacedElement(u,_,u.canvas),!(u instanceof Td))return[3,12];Vt.label=9;case 9:return Vt.trys.push([9,11,,12]),[4,this.context.cache.match(u.svg)];case 10:return oe=Vt.sent(),this.renderReplacedElement(u,_,oe),[3,12];case 11:return Vt.sent(),this.context.logger.error("Error loading svg "+u.svg.substring(0,255)),[3,12];case 12:return u instanceof _i&&u.tree?[4,new c(this.context,{scale:this.options.scale,backgroundColor:u.backgroundColor,x:0,y:0,width:u.width,height:u.height}).render(u.tree)]:[3,14];case 13:rt=Vt.sent(),u.width&&u.height&&this.ctx.drawImage(rt,0,0,u.width,u.height,u.bounds.left,u.bounds.top,u.bounds.width,u.bounds.height),Vt.label=14;case 14:if(u instanceof Mo&&(lt=Math.min(u.bounds.width,u.bounds.height),u.type===Sa?u.checked&&(this.ctx.save(),this.path([new qt(u.bounds.left+.39363*lt,u.bounds.top+.79*lt),new qt(u.bounds.left+.16*lt,u.bounds.top+.5549*lt),new qt(u.bounds.left+.27347*lt,u.bounds.top+.44071*lt),new qt(u.bounds.left+.39694*lt,u.bounds.top+.5649*lt),new qt(u.bounds.left+.72983*lt,u.bounds.top+.23*lt),new qt(u.bounds.left+.84*lt,u.bounds.top+.34085*lt),new qt(u.bounds.left+.39363*lt,u.bounds.top+.79*lt)]),this.ctx.fillStyle=MA(Ud),this.ctx.fill(),this.ctx.restore()):u.type===za&&u.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(u.bounds.left+lt/2,u.bounds.top+lt/2,lt/4,0,2*Math.PI,!0),this.ctx.fillStyle=MA(Ud),this.ctx.fill(),this.ctx.restore())),sg(u)&&u.value.length){switch(Bt=this.createFontStyle(B),Dt=this.fontMetrics.getMetrics(ze=Bt[0],Bt[1]).baseline,this.ctx.font=ze,this.ctx.fillStyle=MA(B.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=ag(u.styles.textAlign),we=Ya(u),Gt=0,u.styles.textAlign){case 1:Gt+=we.width/2;break;case 2:Gt+=we.width}Ue=we.add(Gt,0,0,-we.height/2+1),this.ctx.save(),this.path([new qt(we.left,we.top),new qt(we.left+we.width,we.top),new qt(we.left+we.width,we.top+we.height),new qt(we.left,we.top+we.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Eo(u.value,Ue),B.letterSpacing,Dt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!RA(u.styles.display,2048))return[3,20];if(null===u.styles.listStyleImage)return[3,19];if(0!==(ae=u.styles.listStyleImage).type)return[3,18];oe=void 0,Ke=ae.url,Vt.label=15;case 15:return Vt.trys.push([15,17,,18]),[4,this.context.cache.match(Ke)];case 16:return oe=Vt.sent(),this.ctx.drawImage(oe,u.bounds.left-(oe.width+10),u.bounds.top),[3,18];case 17:return Vt.sent(),this.context.logger.error("Error loading list-style-image "+Ke),[3,18];case 18:return[3,20];case 19:d.listValue&&-1!==u.styles.listStyleType&&(ze=this.createFontStyle(B)[0],this.ctx.font=ze,this.ctx.fillStyle=MA(B.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",we=new Ze(u.bounds.left,u.bounds.top+gA(u.styles.paddingTop,u.bounds.width),u.bounds.width,xa(B.lineHeight,B.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Eo(d.listValue,we),B.letterSpacing,xa(B.lineHeight,B.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Vt.label=20;case 20:return[2]}})})},c.prototype.renderStackContent=function(d){return be(this,void 0,void 0,function(){var u,_,B,Q,O,N,X,rt,lt,Bt,Xt,Dt,Gt,Ue;return Ft(this,function(oe){switch(oe.label){case 0:return RA(d.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(d.element)];case 1:oe.sent(),u=0,_=d.negativeZIndex,oe.label=2;case 2:return u<_.length?[4,this.renderStack(_[u])]:[3,5];case 3:oe.sent(),oe.label=4;case 4:return u++,[3,2];case 5:return[4,this.renderNodeContent(d.element)];case 6:oe.sent(),B=0,Q=d.nonInlineLevel,oe.label=7;case 7:return B<Q.length?[4,this.renderNode(Q[B])]:[3,10];case 8:oe.sent(),oe.label=9;case 9:return B++,[3,7];case 10:O=0,N=d.nonPositionedFloats,oe.label=11;case 11:return O<N.length?[4,this.renderStack(N[O])]:[3,14];case 12:oe.sent(),oe.label=13;case 13:return O++,[3,11];case 14:X=0,rt=d.nonPositionedInlineLevel,oe.label=15;case 15:return X<rt.length?[4,this.renderStack(rt[X])]:[3,18];case 16:oe.sent(),oe.label=17;case 17:return X++,[3,15];case 18:lt=0,Bt=d.inlineLevel,oe.label=19;case 19:return lt<Bt.length?[4,this.renderNode(Bt[lt])]:[3,22];case 20:oe.sent(),oe.label=21;case 21:return lt++,[3,19];case 22:Xt=0,Dt=d.zeroOrAutoZIndexOrTransformedOrOpacity,oe.label=23;case 23:return Xt<Dt.length?[4,this.renderStack(Dt[Xt])]:[3,26];case 24:oe.sent(),oe.label=25;case 25:return Xt++,[3,23];case 26:Gt=0,Ue=d.positiveZIndex,oe.label=27;case 27:return Gt<Ue.length?[4,this.renderStack(Ue[Gt])]:[3,30];case 28:oe.sent(),oe.label=29;case 29:return Gt++,[3,27];case 30:return[2]}})})},c.prototype.mask=function(d){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(d.slice(0).reverse()),this.ctx.closePath()},c.prototype.path=function(d){this.ctx.beginPath(),this.formatPath(d),this.ctx.closePath()},c.prototype.formatPath=function(d){var u=this;d.forEach(function(_,B){var Q=jn(_)?_.start:_;0===B?u.ctx.moveTo(Q.x,Q.y):u.ctx.lineTo(Q.x,Q.y),jn(_)&&u.ctx.bezierCurveTo(_.startControl.x,_.startControl.y,_.endControl.x,_.endControl.y,_.end.x,_.end.y)})},c.prototype.renderRepeat=function(d,u,_,B){this.path(d),this.ctx.fillStyle=u,this.ctx.translate(_,B),this.ctx.fill(),this.ctx.translate(-_,-B)},c.prototype.resizeImage=function(d,u,_){var B;if(d.width===u&&d.height===_)return d;var O=(null!==(B=this.canvas.ownerDocument)&&void 0!==B?B:document).createElement("canvas");return O.width=Math.max(1,u),O.height=Math.max(1,_),O.getContext("2d").drawImage(d,0,0,d.width,d.height,0,0,u,_),O},c.prototype.renderBackgroundImage=function(d){return be(this,void 0,void 0,function(){var u,_,B,Q,O;return Ft(this,function(X){switch(X.label){case 0:u=d.styles.backgroundImage.length-1,_=function(rt){var lt,Bt,Xt,Dt,Gt,Ue,ae,oe,Ke,ze,we,Vt,De,Oe,Be,NA,Bn,zn,iA,on,Bi,bn,yn,ns,Cr,bi,Br,rs,Dr,is,Hr;return Ft(this,function(js){switch(js.label){case 0:if(0!==rt.type)return[3,5];lt=void 0,Bt=rt.url,js.label=1;case 1:return js.trys.push([1,3,,4]),[4,B.context.cache.match(Bt)];case 2:return lt=js.sent(),[3,4];case 3:return js.sent(),B.context.logger.error("Error loading background-image "+Bt),[3,4];case 4:return lt&&(Xt=qa(d,u,[lt.width,lt.height,lt.width/lt.height]),NA=Xt[0],bn=Xt[1],yn=Xt[2],Oe=B.ctx.createPattern(B.resizeImage(lt,iA=Xt[3],on=Xt[4]),"repeat"),B.renderRepeat(NA,Oe,bn,yn)),[3,6];case 5:!function(l){return 1===l.type}(rt)?function(l){return 2===l.type}(rt)&&(Be=qa(d,u,[null,null,null]),NA=Be[0],Bn=Be[1],zn=Be[2],on=Be[4],bn=gA((Bi=0===rt.position.length?[Nu]:rt.position)[0],iA=Be[3]),yn=gA(Bi[Bi.length-1],on),ns=function(l,c,d,u,_){var B=0,Q=0;switch(l.size){case 0:0===l.shape?B=Q=Math.min(Math.abs(c),Math.abs(c-u),Math.abs(d),Math.abs(d-_)):1===l.shape&&(B=Math.min(Math.abs(c),Math.abs(c-u)),Q=Math.min(Math.abs(d),Math.abs(d-_)));break;case 2:if(0===l.shape)B=Q=Math.min(Pn(c,d),Pn(c,d-_),Pn(c-u,d),Pn(c-u,d-_));else if(1===l.shape){var O=Math.min(Math.abs(d),Math.abs(d-_))/Math.min(Math.abs(c),Math.abs(c-u)),N=Hi(u,_,c,d,!0);Q=O*(B=Pn(N[0]-c,(N[1]-d)/O))}break;case 1:0===l.shape?B=Q=Math.max(Math.abs(c),Math.abs(c-u),Math.abs(d),Math.abs(d-_)):1===l.shape&&(B=Math.max(Math.abs(c),Math.abs(c-u)),Q=Math.max(Math.abs(d),Math.abs(d-_)));break;case 3:if(0===l.shape)B=Q=Math.max(Pn(c,d),Pn(c,d-_),Pn(c-u,d),Pn(c-u,d-_));else if(1===l.shape){O=Math.max(Math.abs(d),Math.abs(d-_))/Math.max(Math.abs(c),Math.abs(c-u));var lt=Hi(u,_,c,d,!1);Q=O*(B=Pn(lt[0]-c,(lt[1]-d)/O))}}return Array.isArray(l.size)&&(B=gA(l.size[0],u),Q=2===l.size.length?gA(l.size[1],_):B),[B,Q]}(rt,bn,yn,iA,on),bi=ns[1],(Cr=ns[0])>0&&bi>0&&(Br=B.ctx.createRadialGradient(Bn+bn,zn+yn,0,Bn+bn,zn+yn,Cr),Pu(rt.stops,2*Cr).forEach(function(Ho){return Br.addColorStop(Ho.stop,MA(Ho.color))}),B.path(NA),B.ctx.fillStyle=Br,Cr!==bi?(rs=d.bounds.left+.5*d.bounds.width,Dr=d.bounds.top+.5*d.bounds.height,Hr=1/(is=bi/Cr),B.ctx.save(),B.ctx.translate(rs,Dr),B.ctx.transform(1,0,0,is,0,0),B.ctx.translate(-rs,-Dr),B.ctx.fillRect(Bn,Hr*(zn-Dr)+Dr,iA,on*Hr),B.ctx.restore()):B.ctx.fill())):(Dt=qa(d,u,[null,null,null]),NA=Dt[0],bn=Dt[1],yn=Dt[2],Gt=Jc(rt.angle,iA=Dt[3],on=Dt[4]),Ue=Gt[0],ae=Gt[1],oe=Gt[2],Ke=Gt[3],ze=Gt[4],(we=document.createElement("canvas")).width=iA,we.height=on,Vt=we.getContext("2d"),De=Vt.createLinearGradient(ae,Ke,oe,ze),Pu(rt.stops,Ue).forEach(function(Ho){return De.addColorStop(Ho.stop,MA(Ho.color))}),Vt.fillStyle=De,Vt.fillRect(0,0,iA,on),iA>0&&on>0&&(Oe=B.ctx.createPattern(we,"repeat"),B.renderRepeat(NA,Oe,bn,yn))),js.label=6;case 6:return u--,[2]}})},B=this,Q=0,O=d.styles.backgroundImage.slice(0).reverse(),X.label=1;case 1:return Q<O.length?[5,_(O[Q])]:[3,4];case 2:X.sent(),X.label=3;case 3:return Q++,[3,1];case 4:return[2]}})})},c.prototype.renderSolidBorder=function(d,u,_){return be(this,void 0,void 0,function(){return Ft(this,function(B){return this.path(Vd(_,u)),this.ctx.fillStyle=MA(d),this.ctx.fill(),[2]})})},c.prototype.renderDoubleBorder=function(d,u,_,B){return be(this,void 0,void 0,function(){var Q,O;return Ft(this,function(N){switch(N.label){case 0:return u<3?[4,this.renderSolidBorder(d,_,B)]:[3,2];case 1:return N.sent(),[2];case 2:return Q=function(l,c){switch(c){case 0:return Rn(l.topLeftBorderBox,l.topLeftBorderDoubleOuterBox,l.topRightBorderBox,l.topRightBorderDoubleOuterBox);case 1:return Rn(l.topRightBorderBox,l.topRightBorderDoubleOuterBox,l.bottomRightBorderBox,l.bottomRightBorderDoubleOuterBox);case 2:return Rn(l.bottomRightBorderBox,l.bottomRightBorderDoubleOuterBox,l.bottomLeftBorderBox,l.bottomLeftBorderDoubleOuterBox);default:return Rn(l.bottomLeftBorderBox,l.bottomLeftBorderDoubleOuterBox,l.topLeftBorderBox,l.topLeftBorderDoubleOuterBox)}}(B,_),this.path(Q),this.ctx.fillStyle=MA(d),this.ctx.fill(),O=function(l,c){switch(c){case 0:return Rn(l.topLeftBorderDoubleInnerBox,l.topLeftPaddingBox,l.topRightBorderDoubleInnerBox,l.topRightPaddingBox);case 1:return Rn(l.topRightBorderDoubleInnerBox,l.topRightPaddingBox,l.bottomRightBorderDoubleInnerBox,l.bottomRightPaddingBox);case 2:return Rn(l.bottomRightBorderDoubleInnerBox,l.bottomRightPaddingBox,l.bottomLeftBorderDoubleInnerBox,l.bottomLeftPaddingBox);default:return Rn(l.bottomLeftBorderDoubleInnerBox,l.bottomLeftPaddingBox,l.topLeftBorderDoubleInnerBox,l.topLeftPaddingBox)}}(B,_),this.path(O),this.ctx.fill(),[2]}})})},c.prototype.renderNodeBackgroundAndBorders=function(d){return be(this,void 0,void 0,function(){var u,_,B,Q,O,N,X,rt,lt=this;return Ft(this,function(Bt){switch(Bt.label){case 0:return this.applyEffects(d.getEffects(2)),_=!Lr((u=d.container.styles).backgroundColor)||u.backgroundImage.length,B=[{style:u.borderTopStyle,color:u.borderTopColor,width:u.borderTopWidth},{style:u.borderRightStyle,color:u.borderRightColor,width:u.borderRightWidth},{style:u.borderBottomStyle,color:u.borderBottomColor,width:u.borderBottomWidth},{style:u.borderLeftStyle,color:u.borderLeftColor,width:u.borderLeftWidth}],Q=og(Zs(u.backgroundClip,0),d.curves),_||u.boxShadow.length?(this.ctx.save(),this.path(Q),this.ctx.clip(),Lr(u.backgroundColor)||(this.ctx.fillStyle=MA(u.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(d.container)]):[3,2];case 1:Bt.sent(),this.ctx.restore(),u.boxShadow.slice(0).reverse().forEach(function(Xt){lt.ctx.save();var Dt=Ra(d.curves),Gt=Xt.inset?0:1e4,Ue=function(l,c,d,u,_){return l.map(function(B,Q){switch(Q){case 0:return B.add(c,d);case 1:return B.add(c+u,d);case 2:return B.add(c+u,d+_);case 3:return B.add(c,d+_)}return B})}(Dt,(Xt.inset?1:-1)*Xt.spread.number-Gt,(Xt.inset?1:-1)*Xt.spread.number,Xt.spread.number*(Xt.inset?-2:2),Xt.spread.number*(Xt.inset?-2:2));Xt.inset?(lt.path(Dt),lt.ctx.clip(),lt.mask(Ue)):(lt.mask(Dt),lt.ctx.clip(),lt.path(Ue)),lt.ctx.shadowOffsetX=Xt.offsetX.number+Gt,lt.ctx.shadowOffsetY=Xt.offsetY.number,lt.ctx.shadowColor=MA(Xt.color),lt.ctx.shadowBlur=Xt.blur.number,lt.ctx.fillStyle=Xt.inset?MA(Xt.color):"rgba(0,0,0,1)",lt.ctx.fill(),lt.ctx.restore()}),Bt.label=2;case 2:O=0,N=0,X=B,Bt.label=3;case 3:return N<X.length?0!==(rt=X[N]).style&&!Lr(rt.color)&&rt.width>0?2!==rt.style?[3,5]:[4,this.renderDashedDottedBorder(rt.color,rt.width,O,d.curves,2)]:[3,11]:[3,13];case 4:return Bt.sent(),[3,11];case 5:return 3!==rt.style?[3,7]:[4,this.renderDashedDottedBorder(rt.color,rt.width,O,d.curves,3)];case 6:return Bt.sent(),[3,11];case 7:return 4!==rt.style?[3,9]:[4,this.renderDoubleBorder(rt.color,rt.width,O,d.curves)];case 8:return Bt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(rt.color,O,d.curves)];case 10:Bt.sent(),Bt.label=11;case 11:O++,Bt.label=12;case 12:return N++,[3,3];case 13:return[2]}})})},c.prototype.renderDashedDottedBorder=function(d,u,_,B,Q){return be(this,void 0,void 0,function(){var O,N,X,rt,lt,Bt,Xt,Dt,Gt,Ue,ae,oe,Ke,ze,we,Vt;return Ft(this,function(De){return this.ctx.save(),O=function(l,c){switch(c){case 0:return Ja(l.topLeftBorderStroke,l.topRightBorderStroke);case 1:return Ja(l.topRightBorderStroke,l.bottomRightBorderStroke);case 2:return Ja(l.bottomRightBorderStroke,l.bottomLeftBorderStroke);default:return Ja(l.bottomLeftBorderStroke,l.topLeftBorderStroke)}}(B,_),N=Vd(B,_),2===Q&&(this.path(N),this.ctx.clip()),jn(N[0])?(X=N[0].start.x,rt=N[0].start.y):(X=N[0].x,rt=N[0].y),jn(N[1])?(lt=N[1].end.x,Bt=N[1].end.y):(lt=N[1].x,Bt=N[1].y),Xt=0===_||2===_?Math.abs(X-lt):Math.abs(rt-Bt),this.ctx.beginPath(),this.formatPath(3===Q?O:N.slice(0,2)),Dt=u<3?3*u:2*u,Gt=u<3?2*u:u,3===Q&&(Dt=u,Gt=u),Ue=!0,Xt<=2*Dt?Ue=!1:Xt<=2*Dt+Gt?(Dt*=ae=Xt/(2*Dt+Gt),Gt*=ae):(oe=Math.floor((Xt+Gt)/(Dt+Gt)),Ke=(Xt-oe*Dt)/(oe-1),Gt=(ze=(Xt-(oe+1)*Dt)/oe)<=0||Math.abs(Gt-Ke)<Math.abs(Gt-ze)?Ke:ze),Ue&&this.ctx.setLineDash(3===Q?[0,Dt+Gt]:[Dt,Gt]),3===Q?(this.ctx.lineCap="round",this.ctx.lineWidth=u):this.ctx.lineWidth=2*u+1.1,this.ctx.strokeStyle=MA(d),this.ctx.stroke(),this.ctx.setLineDash([]),2===Q&&(jn(N[0])&&(we=N[3],Vt=N[0],this.ctx.beginPath(),this.formatPath([new qt(we.end.x,we.end.y),new qt(Vt.start.x,Vt.start.y)]),this.ctx.stroke()),jn(N[1])&&(we=N[1],Vt=N[2],this.ctx.beginPath(),this.formatPath([new qt(we.end.x,we.end.y),new qt(Vt.start.x,Vt.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},c.prototype.render=function(d){return be(this,void 0,void 0,function(){var u;return Ft(this,function(_){switch(_.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=MA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),u=function(l){var c=new Yd(l,null),d=new Jd(c),u=[];return xl(c,d,d,u),qd(c.container,u),d}(d),[4,this.renderStack(u)];case 1:return _.sent(),this.applyEffects([]),[2,this.canvas]}})})},c}($d),sg=function(l){return l instanceof Sd||l instanceof Id||l instanceof Mo&&l.type!==za&&l.type!==Sa},og=function(l,c){switch(l){case 0:return Ra(c);case 2:return function(l){return[l.topLeftContentBox,l.topRightContentBox,l.bottomRightContentBox,l.bottomLeftContentBox]}(c);default:return Ka(c)}},ag=function(l){switch(l){case 1:return"center";case 2:return"right";default:return"left"}},cg=["-apple-system","system-ui"],lg=function(l){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?l.filter(function(c){return-1===cg.indexOf(c)}):l},ug=function(l){function c(d,u){var _=l.call(this,d,u)||this;return _.canvas=u.canvas?u.canvas:document.createElement("canvas"),_.ctx=_.canvas.getContext("2d"),_.options=u,_.canvas.width=Math.floor(u.width*u.scale),_.canvas.height=Math.floor(u.height*u.scale),_.canvas.style.width=u.width+"px",_.canvas.style.height=u.height+"px",_.ctx.scale(_.options.scale,_.options.scale),_.ctx.translate(-u.x,-u.y),_.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+u.width+"x"+u.height+" at "+u.x+","+u.y+") with scale "+u.scale),_}return ot(c,l),c.prototype.render=function(d){return be(this,void 0,void 0,function(){var u,_;return Ft(this,function(B){switch(B.label){case 0:return u=hl(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,d),[4,dg(u)];case 1:return _=B.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=MA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(_,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},c}($d),dg=function(l){return new Promise(function(c,d){var u=new Image;u.onload=function(){c(u)},u.onerror=d,u.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(l))})},hg=function(){function l(c){var u=c.enabled;this.id=c.id,this.enabled=u,this.start=Date.now()}return l.prototype.debug=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,t([this.id,this.getTime()+"ms"],c)):this.info.apply(this,c))},l.prototype.getTime=function(){return Date.now()-this.start},l.prototype.info=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,t([this.id,this.getTime()+"ms"],c))},l.prototype.warn=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,t([this.id,this.getTime()+"ms"],c)):this.info.apply(this,c))},l.prototype.error=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,t([this.id,this.getTime()+"ms"],c)):this.info.apply(this,c))},l.instances={},l}(),pg=function(){function l(c,d){var u;this.windowBounds=d,this.instanceName="#"+l.instanceCount++,this.logger=new hg({id:this.instanceName,enabled:c.logging}),this.cache=null!==(u=c.cache)&&void 0!==u?u:new Ef(this,c)}return l.instanceCount=1,l}();typeof window<"u"&&Rd.setContext(window);var gg=function(l,c){return be(void 0,void 0,void 0,function(){var d,u,_,B,Q,O,N,X,rt,lt,Bt,Xt,Dt,Gt,Ue,ae,oe,Ke,ze,we,Vt,Oe,Be,NA,Bn,zn,iA,on,Bi,bn,yn,ns,Cr,bi,Br,rs,Dr,is;return Ft(this,function(Hr){switch(Hr.label){case 0:if(!l||"object"!=typeof l)return[2,Promise.reject("Invalid element provided as first argument")];if(!(d=l.ownerDocument))throw new Error("Element is not attached to a Document");if(!(u=d.defaultView))throw new Error("Document is not attached to a Window");return _={allowTaint:null!==(Oe=c.allowTaint)&&void 0!==Oe&&Oe,imageTimeout:null!==(Be=c.imageTimeout)&&void 0!==Be?Be:15e3,proxy:c.proxy,useCORS:null!==(NA=c.useCORS)&&void 0!==NA&&NA},B=Ot({logging:null===(Bn=c.logging)||void 0===Bn||Bn,cache:c.cache},_),Q={windowWidth:null!==(zn=c.windowWidth)&&void 0!==zn?zn:u.innerWidth,windowHeight:null!==(iA=c.windowHeight)&&void 0!==iA?iA:u.innerHeight,scrollX:null!==(on=c.scrollX)&&void 0!==on?on:u.pageXOffset,scrollY:null!==(Bi=c.scrollY)&&void 0!==Bi?Bi:u.pageYOffset},O=new Ze(Q.scrollX,Q.scrollY,Q.windowWidth,Q.windowHeight),N=new pg(B,O),X=null!==(bn=c.foreignObjectRendering)&&void 0!==bn&&bn,rt={allowTaint:null!==(yn=c.allowTaint)&&void 0!==yn&&yn,onclone:c.onclone,ignoreElements:c.ignoreElements,inlineImages:X,copyStyles:X},N.logger.debug("Starting document clone with size "+O.width+"x"+O.height+" scrolled to "+-O.left+","+-O.top),lt=new Hd(N,l,rt),(Bt=lt.clonedReferenceElement)?[4,lt.toIFrame(d,O)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Xt=Hr.sent(),Dt=vl(Bt)||function(l){return"HTML"===l.tagName}(Bt)?function(l){var c=l.body,d=l.documentElement;if(!c||!d)throw new Error("Unable to get document size");var u=Math.max(Math.max(c.scrollWidth,d.scrollWidth),Math.max(c.offsetWidth,d.offsetWidth),Math.max(c.clientWidth,d.clientWidth)),_=Math.max(Math.max(c.scrollHeight,d.scrollHeight),Math.max(c.offsetHeight,d.offsetHeight),Math.max(c.clientHeight,d.clientHeight));return new Ze(0,0,u,_)}(Bt.ownerDocument):cr(N,Bt),Gt=Dt.width,Ue=Dt.height,ae=Dt.left,oe=Dt.top,Ke=mg(N,Bt,c.backgroundColor),ze={canvas:c.canvas,backgroundColor:Ke,scale:null!==(Cr=null!==(ns=c.scale)&&void 0!==ns?ns:u.devicePixelRatio)&&void 0!==Cr?Cr:1,x:(null!==(bi=c.x)&&void 0!==bi?bi:0)+ae,y:(null!==(Br=c.y)&&void 0!==Br?Br:0)+oe,width:null!==(rs=c.width)&&void 0!==rs?rs:Math.ceil(Gt),height:null!==(Dr=c.height)&&void 0!==Dr?Dr:Math.ceil(Ue)},X?(N.logger.debug("Document cloned, using foreign object rendering"),[4,new ug(N,ze).render(Bt)]):[3,3];case 2:return we=Hr.sent(),[3,5];case 3:return N.logger.debug("Document cloned, element located at "+ae+","+oe+" with size "+Gt+"x"+Ue+" using computed rendering"),N.logger.debug("Starting DOM parsing"),Vt=Vi(N,Bt),Ke===Vt.styles.backgroundColor&&(Vt.styles.backgroundColor=gr.TRANSPARENT),N.logger.debug("Starting renderer for element at "+ze.x+","+ze.y+" with size "+ze.width+"x"+ze.height),[4,new th(N,ze).render(Vt)];case 4:we=Hr.sent(),Hr.label=5;case 5:return(!(null!==(is=c.removeContainer)&&void 0!==is)||is)&&(Hd.destroy(Xt)||N.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),N.logger.debug("Finished rendering"),[2,we]}})})},mg=function(l,c,d){var u=c.ownerDocument,_=u.documentElement?ko(l,getComputedStyle(u.documentElement).backgroundColor):gr.TRANSPARENT,B=u.body?ko(l,getComputedStyle(u.body).backgroundColor):gr.TRANSPARENT,Q="string"==typeof d?ko(l,d):null===d?gr.TRANSPARENT:4294967295;return c===u.documentElement?Lr(_)?Lr(B)?Q:B:_:Q};return function(l,c){return void 0===c&&(c={}),gg(l,c)}}()}}]);